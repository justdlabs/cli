#!/usr/bin/env node
import{createRequire as l7}from"node:module";var w7=Object.create;var{getPrototypeOf:V7,defineProperty:MC,getOwnPropertyNames:v7}=Object;var m7=Object.prototype.hasOwnProperty;var ET=(T,R,A)=>{A=T!=null?w7(V7(T)):{};let q=R||!T||!T.__esModule?MC(A,"default",{value:T,enumerable:!0}):A;for(let _ of v7(T))if(!m7.call(q,_))MC(q,_,{get:()=>T[_],enumerable:!0});return q};var TT=(T,R)=>()=>(R||T((R={exports:{}}).exports,R),R.exports);var G=l7(import.meta.url);var AA=TT((o7)=>{class W_ extends Error{constructor(T,R,A){super(A);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=R,this.exitCode=T,this.nestedError=void 0}}class SC extends W_{constructor(T){super(1,"commander.invalidArgument",T);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}o7.CommanderError=W_;o7.InvalidArgumentError=SC});var pA=TT((s7)=>{var{InvalidArgumentError:p7}=AA();class cC{constructor(T,R){switch(this.description=R||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,T[0]){case"<":this.required=!0,this._name=T.slice(1,-1);break;case"[":this.required=!1,this._name=T.slice(1,-1);break;default:this.required=!0,this._name=T;break}if(this._name.length>3&&this._name.slice(-3)==="...")this.variadic=!0,this._name=this._name.slice(0,-3)}name(){return this._name}_concatValue(T,R){if(R===this.defaultValue||!Array.isArray(R))return[T];return R.concat(T)}default(T,R){return this.defaultValue=T,this.defaultValueDescription=R,this}argParser(T){return this.parseArg=T,this}choices(T){return this.argChoices=T.slice(),this.parseArg=(R,A)=>{if(!this.argChoices.includes(R))throw new p7(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(R,A);return R},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function n7(T){let R=T.name()+(T.variadic===!0?"...":"");return T.required?"<"+R+">":"["+R+"]"}s7.Argument=cC;s7.humanReadableArgName=n7});var H_=TT((R4)=>{var{humanReadableArgName:T4}=pA();class PC{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(T){this.helpWidth=this.helpWidth??T.helpWidth??80}visibleCommands(T){let R=T.commands.filter((q)=>!q._hidden),A=T._getHelpCommand();if(A&&!A._hidden)R.push(A);if(this.sortSubcommands)R.sort((q,_)=>{return q.name().localeCompare(_.name())});return R}compareOptions(T,R){let A=(q)=>{return q.short?q.short.replace(/^-/,""):q.long.replace(/^--/,"")};return A(T).localeCompare(A(R))}visibleOptions(T){let R=T.options.filter((q)=>!q.hidden),A=T._getHelpOption();if(A&&!A.hidden){let q=A.short&&T._findOption(A.short),_=A.long&&T._findOption(A.long);if(!q&&!_)R.push(A);else if(A.long&&!_)R.push(T.createOption(A.long,A.description));else if(A.short&&!q)R.push(T.createOption(A.short,A.description))}if(this.sortOptions)R.sort(this.compareOptions);return R}visibleGlobalOptions(T){if(!this.showGlobalOptions)return[];let R=[];for(let A=T.parent;A;A=A.parent){let q=A.options.filter((_)=>!_.hidden);R.push(...q)}if(this.sortOptions)R.sort(this.compareOptions);return R}visibleArguments(T){if(T._argsDescription)T.registeredArguments.forEach((R)=>{R.description=R.description||T._argsDescription[R.name()]||""});if(T.registeredArguments.find((R)=>R.description))return T.registeredArguments;return[]}subcommandTerm(T){let R=T.registeredArguments.map((A)=>T4(A)).join(" ");return T._name+(T._aliases[0]?"|"+T._aliases[0]:"")+(T.options.length?" [options]":"")+(R?" "+R:"")}optionTerm(T){return T.flags}argumentTerm(T){return T.name()}longestSubcommandTermLength(T,R){return R.visibleCommands(T).reduce((A,q)=>{return Math.max(A,this.displayWidth(R.styleSubcommandTerm(R.subcommandTerm(q))))},0)}longestOptionTermLength(T,R){return R.visibleOptions(T).reduce((A,q)=>{return Math.max(A,this.displayWidth(R.styleOptionTerm(R.optionTerm(q))))},0)}longestGlobalOptionTermLength(T,R){return R.visibleGlobalOptions(T).reduce((A,q)=>{return Math.max(A,this.displayWidth(R.styleOptionTerm(R.optionTerm(q))))},0)}longestArgumentTermLength(T,R){return R.visibleArguments(T).reduce((A,q)=>{return Math.max(A,this.displayWidth(R.styleArgumentTerm(R.argumentTerm(q))))},0)}commandUsage(T){let R=T._name;if(T._aliases[0])R=R+"|"+T._aliases[0];let A="";for(let q=T.parent;q;q=q.parent)A=q.name()+" "+A;return A+R+" "+T.usage()}commandDescription(T){return T.description()}subcommandDescription(T){return T.summary()||T.description()}optionDescription(T){let R=[];if(T.argChoices)R.push(`choices: ${T.argChoices.map((A)=>JSON.stringify(A)).join(", ")}`);if(T.defaultValue!==void 0){if(T.required||T.optional||T.isBoolean()&&typeof T.defaultValue==="boolean")R.push(`default: ${T.defaultValueDescription||JSON.stringify(T.defaultValue)}`)}if(T.presetArg!==void 0&&T.optional)R.push(`preset: ${JSON.stringify(T.presetArg)}`);if(T.envVar!==void 0)R.push(`env: ${T.envVar}`);if(R.length>0)return`${T.description} (${R.join(", ")})`;return T.description}argumentDescription(T){let R=[];if(T.argChoices)R.push(`choices: ${T.argChoices.map((A)=>JSON.stringify(A)).join(", ")}`);if(T.defaultValue!==void 0)R.push(`default: ${T.defaultValueDescription||JSON.stringify(T.defaultValue)}`);if(R.length>0){let A=`(${R.join(", ")})`;if(T.description)return`${T.description} ${A}`;return A}return T.description}formatHelp(T,R){let A=R.padWidth(T,R),q=R.helpWidth??80;function _(W,H){return R.formatItem(W,A,H,R)}let h=[`${R.styleTitle("Usage:")} ${R.styleUsage(R.commandUsage(T))}`,""],B=R.commandDescription(T);if(B.length>0)h=h.concat([R.boxWrap(R.styleCommandDescription(B),q),""]);let C=R.visibleArguments(T).map((W)=>{return _(R.styleArgumentTerm(R.argumentTerm(W)),R.styleArgumentDescription(R.argumentDescription(W)))});if(C.length>0)h=h.concat([R.styleTitle("Arguments:"),...C,""]);let O=R.visibleOptions(T).map((W)=>{return _(R.styleOptionTerm(R.optionTerm(W)),R.styleOptionDescription(R.optionDescription(W)))});if(O.length>0)h=h.concat([R.styleTitle("Options:"),...O,""]);if(R.showGlobalOptions){let W=R.visibleGlobalOptions(T).map((H)=>{return _(R.styleOptionTerm(R.optionTerm(H)),R.styleOptionDescription(R.optionDescription(H)))});if(W.length>0)h=h.concat([R.styleTitle("Global Options:"),...W,""])}let D=R.visibleCommands(T).map((W)=>{return _(R.styleSubcommandTerm(R.subcommandTerm(W)),R.styleSubcommandDescription(R.subcommandDescription(W)))});if(D.length>0)h=h.concat([R.styleTitle("Commands:"),...D,""]);return h.join(`
`)}displayWidth(T){return YC(T).length}styleTitle(T){return T}styleUsage(T){return T.split(" ").map((R)=>{if(R==="[options]")return this.styleOptionText(R);if(R==="[command]")return this.styleSubcommandText(R);if(R[0]==="["||R[0]==="<")return this.styleArgumentText(R);return this.styleCommandText(R)}).join(" ")}styleCommandDescription(T){return this.styleDescriptionText(T)}styleOptionDescription(T){return this.styleDescriptionText(T)}styleSubcommandDescription(T){return this.styleDescriptionText(T)}styleArgumentDescription(T){return this.styleDescriptionText(T)}styleDescriptionText(T){return T}styleOptionTerm(T){return this.styleOptionText(T)}styleSubcommandTerm(T){return T.split(" ").map((R)=>{if(R==="[options]")return this.styleOptionText(R);if(R[0]==="["||R[0]==="<")return this.styleArgumentText(R);return this.styleSubcommandText(R)}).join(" ")}styleArgumentTerm(T){return this.styleArgumentText(T)}styleOptionText(T){return T}styleArgumentText(T){return T}styleSubcommandText(T){return T}styleCommandText(T){return T}padWidth(T,R){return Math.max(R.longestOptionTermLength(T,R),R.longestGlobalOptionTermLength(T,R),R.longestSubcommandTermLength(T,R),R.longestArgumentTermLength(T,R))}preformatted(T){return/\n[^\S\r\n]/.test(T)}formatItem(T,R,A,q){let h=" ".repeat(2);if(!A)return h+T;let B=T.padEnd(R+T.length-q.displayWidth(T)),C=2,D=(this.helpWidth??80)-R-C-2,W;if(D<this.minWidthToWrap||q.preformatted(A))W=A;else W=q.boxWrap(A,D).replace(/\n/g,`
`+" ".repeat(R+C));return h+B+" ".repeat(C)+W.replace(/\n/g,`
${h}`)}boxWrap(T,R){if(R<this.minWidthToWrap)return T;let A=T.split(/\r\n|\n/),q=/[\s]*[^\s]+/g,_=[];return A.forEach((h)=>{let B=h.match(q);if(B===null){_.push("");return}let C=[B.shift()],O=this.displayWidth(C[0]);B.forEach((D)=>{let W=this.displayWidth(D);if(O+W<=R){C.push(D),O+=W;return}_.push(C.join(""));let H=D.trimStart();C=[H],O=this.displayWidth(H)}),_.push(C.join(""))}),_.join(`
`)}}function YC(T){let R=/\x1b\[\d*(;\d*)*m/g;return T.replace(R,"")}R4.Help=PC;R4.stripColor=YC});var J_=TT((B4)=>{var{InvalidArgumentError:_4}=AA();class VC{constructor(T,R){this.flags=T,this.description=R||"",this.required=T.includes("<"),this.optional=T.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(T),this.mandatory=!1;let A=h4(T);if(this.short=A.shortFlag,this.long=A.longFlag,this.negate=!1,this.long)this.negate=this.long.startsWith("--no-");this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(T,R){return this.defaultValue=T,this.defaultValueDescription=R,this}preset(T){return this.presetArg=T,this}conflicts(T){return this.conflictsWith=this.conflictsWith.concat(T),this}implies(T){let R=T;if(typeof T==="string")R={[T]:!0};return this.implied=Object.assign(this.implied||{},R),this}env(T){return this.envVar=T,this}argParser(T){return this.parseArg=T,this}makeOptionMandatory(T=!0){return this.mandatory=!!T,this}hideHelp(T=!0){return this.hidden=!!T,this}_concatValue(T,R){if(R===this.defaultValue||!Array.isArray(R))return[T];return R.concat(T)}choices(T){return this.argChoices=T.slice(),this.parseArg=(R,A)=>{if(!this.argChoices.includes(R))throw new _4(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(R,A);return R},this}name(){if(this.long)return this.long.replace(/^--/,"");return this.short.replace(/^-/,"")}attributeName(){if(this.negate)return wC(this.name().replace(/^no-/,""));return wC(this.name())}is(T){return this.short===T||this.long===T}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class vC{constructor(T){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,T.forEach((R)=>{if(R.negate)this.negativeOptions.set(R.attributeName(),R);else this.positiveOptions.set(R.attributeName(),R)}),this.negativeOptions.forEach((R,A)=>{if(this.positiveOptions.has(A))this.dualOptions.add(A)})}valueFromOption(T,R){let A=R.attributeName();if(!this.dualOptions.has(A))return!0;let q=this.negativeOptions.get(A).presetArg,_=q!==void 0?q:!1;return R.negate===(_===T)}}function wC(T){return T.split("-").reduce((R,A)=>{return R+A[0].toUpperCase()+A.slice(1)})}function h4(T){let R,A,q=/^-[^-]$/,_=/^--[^-]/,h=T.split(/[ |,]+/).concat("guard");if(q.test(h[0]))R=h.shift();if(_.test(h[0]))A=h.shift();if(/^-[^-][^-]/.test(h[0]))throw new Error(`invalid Option flags, short option is dash and single character: '${T}'`);if(R&&q.test(h[0]))throw new Error(`invalid Option flags, more than one short flag: '${T}'`);if(A&&_.test(h[0]))throw new Error(`invalid Option flags, more than one long flag: '${T}'`);if(!(R||A)||h[0].startsWith("-"))throw new Error(`invalid Option flags: '${T}'`);return{shortFlag:R,longFlag:A}}B4.Option=VC;B4.DualOptions=vC});var mC=TT((H4)=>{function O4(T,R){if(Math.abs(T.length-R.length)>3)return Math.max(T.length,R.length);let A=[];for(let q=0;q<=T.length;q++)A[q]=[q];for(let q=0;q<=R.length;q++)A[0][q]=q;for(let q=1;q<=R.length;q++)for(let _=1;_<=T.length;_++){let h=1;if(T[_-1]===R[q-1])h=0;else h=1;if(A[_][q]=Math.min(A[_-1][q]+1,A[_][q-1]+1,A[_-1][q-1]+h),_>1&&q>1&&T[_-1]===R[q-2]&&T[_-2]===R[q-1])A[_][q]=Math.min(A[_][q],A[_-2][q-2]+1)}return A[T.length][R.length]}function W4(T,R){if(!R||R.length===0)return"";R=Array.from(new Set(R));let A=T.startsWith("--");if(A)T=T.slice(2),R=R.map((B)=>B.slice(2));let q=[],_=3,h=0.4;if(R.forEach((B)=>{if(B.length<=1)return;let C=O4(T,B),O=Math.max(T.length,B.length);if((O-C)/O>h){if(C<_)_=C,q=[B];else if(C===_)q.push(B)}}),q.sort((B,C)=>B.localeCompare(C)),A)q=q.map((B)=>`--${B}`);if(q.length>1)return`
(Did you mean one of ${q.join(", ")}?)`;if(q.length===1)return`
(Did you mean ${q[0]}?)`;return""}H4.suggestSimilar=W4});var rC=TT((j4)=>{var i4=G("node:events").EventEmitter,i_=G("node:child_process"),OR=G("node:path"),nA=G("node:fs"),d=G("node:process"),{Argument:y4,humanReadableArgName:$4}=pA(),{CommanderError:y_}=AA(),{Help:I4,stripColor:E4}=H_(),{Option:lC,DualOptions:F4}=J_(),{suggestSimilar:oC}=mC();class I_ extends i4{constructor(T){super();this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=T||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:(R)=>d.stdout.write(R),writeErr:(R)=>d.stderr.write(R),outputError:(R,A)=>A(R),getOutHelpWidth:()=>d.stdout.isTTY?d.stdout.columns:void 0,getErrHelpWidth:()=>d.stderr.isTTY?d.stderr.columns:void 0,getOutHasColors:()=>$_()??(d.stdout.isTTY&&d.stdout.hasColors?.()),getErrHasColors:()=>$_()??(d.stderr.isTTY&&d.stderr.hasColors?.()),stripColor:(R)=>E4(R)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(T){return this._outputConfiguration=T._outputConfiguration,this._helpOption=T._helpOption,this._helpCommand=T._helpCommand,this._helpConfiguration=T._helpConfiguration,this._exitCallback=T._exitCallback,this._storeOptionsAsProperties=T._storeOptionsAsProperties,this._combineFlagAndOptionalValue=T._combineFlagAndOptionalValue,this._allowExcessArguments=T._allowExcessArguments,this._enablePositionalOptions=T._enablePositionalOptions,this._showHelpAfterError=T._showHelpAfterError,this._showSuggestionAfterError=T._showSuggestionAfterError,this}_getCommandAndAncestors(){let T=[];for(let R=this;R;R=R.parent)T.push(R);return T}command(T,R,A){let q=R,_=A;if(typeof q==="object"&&q!==null)_=q,q=null;_=_||{};let[,h,B]=T.match(/([^ ]+) *(.*)/),C=this.createCommand(h);if(q)C.description(q),C._executableHandler=!0;if(_.isDefault)this._defaultCommandName=C._name;if(C._hidden=!!(_.noHelp||_.hidden),C._executableFile=_.executableFile||null,B)C.arguments(B);if(this._registerCommand(C),C.parent=this,C.copyInheritedSettings(this),q)return this;return C}createCommand(T){return new I_(T)}createHelp(){return Object.assign(new I4,this.configureHelp())}configureHelp(T){if(T===void 0)return this._helpConfiguration;return this._helpConfiguration=T,this}configureOutput(T){if(T===void 0)return this._outputConfiguration;return Object.assign(this._outputConfiguration,T),this}showHelpAfterError(T=!0){if(typeof T!=="string")T=!!T;return this._showHelpAfterError=T,this}showSuggestionAfterError(T=!0){return this._showSuggestionAfterError=!!T,this}addCommand(T,R){if(!T._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);if(R=R||{},R.isDefault)this._defaultCommandName=T._name;if(R.noHelp||R.hidden)T._hidden=!0;return this._registerCommand(T),T.parent=this,T._checkForBrokenPassThrough(),this}createArgument(T,R){return new y4(T,R)}argument(T,R,A,q){let _=this.createArgument(T,R);if(typeof A==="function")_.default(q).argParser(A);else _.default(A);return this.addArgument(_),this}arguments(T){return T.trim().split(/ +/).forEach((R)=>{this.argument(R)}),this}addArgument(T){let R=this.registeredArguments.slice(-1)[0];if(R&&R.variadic)throw new Error(`only the last argument can be variadic '${R.name()}'`);if(T.required&&T.defaultValue!==void 0&&T.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${T.name()}'`);return this.registeredArguments.push(T),this}helpCommand(T,R){if(typeof T==="boolean")return this._addImplicitHelpCommand=T,this;T=T??"help [command]";let[,A,q]=T.match(/([^ ]+) *(.*)/),_=R??"display help for command",h=this.createCommand(A);if(h.helpOption(!1),q)h.arguments(q);if(_)h.description(_);return this._addImplicitHelpCommand=!0,this._helpCommand=h,this}addHelpCommand(T,R){if(typeof T!=="object")return this.helpCommand(T,R),this;return this._addImplicitHelpCommand=!0,this._helpCommand=T,this}_getHelpCommand(){if(this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))){if(this._helpCommand===void 0)this.helpCommand(void 0,void 0);return this._helpCommand}return null}hook(T,R){let A=["preSubcommand","preAction","postAction"];if(!A.includes(T))throw new Error(`Unexpected value for event passed to hook : '${T}'.
Expecting one of '${A.join("', '")}'`);if(this._lifeCycleHooks[T])this._lifeCycleHooks[T].push(R);else this._lifeCycleHooks[T]=[R];return this}exitOverride(T){if(T)this._exitCallback=T;else this._exitCallback=(R)=>{if(R.code!=="commander.executeSubCommandAsync")throw R};return this}_exit(T,R,A){if(this._exitCallback)this._exitCallback(new y_(T,R,A));d.exit(T)}action(T){let R=(A)=>{let q=this.registeredArguments.length,_=A.slice(0,q);if(this._storeOptionsAsProperties)_[q]=this;else _[q]=this.opts();return _.push(this),T.apply(this,_)};return this._actionHandler=R,this}createOption(T,R){return new lC(T,R)}_callParseArg(T,R,A,q){try{return T.parseArg(R,A)}catch(_){if(_.code==="commander.invalidArgument"){let h=`${q} ${_.message}`;this.error(h,{exitCode:_.exitCode,code:_.code})}throw _}}_registerOption(T){let R=T.short&&this._findOption(T.short)||T.long&&this._findOption(T.long);if(R){let A=T.long&&this._findOption(T.long)?T.long:T.short;throw new Error(`Cannot add option '${T.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${A}'
-  already used by option '${R.flags}'`)}this.options.push(T)}_registerCommand(T){let R=(q)=>{return[q.name()].concat(q.aliases())},A=R(T).find((q)=>this._findCommand(q));if(A){let q=R(this._findCommand(A)).join("|"),_=R(T).join("|");throw new Error(`cannot add command '${_}' as already have command '${q}'`)}this.commands.push(T)}addOption(T){this._registerOption(T);let R=T.name(),A=T.attributeName();if(T.negate){let _=T.long.replace(/^--no-/,"--");if(!this._findOption(_))this.setOptionValueWithSource(A,T.defaultValue===void 0?!0:T.defaultValue,"default")}else if(T.defaultValue!==void 0)this.setOptionValueWithSource(A,T.defaultValue,"default");let q=(_,h,B)=>{if(_==null&&T.presetArg!==void 0)_=T.presetArg;let C=this.getOptionValue(A);if(_!==null&&T.parseArg)_=this._callParseArg(T,_,C,h);else if(_!==null&&T.variadic)_=T._concatValue(_,C);if(_==null)if(T.negate)_=!1;else if(T.isBoolean()||T.optional)_=!0;else _="";this.setOptionValueWithSource(A,_,B)};if(this.on("option:"+R,(_)=>{let h=`error: option '${T.flags}' argument '${_}' is invalid.`;q(_,h,"cli")}),T.envVar)this.on("optionEnv:"+R,(_)=>{let h=`error: option '${T.flags}' value '${_}' from env '${T.envVar}' is invalid.`;q(_,h,"env")});return this}_optionEx(T,R,A,q,_){if(typeof R==="object"&&R instanceof lC)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let h=this.createOption(R,A);if(h.makeOptionMandatory(!!T.mandatory),typeof q==="function")h.default(_).argParser(q);else if(q instanceof RegExp){let B=q;q=(C,O)=>{let D=B.exec(C);return D?D[0]:O},h.default(_).argParser(q)}else h.default(q);return this.addOption(h)}option(T,R,A,q){return this._optionEx({},T,R,A,q)}requiredOption(T,R,A,q){return this._optionEx({mandatory:!0},T,R,A,q)}combineFlagAndOptionalValue(T=!0){return this._combineFlagAndOptionalValue=!!T,this}allowUnknownOption(T=!0){return this._allowUnknownOption=!!T,this}allowExcessArguments(T=!0){return this._allowExcessArguments=!!T,this}enablePositionalOptions(T=!0){return this._enablePositionalOptions=!!T,this}passThroughOptions(T=!0){return this._passThroughOptions=!!T,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(T=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!T,this}getOptionValue(T){if(this._storeOptionsAsProperties)return this[T];return this._optionValues[T]}setOptionValue(T,R){return this.setOptionValueWithSource(T,R,void 0)}setOptionValueWithSource(T,R,A){if(this._storeOptionsAsProperties)this[T]=R;else this._optionValues[T]=R;return this._optionValueSources[T]=A,this}getOptionValueSource(T){return this._optionValueSources[T]}getOptionValueSourceWithGlobals(T){let R;return this._getCommandAndAncestors().forEach((A)=>{if(A.getOptionValueSource(T)!==void 0)R=A.getOptionValueSource(T)}),R}_prepareUserArgs(T,R){if(T!==void 0&&!Array.isArray(T))throw new Error("first parameter to parse must be array or undefined");if(R=R||{},T===void 0&&R.from===void 0){if(d.versions?.electron)R.from="electron";let q=d.execArgv??[];if(q.includes("-e")||q.includes("--eval")||q.includes("-p")||q.includes("--print"))R.from="eval"}if(T===void 0)T=d.argv;this.rawArgs=T.slice();let A;switch(R.from){case void 0:case"node":this._scriptPath=T[1],A=T.slice(2);break;case"electron":if(d.defaultApp)this._scriptPath=T[1],A=T.slice(2);else A=T.slice(1);break;case"user":A=T.slice(0);break;case"eval":A=T.slice(1);break;default:throw new Error(`unexpected parse option { from: '${R.from}' }`)}if(!this._name&&this._scriptPath)this.nameFromFilename(this._scriptPath);return this._name=this._name||"program",A}parse(T,R){this._prepareForParse();let A=this._prepareUserArgs(T,R);return this._parseCommand([],A),this}async parseAsync(T,R){this._prepareForParse();let A=this._prepareUserArgs(T,R);return await this._parseCommand([],A),this}_prepareForParse(){if(this._savedState===null)this.saveStateBeforeParse();else this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(T,R,A){if(nA.existsSync(T))return;let q=R?`searched for local subcommand relative to directory '${R}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",_=`'${T}' does not exist
 - if '${A}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${q}`;throw new Error(_)}_executeSubCommand(T,R){R=R.slice();let A=!1,q=[".js",".ts",".tsx",".mjs",".cjs"];function _(D,W){let H=OR.resolve(D,W);if(nA.existsSync(H))return H;if(q.includes(OR.extname(W)))return;let J=q.find((i)=>nA.existsSync(`${H}${i}`));if(J)return`${H}${J}`;return}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let h=T._executableFile||`${this._name}-${T._name}`,B=this._executableDir||"";if(this._scriptPath){let D;try{D=nA.realpathSync(this._scriptPath)}catch{D=this._scriptPath}B=OR.resolve(OR.dirname(D),B)}if(B){let D=_(B,h);if(!D&&!T._executableFile&&this._scriptPath){let W=OR.basename(this._scriptPath,OR.extname(this._scriptPath));if(W!==this._name)D=_(B,`${W}-${T._name}`)}h=D||h}A=q.includes(OR.extname(h));let C;if(d.platform!=="win32")if(A)R.unshift(h),R=dC(d.execArgv).concat(R),C=i_.spawn(d.argv[0],R,{stdio:"inherit"});else C=i_.spawn(h,R,{stdio:"inherit"});else this._checkForMissingExecutable(h,B,T._name),R.unshift(h),R=dC(d.execArgv).concat(R),C=i_.spawn(d.execPath,R,{stdio:"inherit"});if(!C.killed)["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((W)=>{d.on(W,()=>{if(C.killed===!1&&C.exitCode===null)C.kill(W)})});let O=this._exitCallback;C.on("close",(D)=>{if(D=D??1,!O)d.exit(D);else O(new y_(D,"commander.executeSubCommandAsync","(close)"))}),C.on("error",(D)=>{if(D.code==="ENOENT")this._checkForMissingExecutable(h,B,T._name);else if(D.code==="EACCES")throw new Error(`'${h}' not executable`);if(!O)d.exit(1);else{let W=new y_(1,"commander.executeSubCommandAsync","(error)");W.nestedError=D,O(W)}}),this.runningCommand=C}_dispatchSubcommand(T,R,A){let q=this._findCommand(T);if(!q)this.help({error:!0});q._prepareForParse();let _;return _=this._chainOrCallSubCommandHook(_,q,"preSubcommand"),_=this._chainOrCall(_,()=>{if(q._executableHandler)this._executeSubCommand(q,R.concat(A));else return q._parseCommand(R,A)}),_}_dispatchHelpCommand(T){if(!T)this.help();let R=this._findCommand(T);if(R&&!R._executableHandler)R.help();return this._dispatchSubcommand(T,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){if(this.registeredArguments.forEach((T,R)=>{if(T.required&&this.args[R]==null)this.missingArgument(T.name())}),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)return;if(this.args.length>this.registeredArguments.length)this._excessArguments(this.args)}_processArguments(){let T=(A,q,_)=>{let h=q;if(q!==null&&A.parseArg){let B=`error: command-argument value '${q}' is invalid for argument '${A.name()}'.`;h=this._callParseArg(A,q,_,B)}return h};this._checkNumberOfArguments();let R=[];this.registeredArguments.forEach((A,q)=>{let _=A.defaultValue;if(A.variadic){if(q<this.args.length){if(_=this.args.slice(q),A.parseArg)_=_.reduce((h,B)=>{return T(A,B,h)},A.defaultValue)}else if(_===void 0)_=[]}else if(q<this.args.length){if(_=this.args[q],A.parseArg)_=T(A,_,A.defaultValue)}R[q]=_}),this.processedArgs=R}_chainOrCall(T,R){if(T&&T.then&&typeof T.then==="function")return T.then(()=>R());return R()}_chainOrCallHooks(T,R){let A=T,q=[];if(this._getCommandAndAncestors().reverse().filter((_)=>_._lifeCycleHooks[R]!==void 0).forEach((_)=>{_._lifeCycleHooks[R].forEach((h)=>{q.push({hookedCommand:_,callback:h})})}),R==="postAction")q.reverse();return q.forEach((_)=>{A=this._chainOrCall(A,()=>{return _.callback(_.hookedCommand,this)})}),A}_chainOrCallSubCommandHook(T,R,A){let q=T;if(this._lifeCycleHooks[A]!==void 0)this._lifeCycleHooks[A].forEach((_)=>{q=this._chainOrCall(q,()=>{return _(this,R)})});return q}_parseCommand(T,R){let A=this.parseOptions(R);if(this._parseOptionsEnv(),this._parseOptionsImplied(),T=T.concat(A.operands),R=A.unknown,this.args=T.concat(R),T&&this._findCommand(T[0]))return this._dispatchSubcommand(T[0],T.slice(1),R);if(this._getHelpCommand()&&T[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(T[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(R),this._dispatchSubcommand(this._defaultCommandName,T,R);if(this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName)this.help({error:!0});this._outputHelpIfRequested(A.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let q=()=>{if(A.unknown.length>0)this.unknownOption(A.unknown[0])},_=`command:${this.name()}`;if(this._actionHandler){q(),this._processArguments();let h;if(h=this._chainOrCallHooks(h,"preAction"),h=this._chainOrCall(h,()=>this._actionHandler(this.processedArgs)),this.parent)h=this._chainOrCall(h,()=>{this.parent.emit(_,T,R)});return h=this._chainOrCallHooks(h,"postAction"),h}if(this.parent&&this.parent.listenerCount(_))q(),this._processArguments(),this.parent.emit(_,T,R);else if(T.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",T,R);if(this.listenerCount("command:*"))this.emit("command:*",T,R);else if(this.commands.length)this.unknownCommand();else q(),this._processArguments()}else if(this.commands.length)q(),this.help({error:!0});else q(),this._processArguments()}_findCommand(T){if(!T)return;return this.commands.find((R)=>R._name===T||R._aliases.includes(T))}_findOption(T){return this.options.find((R)=>R.is(T))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((T)=>{T.options.forEach((R)=>{if(R.mandatory&&T.getOptionValue(R.attributeName())===void 0)T.missingMandatoryOptionValue(R)})})}_checkForConflictingLocalOptions(){let T=this.options.filter((A)=>{let q=A.attributeName();if(this.getOptionValue(q)===void 0)return!1;return this.getOptionValueSource(q)!=="default"});T.filter((A)=>A.conflictsWith.length>0).forEach((A)=>{let q=T.find((_)=>A.conflictsWith.includes(_.attributeName()));if(q)this._conflictingOption(A,q)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((T)=>{T._checkForConflictingLocalOptions()})}parseOptions(T){let R=[],A=[],q=R,_=T.slice();function h(C){return C.length>1&&C[0]==="-"}let B=null;while(_.length){let C=_.shift();if(C==="--"){if(q===A)q.push(C);q.push(..._);break}if(B&&!h(C)){this.emit(`option:${B.name()}`,C);continue}if(B=null,h(C)){let O=this._findOption(C);if(O){if(O.required){let D=_.shift();if(D===void 0)this.optionMissingArgument(O);this.emit(`option:${O.name()}`,D)}else if(O.optional){let D=null;if(_.length>0&&!h(_[0]))D=_.shift();this.emit(`option:${O.name()}`,D)}else this.emit(`option:${O.name()}`);B=O.variadic?O:null;continue}}if(C.length>2&&C[0]==="-"&&C[1]!=="-"){let O=this._findOption(`-${C[1]}`);if(O){if(O.required||O.optional&&this._combineFlagAndOptionalValue)this.emit(`option:${O.name()}`,C.slice(2));else this.emit(`option:${O.name()}`),_.unshift(`-${C.slice(2)}`);continue}}if(/^--[^=]+=/.test(C)){let O=C.indexOf("="),D=this._findOption(C.slice(0,O));if(D&&(D.required||D.optional)){this.emit(`option:${D.name()}`,C.slice(O+1));continue}}if(h(C))q=A;if((this._enablePositionalOptions||this._passThroughOptions)&&R.length===0&&A.length===0){if(this._findCommand(C)){if(R.push(C),_.length>0)A.push(..._);break}else if(this._getHelpCommand()&&C===this._getHelpCommand().name()){if(R.push(C),_.length>0)R.push(..._);break}else if(this._defaultCommandName){if(A.push(C),_.length>0)A.push(..._);break}}if(this._passThroughOptions){if(q.push(C),_.length>0)q.push(..._);break}q.push(C)}return{operands:R,unknown:A}}opts(){if(this._storeOptionsAsProperties){let T={},R=this.options.length;for(let A=0;A<R;A++){let q=this.options[A].attributeName();T[q]=q===this._versionOptionName?this._version:this[q]}return T}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((T,R)=>Object.assign(T,R.opts()),{})}error(T,R){if(this._outputConfiguration.outputError(`${T}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError==="string")this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`);else if(this._showHelpAfterError)this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0});let A=R||{},q=A.exitCode||1,_=A.code||"commander.error";this._exit(q,_,T)}_parseOptionsEnv(){this.options.forEach((T)=>{if(T.envVar&&T.envVar in d.env){let R=T.attributeName();if(this.getOptionValue(R)===void 0||["default","config","env"].includes(this.getOptionValueSource(R)))if(T.required||T.optional)this.emit(`optionEnv:${T.name()}`,d.env[T.envVar]);else this.emit(`optionEnv:${T.name()}`)}})}_parseOptionsImplied(){let T=new F4(this.options),R=(A)=>{return this.getOptionValue(A)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(A))};this.options.filter((A)=>A.implied!==void 0&&R(A.attributeName())&&T.valueFromOption(this.getOptionValue(A.attributeName()),A)).forEach((A)=>{Object.keys(A.implied).filter((q)=>!R(q)).forEach((q)=>{this.setOptionValueWithSource(q,A.implied[q],"implied")})})}missingArgument(T){let R=`error: missing required argument '${T}'`;this.error(R,{code:"commander.missingArgument"})}optionMissingArgument(T){let R=`error: option '${T.flags}' argument missing`;this.error(R,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(T){let R=`error: required option '${T.flags}' not specified`;this.error(R,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(T,R){let A=(h)=>{let B=h.attributeName(),C=this.getOptionValue(B),O=this.options.find((W)=>W.negate&&B===W.attributeName()),D=this.options.find((W)=>!W.negate&&B===W.attributeName());if(O&&(O.presetArg===void 0&&C===!1||O.presetArg!==void 0&&C===O.presetArg))return O;return D||h},q=(h)=>{let B=A(h),C=B.attributeName();if(this.getOptionValueSource(C)==="env")return`environment variable '${B.envVar}'`;return`option '${B.flags}'`},_=`error: ${q(T)} cannot be used with ${q(R)}`;this.error(_,{code:"commander.conflictingOption"})}unknownOption(T){if(this._allowUnknownOption)return;let R="";if(T.startsWith("--")&&this._showSuggestionAfterError){let q=[],_=this;do{let h=_.createHelp().visibleOptions(_).filter((B)=>B.long).map((B)=>B.long);q=q.concat(h),_=_.parent}while(_&&!_._enablePositionalOptions);R=oC(T,q)}let A=`error: unknown option '${T}'${R}`;this.error(A,{code:"commander.unknownOption"})}_excessArguments(T){if(this._allowExcessArguments)return;let R=this.registeredArguments.length,A=R===1?"":"s",_=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${R} argument${A} but got ${T.length}.`;this.error(_,{code:"commander.excessArguments"})}unknownCommand(){let T=this.args[0],R="";if(this._showSuggestionAfterError){let q=[];this.createHelp().visibleCommands(this).forEach((_)=>{if(q.push(_.name()),_.alias())q.push(_.alias())}),R=oC(T,q)}let A=`error: unknown command '${T}'${R}`;this.error(A,{code:"commander.unknownCommand"})}version(T,R,A){if(T===void 0)return this._version;this._version=T,R=R||"-V, --version",A=A||"output the version number";let q=this.createOption(R,A);return this._versionOptionName=q.attributeName(),this._registerOption(q),this.on("option:"+q.name(),()=>{this._outputConfiguration.writeOut(`${T}
`),this._exit(0,"commander.version",T)}),this}description(T,R){if(T===void 0&&R===void 0)return this._description;if(this._description=T,R)this._argsDescription=R;return this}summary(T){if(T===void 0)return this._summary;return this._summary=T,this}alias(T){if(T===void 0)return this._aliases[0];let R=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler)R=this.commands[this.commands.length-1];if(T===R._name)throw new Error("Command alias can't be the same as its name");let A=this.parent?._findCommand(T);if(A){let q=[A.name()].concat(A.aliases()).join("|");throw new Error(`cannot add alias '${T}' to command '${this.name()}' as already have command '${q}'`)}return R._aliases.push(T),this}aliases(T){if(T===void 0)return this._aliases;return T.forEach((R)=>this.alias(R)),this}usage(T){if(T===void 0){if(this._usage)return this._usage;let R=this.registeredArguments.map((A)=>{return $4(A)});return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?R:[]).join(" ")}return this._usage=T,this}name(T){if(T===void 0)return this._name;return this._name=T,this}nameFromFilename(T){return this._name=OR.basename(T,OR.extname(T)),this}executableDir(T){if(T===void 0)return this._executableDir;return this._executableDir=T,this}helpInformation(T){let R=this.createHelp(),A=this._getOutputContext(T);R.prepareContext({error:A.error,helpWidth:A.helpWidth,outputHasColors:A.hasColors});let q=R.formatHelp(this,R);if(A.hasColors)return q;return this._outputConfiguration.stripColor(q)}_getOutputContext(T){T=T||{};let R=!!T.error,A,q,_;if(R)A=(B)=>this._outputConfiguration.writeErr(B),q=this._outputConfiguration.getErrHasColors(),_=this._outputConfiguration.getErrHelpWidth();else A=(B)=>this._outputConfiguration.writeOut(B),q=this._outputConfiguration.getOutHasColors(),_=this._outputConfiguration.getOutHelpWidth();return{error:R,write:(B)=>{if(!q)B=this._outputConfiguration.stripColor(B);return A(B)},hasColors:q,helpWidth:_}}outputHelp(T){let R;if(typeof T==="function")R=T,T=void 0;let A=this._getOutputContext(T),q={error:A.error,write:A.write,command:this};this._getCommandAndAncestors().reverse().forEach((h)=>h.emit("beforeAllHelp",q)),this.emit("beforeHelp",q);let _=this.helpInformation({error:A.error});if(R){if(_=R(_),typeof _!=="string"&&!Buffer.isBuffer(_))throw new Error("outputHelp callback must return a string or a Buffer")}if(A.write(_),this._getHelpOption()?.long)this.emit(this._getHelpOption().long);this.emit("afterHelp",q),this._getCommandAndAncestors().forEach((h)=>h.emit("afterAllHelp",q))}helpOption(T,R){if(typeof T==="boolean"){if(T)this._helpOption=this._helpOption??void 0;else this._helpOption=null;return this}return T=T??"-h, --help",R=R??"display help for command",this._helpOption=this.createOption(T,R),this}_getHelpOption(){if(this._helpOption===void 0)this.helpOption(void 0,void 0);return this._helpOption}addHelpOption(T){return this._helpOption=T,this}help(T){this.outputHelp(T);let R=Number(d.exitCode??0);if(R===0&&T&&typeof T!=="function"&&T.error)R=1;this._exit(R,"commander.help","(outputHelp)")}addHelpText(T,R){let A=["beforeAll","before","after","afterAll"];if(!A.includes(T))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${A.join("', '")}'`);let q=`${T}Help`;return this.on(q,(_)=>{let h;if(typeof R==="function")h=R({error:_.error,command:_.command});else h=R;if(h)_.write(`${h}
`)}),this}_outputHelpIfRequested(T){let R=this._getHelpOption();if(R&&T.find((q)=>R.is(q)))this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)")}}function dC(T){return T.map((R)=>{if(!R.startsWith("--inspect"))return R;let A,q="127.0.0.1",_="9229",h;if((h=R.match(/^(--inspect(-brk)?)$/))!==null)A=h[1];else if((h=R.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null)if(A=h[1],/^\d+$/.test(h[3]))_=h[3];else q=h[3];else if((h=R.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null)A=h[1],q=h[3],_=h[4];if(A&&_!=="0")return`${A}=${q}:${parseInt(_)+1}`;return R})}function $_(){if(d.env.NO_COLOR||d.env.FORCE_COLOR==="0"||d.env.FORCE_COLOR==="false")return!1;if(d.env.FORCE_COLOR||d.env.CLICOLOR_FORCE!==void 0)return!0;return}j4.Command=I_;j4.useColor=$_});var tC=TT((k4)=>{var{Argument:pC}=pA(),{Command:E_}=rC(),{CommanderError:Q4,InvalidArgumentError:nC}=AA(),{Help:N4}=H_(),{Option:sC}=J_();k4.program=new E_;k4.createCommand=(T)=>new E_(T);k4.createOption=(T,R)=>new sC(T,R);k4.createArgument=(T,R)=>new pC(T,R);k4.Command=E_;k4.Option=sC;k4.Argument=pC;k4.Help=N4;k4.CommanderError=Q4;k4.InvalidArgumentError=nC;k4.InvalidOptionArgumentError=nC});var i8=TT((p$,x_)=>{var eA=process||{},H8=eA.argv||[],tA=eA.env||{},WJ=!(!!tA.NO_COLOR||H8.includes("--no-color"))&&(!!tA.FORCE_COLOR||H8.includes("--color")||eA.platform==="win32"||(eA.stdout||{}).isTTY&&tA.TERM!=="dumb"||!!tA.CI),HJ=(T,R,A=T)=>(q)=>{let _=""+q,h=_.indexOf(R,T.length);return~h?T+JJ(_,R,A,h)+R:T+_+R},JJ=(T,R,A,q)=>{let _="",h=0;do _+=T.substring(h,q)+A,h=q+R.length,q=T.indexOf(R,h);while(~q);return _+T.substring(h)},J8=(T=WJ)=>{let R=T?HJ:()=>String;return{isColorSupported:T,reset:R("\x1B[0m","\x1B[0m"),bold:R("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:R("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:R("\x1B[3m","\x1B[23m"),underline:R("\x1B[4m","\x1B[24m"),inverse:R("\x1B[7m","\x1B[27m"),hidden:R("\x1B[8m","\x1B[28m"),strikethrough:R("\x1B[9m","\x1B[29m"),black:R("\x1B[30m","\x1B[39m"),red:R("\x1B[31m","\x1B[39m"),green:R("\x1B[32m","\x1B[39m"),yellow:R("\x1B[33m","\x1B[39m"),blue:R("\x1B[34m","\x1B[39m"),magenta:R("\x1B[35m","\x1B[39m"),cyan:R("\x1B[36m","\x1B[39m"),white:R("\x1B[37m","\x1B[39m"),gray:R("\x1B[90m","\x1B[39m"),bgBlack:R("\x1B[40m","\x1B[49m"),bgRed:R("\x1B[41m","\x1B[49m"),bgGreen:R("\x1B[42m","\x1B[49m"),bgYellow:R("\x1B[43m","\x1B[49m"),bgBlue:R("\x1B[44m","\x1B[49m"),bgMagenta:R("\x1B[45m","\x1B[49m"),bgCyan:R("\x1B[46m","\x1B[49m"),bgWhite:R("\x1B[47m","\x1B[49m"),blackBright:R("\x1B[90m","\x1B[39m"),redBright:R("\x1B[91m","\x1B[39m"),greenBright:R("\x1B[92m","\x1B[39m"),yellowBright:R("\x1B[93m","\x1B[39m"),blueBright:R("\x1B[94m","\x1B[39m"),magentaBright:R("\x1B[95m","\x1B[39m"),cyanBright:R("\x1B[96m","\x1B[39m"),whiteBright:R("\x1B[97m","\x1B[39m"),bgBlackBright:R("\x1B[100m","\x1B[49m"),bgRedBright:R("\x1B[101m","\x1B[49m"),bgGreenBright:R("\x1B[102m","\x1B[49m"),bgYellowBright:R("\x1B[103m","\x1B[49m"),bgBlueBright:R("\x1B[104m","\x1B[49m"),bgMagentaBright:R("\x1B[105m","\x1B[49m"),bgCyanBright:R("\x1B[106m","\x1B[49m"),bgWhiteBright:R("\x1B[107m","\x1B[49m")}};x_.exports=J8();x_.exports.createColors=J8});var fA=TT((ZG,zH)=>{var f5=G("node:tty"),z5=f5?.WriteStream?.prototype?.hasColors?.()??!1,U=(T,R)=>{if(!z5)return(_)=>_;let A=`\x1B[${T}m`,q=`\x1B[${R}m`;return(_)=>{let h=_+"",B=h.indexOf(q);if(B===-1)return A+h+q;let C=A,O=0;while(B!==-1)C+=h.slice(O,B)+A,O=B+q.length,B=h.indexOf(q,O);return C+=h.slice(O)+q,C}},X={};X.reset=U(0,0);X.bold=U(1,22);X.dim=U(2,22);X.italic=U(3,23);X.underline=U(4,24);X.overline=U(53,55);X.inverse=U(7,27);X.hidden=U(8,28);X.strikethrough=U(9,29);X.black=U(30,39);X.red=U(31,39);X.green=U(32,39);X.yellow=U(33,39);X.blue=U(34,39);X.magenta=U(35,39);X.cyan=U(36,39);X.white=U(37,39);X.gray=U(90,39);X.bgBlack=U(40,49);X.bgRed=U(41,49);X.bgGreen=U(42,49);X.bgYellow=U(43,49);X.bgBlue=U(44,49);X.bgMagenta=U(45,49);X.bgCyan=U(46,49);X.bgWhite=U(47,49);X.bgGray=U(100,49);X.redBright=U(91,39);X.greenBright=U(92,39);X.yellowBright=U(93,39);X.blueBright=U(94,39);X.magentaBright=U(95,39);X.cyanBright=U(96,39);X.whiteBright=U(97,39);X.bgRedBright=U(101,49);X.bgGreenBright=U(102,49);X.bgYellowBright=U(103,49);X.bgBlueBright=U(104,49);X.bgMagentaBright=U(105,49);X.bgCyanBright=U(106,49);X.bgWhiteBright=U(107,49);zH.exports=X});var YH=TT((Rg,PH)=>{PH.exports=Y5;function P5(T){let R={defaultWidth:0,output:process.stdout,tty:G("tty")};if(!T)return R;return Object.keys(R).forEach(function(A){if(!T[A])T[A]=R[A]}),T}function Y5(T){let R=P5(T);if(R.output.getWindowSize)return R.output.getWindowSize()[0]||R.defaultWidth;if(R.tty.getWindowSize)return R.tty.getWindowSize()[1]||R.defaultWidth;if(R.output.columns)return R.output.columns;if(process.env.CLI_WIDTH){let A=parseInt(process.env.CLI_WIDTH,10);if(!isNaN(A)&&A!==0)return A}return R.defaultWidth}});var VH=TT((Ag,wH)=>{wH.exports=({onlyFirst:T=!1}={})=>{let R=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(R,T?void 0:"g")}});var Vq=TT((qg,vH)=>{var w5=VH();vH.exports=(T)=>typeof T==="string"?T.replace(w5(),""):T});var lH=TT((_g,pB)=>{var mH=(T)=>{if(Number.isNaN(T))return!1;if(T>=4352&&(T<=4447||T===9001||T===9002||11904<=T&&T<=12871&&T!==12351||12880<=T&&T<=19903||19968<=T&&T<=42182||43360<=T&&T<=43388||44032<=T&&T<=55203||63744<=T&&T<=64255||65040<=T&&T<=65049||65072<=T&&T<=65131||65281<=T&&T<=65376||65504<=T&&T<=65510||110592<=T&&T<=110593||127488<=T&&T<=127569||131072<=T&&T<=262141))return!0;return!1};pB.exports=mH;pB.exports.default=mH});var dH=TT((hg,oH)=>{oH.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var pH=TT((Bg,nB)=>{var V5=Vq(),v5=lH(),m5=dH(),rH=(T)=>{if(typeof T!=="string"||T.length===0)return 0;if(T=V5(T),T.length===0)return 0;T=T.replace(m5(),"  ");let R=0;for(let A=0;A<T.length;A++){let q=T.codePointAt(A);if(q<=31||q>=127&&q<=159)continue;if(q>=768&&q<=879)continue;if(q>65535)A++;R+=v5(q)?2:1}return R};nB.exports=rH;nB.exports.default=rH});var sH=TT((Cg,nH)=>{nH.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var sB=TT((Dg,eH)=>{var zA=sH(),tH={};for(let T of Object.keys(zA))tH[zA[T]]=T;var K={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};eH.exports=K;for(let T of Object.keys(K)){if(!("channels"in K[T]))throw new Error("missing channels property: "+T);if(!("labels"in K[T]))throw new Error("missing channel labels property: "+T);if(K[T].labels.length!==K[T].channels)throw new Error("channel and label counts mismatch: "+T);let{channels:R,labels:A}=K[T];delete K[T].channels,delete K[T].labels,Object.defineProperty(K[T],"channels",{value:R}),Object.defineProperty(K[T],"labels",{value:A})}K.rgb.hsl=function(T){let R=T[0]/255,A=T[1]/255,q=T[2]/255,_=Math.min(R,A,q),h=Math.max(R,A,q),B=h-_,C,O;if(h===_)C=0;else if(R===h)C=(A-q)/B;else if(A===h)C=2+(q-R)/B;else if(q===h)C=4+(R-A)/B;if(C=Math.min(C*60,360),C<0)C+=360;let D=(_+h)/2;if(h===_)O=0;else if(D<=0.5)O=B/(h+_);else O=B/(2-h-_);return[C,O*100,D*100]};K.rgb.hsv=function(T){let R,A,q,_,h,B=T[0]/255,C=T[1]/255,O=T[2]/255,D=Math.max(B,C,O),W=D-Math.min(B,C,O),H=function(J){return(D-J)/6/W+0.5};if(W===0)_=0,h=0;else{if(h=W/D,R=H(B),A=H(C),q=H(O),B===D)_=q-A;else if(C===D)_=0.3333333333333333+R-q;else if(O===D)_=0.6666666666666666+A-R;if(_<0)_+=1;else if(_>1)_-=1}return[_*360,h*100,D*100]};K.rgb.hwb=function(T){let R=T[0],A=T[1],q=T[2],_=K.rgb.hsl(T)[0],h=0.00392156862745098*Math.min(R,Math.min(A,q));return q=1-0.00392156862745098*Math.max(R,Math.max(A,q)),[_,h*100,q*100]};K.rgb.cmyk=function(T){let R=T[0]/255,A=T[1]/255,q=T[2]/255,_=Math.min(1-R,1-A,1-q),h=(1-R-_)/(1-_)||0,B=(1-A-_)/(1-_)||0,C=(1-q-_)/(1-_)||0;return[h*100,B*100,C*100,_*100]};function l5(T,R){return(T[0]-R[0])**2+(T[1]-R[1])**2+(T[2]-R[2])**2}K.rgb.keyword=function(T){let R=tH[T];if(R)return R;let A=1/0,q;for(let _ of Object.keys(zA)){let h=zA[_],B=l5(T,h);if(B<A)A=B,q=_}return q};K.keyword.rgb=function(T){return zA[T]};K.rgb.xyz=function(T){let R=T[0]/255,A=T[1]/255,q=T[2]/255;R=R>0.04045?((R+0.055)/1.055)**2.4:R/12.92,A=A>0.04045?((A+0.055)/1.055)**2.4:A/12.92,q=q>0.04045?((q+0.055)/1.055)**2.4:q/12.92;let _=R*0.4124+A*0.3576+q*0.1805,h=R*0.2126+A*0.7152+q*0.0722,B=R*0.0193+A*0.1192+q*0.9505;return[_*100,h*100,B*100]};K.rgb.lab=function(T){let R=K.rgb.xyz(T),A=R[0],q=R[1],_=R[2];A/=95.047,q/=100,_/=108.883,A=A>0.008856?A**0.3333333333333333:7.787*A+0.13793103448275862,q=q>0.008856?q**0.3333333333333333:7.787*q+0.13793103448275862,_=_>0.008856?_**0.3333333333333333:7.787*_+0.13793103448275862;let h=116*q-16,B=500*(A-q),C=200*(q-_);return[h,B,C]};K.hsl.rgb=function(T){let R=T[0]/360,A=T[1]/100,q=T[2]/100,_,h,B;if(A===0)return B=q*255,[B,B,B];if(q<0.5)_=q*(1+A);else _=q+A-q*A;let C=2*q-_,O=[0,0,0];for(let D=0;D<3;D++){if(h=R+0.3333333333333333*-(D-1),h<0)h++;if(h>1)h--;if(6*h<1)B=C+(_-C)*6*h;else if(2*h<1)B=_;else if(3*h<2)B=C+(_-C)*(0.6666666666666666-h)*6;else B=C;O[D]=B*255}return O};K.hsl.hsv=function(T){let R=T[0],A=T[1]/100,q=T[2]/100,_=A,h=Math.max(q,0.01);q*=2,A*=q<=1?q:2-q,_*=h<=1?h:2-h;let B=(q+A)/2,C=q===0?2*_/(h+_):2*A/(q+A);return[R,C*100,B*100]};K.hsv.rgb=function(T){let R=T[0]/60,A=T[1]/100,q=T[2]/100,_=Math.floor(R)%6,h=R-Math.floor(R),B=255*q*(1-A),C=255*q*(1-A*h),O=255*q*(1-A*(1-h));switch(q*=255,_){case 0:return[q,O,B];case 1:return[C,q,B];case 2:return[B,q,O];case 3:return[B,C,q];case 4:return[O,B,q];case 5:return[q,B,C]}};K.hsv.hsl=function(T){let R=T[0],A=T[1]/100,q=T[2]/100,_=Math.max(q,0.01),h,B;B=(2-A)*q;let C=(2-A)*_;return h=A*_,h/=C<=1?C:2-C,h=h||0,B/=2,[R,h*100,B*100]};K.hwb.rgb=function(T){let R=T[0]/360,A=T[1]/100,q=T[2]/100,_=A+q,h;if(_>1)A/=_,q/=_;let B=Math.floor(6*R),C=1-q;if(h=6*R-B,(B&1)!==0)h=1-h;let O=A+h*(C-A),D,W,H;switch(B){default:case 6:case 0:D=C,W=O,H=A;break;case 1:D=O,W=C,H=A;break;case 2:D=A,W=C,H=O;break;case 3:D=A,W=O,H=C;break;case 4:D=O,W=A,H=C;break;case 5:D=C,W=A,H=O;break}return[D*255,W*255,H*255]};K.cmyk.rgb=function(T){let R=T[0]/100,A=T[1]/100,q=T[2]/100,_=T[3]/100,h=1-Math.min(1,R*(1-_)+_),B=1-Math.min(1,A*(1-_)+_),C=1-Math.min(1,q*(1-_)+_);return[h*255,B*255,C*255]};K.xyz.rgb=function(T){let R=T[0]/100,A=T[1]/100,q=T[2]/100,_,h,B;return _=R*3.2406+A*-1.5372+q*-0.4986,h=R*-0.9689+A*1.8758+q*0.0415,B=R*0.0557+A*-0.204+q*1.057,_=_>0.0031308?1.055*_**0.4166666666666667-0.055:_*12.92,h=h>0.0031308?1.055*h**0.4166666666666667-0.055:h*12.92,B=B>0.0031308?1.055*B**0.4166666666666667-0.055:B*12.92,_=Math.min(Math.max(0,_),1),h=Math.min(Math.max(0,h),1),B=Math.min(Math.max(0,B),1),[_*255,h*255,B*255]};K.xyz.lab=function(T){let R=T[0],A=T[1],q=T[2];R/=95.047,A/=100,q/=108.883,R=R>0.008856?R**0.3333333333333333:7.787*R+0.13793103448275862,A=A>0.008856?A**0.3333333333333333:7.787*A+0.13793103448275862,q=q>0.008856?q**0.3333333333333333:7.787*q+0.13793103448275862;let _=116*A-16,h=500*(R-A),B=200*(A-q);return[_,h,B]};K.lab.xyz=function(T){let R=T[0],A=T[1],q=T[2],_,h,B;h=(R+16)/116,_=A/500+h,B=h-q/200;let C=h**3,O=_**3,D=B**3;return h=C>0.008856?C:(h-0.13793103448275862)/7.787,_=O>0.008856?O:(_-0.13793103448275862)/7.787,B=D>0.008856?D:(B-0.13793103448275862)/7.787,_*=95.047,h*=100,B*=108.883,[_,h,B]};K.lab.lch=function(T){let R=T[0],A=T[1],q=T[2],_;if(_=Math.atan2(q,A)*360/2/Math.PI,_<0)_+=360;let B=Math.sqrt(A*A+q*q);return[R,B,_]};K.lch.lab=function(T){let R=T[0],A=T[1],_=T[2]/360*2*Math.PI,h=A*Math.cos(_),B=A*Math.sin(_);return[R,h,B]};K.rgb.ansi16=function(T,R=null){let[A,q,_]=T,h=R===null?K.rgb.hsv(T)[2]:R;if(h=Math.round(h/50),h===0)return 30;let B=30+(Math.round(_/255)<<2|Math.round(q/255)<<1|Math.round(A/255));if(h===2)B+=60;return B};K.hsv.ansi16=function(T){return K.rgb.ansi16(K.hsv.rgb(T),T[2])};K.rgb.ansi256=function(T){let R=T[0],A=T[1],q=T[2];if(R===A&&A===q){if(R<8)return 16;if(R>248)return 231;return Math.round((R-8)/247*24)+232}return 16+36*Math.round(R/255*5)+6*Math.round(A/255*5)+Math.round(q/255*5)};K.ansi16.rgb=function(T){let R=T%10;if(R===0||R===7){if(T>50)R+=3.5;return R=R/10.5*255,[R,R,R]}let A=(~~(T>50)+1)*0.5,q=(R&1)*A*255,_=(R>>1&1)*A*255,h=(R>>2&1)*A*255;return[q,_,h]};K.ansi256.rgb=function(T){if(T>=232){let h=(T-232)*10+8;return[h,h,h]}T-=16;let R,A=Math.floor(T/36)/5*255,q=Math.floor((R=T%36)/6)/5*255,_=R%6/5*255;return[A,q,_]};K.rgb.hex=function(T){let A=(((Math.round(T[0])&255)<<16)+((Math.round(T[1])&255)<<8)+(Math.round(T[2])&255)).toString(16).toUpperCase();return"000000".substring(A.length)+A};K.hex.rgb=function(T){let R=T.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!R)return[0,0,0];let A=R[0];if(R[0].length===3)A=A.split("").map((C)=>{return C+C}).join("");let q=parseInt(A,16),_=q>>16&255,h=q>>8&255,B=q&255;return[_,h,B]};K.rgb.hcg=function(T){let R=T[0]/255,A=T[1]/255,q=T[2]/255,_=Math.max(Math.max(R,A),q),h=Math.min(Math.min(R,A),q),B=_-h,C,O;if(B<1)C=h/(1-B);else C=0;if(B<=0)O=0;else if(_===R)O=(A-q)/B%6;else if(_===A)O=2+(q-R)/B;else O=4+(R-A)/B;return O/=6,O%=1,[O*360,B*100,C*100]};K.hsl.hcg=function(T){let R=T[1]/100,A=T[2]/100,q=A<0.5?2*R*A:2*R*(1-A),_=0;if(q<1)_=(A-0.5*q)/(1-q);return[T[0],q*100,_*100]};K.hsv.hcg=function(T){let R=T[1]/100,A=T[2]/100,q=R*A,_=0;if(q<1)_=(A-q)/(1-q);return[T[0],q*100,_*100]};K.hcg.rgb=function(T){let R=T[0]/360,A=T[1]/100,q=T[2]/100;if(A===0)return[q*255,q*255,q*255];let _=[0,0,0],h=R%1*6,B=h%1,C=1-B,O=0;switch(Math.floor(h)){case 0:_[0]=1,_[1]=B,_[2]=0;break;case 1:_[0]=C,_[1]=1,_[2]=0;break;case 2:_[0]=0,_[1]=1,_[2]=B;break;case 3:_[0]=0,_[1]=C,_[2]=1;break;case 4:_[0]=B,_[1]=0,_[2]=1;break;default:_[0]=1,_[1]=0,_[2]=C}return O=(1-A)*q,[(A*_[0]+O)*255,(A*_[1]+O)*255,(A*_[2]+O)*255]};K.hcg.hsv=function(T){let R=T[1]/100,A=T[2]/100,q=R+A*(1-R),_=0;if(q>0)_=R/q;return[T[0],_*100,q*100]};K.hcg.hsl=function(T){let R=T[1]/100,q=T[2]/100*(1-R)+0.5*R,_=0;if(q>0&&q<0.5)_=R/(2*q);else if(q>=0.5&&q<1)_=R/(2*(1-q));return[T[0],_*100,q*100]};K.hcg.hwb=function(T){let R=T[1]/100,A=T[2]/100,q=R+A*(1-R);return[T[0],(q-R)*100,(1-q)*100]};K.hwb.hcg=function(T){let R=T[1]/100,q=1-T[2]/100,_=q-R,h=0;if(_<1)h=(q-_)/(1-_);return[T[0],_*100,h*100]};K.apple.rgb=function(T){return[T[0]/65535*255,T[1]/65535*255,T[2]/65535*255]};K.rgb.apple=function(T){return[T[0]/255*65535,T[1]/255*65535,T[2]/255*65535]};K.gray.rgb=function(T){return[T[0]/100*255,T[0]/100*255,T[0]/100*255]};K.gray.hsl=function(T){return[0,0,T[0]]};K.gray.hsv=K.gray.hsl;K.gray.hwb=function(T){return[0,100,T[0]]};K.gray.cmyk=function(T){return[0,0,0,T[0]]};K.gray.lab=function(T){return[T[0],0,0]};K.gray.hex=function(T){let R=Math.round(T[0]/100*255)&255,q=((R<<16)+(R<<8)+R).toString(16).toUpperCase();return"000000".substring(q.length)+q};K.rgb.gray=function(T){return[(T[0]+T[1]+T[2])/3/255*100]}});var R6=TT((Og,T6)=>{var vq=sB();function o5(){let T={},R=Object.keys(vq);for(let A=R.length,q=0;q<A;q++)T[R[q]]={distance:-1,parent:null};return T}function d5(T){let R=o5(),A=[T];R[T].distance=0;while(A.length){let q=A.pop(),_=Object.keys(vq[q]);for(let h=_.length,B=0;B<h;B++){let C=_[B],O=R[C];if(O.distance===-1)O.distance=R[q].distance+1,O.parent=q,A.unshift(C)}}return R}function r5(T,R){return function(A){return R(T(A))}}function p5(T,R){let A=[R[T].parent,T],q=vq[R[T].parent][T],_=R[T].parent;while(R[_].parent)A.unshift(R[_].parent),q=r5(vq[R[_].parent][_],q),_=R[_].parent;return q.conversion=A,q}T6.exports=function(T){let R=d5(T),A={},q=Object.keys(R);for(let _=q.length,h=0;h<_;h++){let B=q[h];if(R[B].parent===null)continue;A[B]=p5(B,R)}return A}});var q6=TT((Wg,A6)=>{var tB=sB(),n5=R6(),o9={},s5=Object.keys(tB);function t5(T){let R=function(...A){let q=A[0];if(q===void 0||q===null)return q;if(q.length>1)A=q;return T(A)};if("conversion"in T)R.conversion=T.conversion;return R}function e5(T){let R=function(...A){let q=A[0];if(q===void 0||q===null)return q;if(q.length>1)A=q;let _=T(A);if(typeof _==="object")for(let h=_.length,B=0;B<h;B++)_[B]=Math.round(_[B]);return _};if("conversion"in T)R.conversion=T.conversion;return R}s5.forEach((T)=>{o9[T]={},Object.defineProperty(o9[T],"channels",{value:tB[T].channels}),Object.defineProperty(o9[T],"labels",{value:tB[T].labels});let R=n5(T);Object.keys(R).forEach((q)=>{let _=R[q];o9[T][q]=e5(_),o9[T][q].raw=t5(_)})});A6.exports=o9});var O6=TT((Hg,D6)=>{var _6=(T,R)=>(...A)=>{return`\x1B[${T(...A)+R}m`},h6=(T,R)=>(...A)=>{let q=T(...A);return`\x1B[${38+R};5;${q}m`},B6=(T,R)=>(...A)=>{let q=T(...A);return`\x1B[${38+R};2;${q[0]};${q[1]};${q[2]}m`},mq=(T)=>T,C6=(T,R,A)=>[T,R,A],d9=(T,R,A)=>{Object.defineProperty(T,R,{get:()=>{let q=A();return Object.defineProperty(T,R,{value:q,enumerable:!0,configurable:!0}),q},enumerable:!0,configurable:!0})},eB,r9=(T,R,A,q)=>{if(eB===void 0)eB=q6();let _=q?10:0,h={};for(let[B,C]of Object.entries(eB)){let O=B==="ansi16"?"ansi":B;if(B===R)h[O]=T(A,_);else if(typeof C==="object")h[O]=T(C[R],_)}return h};function T2(){let T=new Map,R={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};R.color.gray=R.color.blackBright,R.bgColor.bgGray=R.bgColor.bgBlackBright,R.color.grey=R.color.blackBright,R.bgColor.bgGrey=R.bgColor.bgBlackBright;for(let[A,q]of Object.entries(R)){for(let[_,h]of Object.entries(q))R[_]={open:`\x1B[${h[0]}m`,close:`\x1B[${h[1]}m`},q[_]=R[_],T.set(h[0],h[1]);Object.defineProperty(R,A,{value:q,enumerable:!1})}return Object.defineProperty(R,"codes",{value:T,enumerable:!1}),R.color.close="\x1B[39m",R.bgColor.close="\x1B[49m",d9(R.color,"ansi",()=>r9(_6,"ansi16",mq,!1)),d9(R.color,"ansi256",()=>r9(h6,"ansi256",mq,!1)),d9(R.color,"ansi16m",()=>r9(B6,"rgb",C6,!1)),d9(R.bgColor,"ansi",()=>r9(_6,"ansi16",mq,!0)),d9(R.bgColor,"ansi256",()=>r9(h6,"ansi256",mq,!0)),d9(R.bgColor,"ansi16m",()=>r9(B6,"rgb",C6,!0)),R}Object.defineProperty(D6,"exports",{enumerable:!0,get:T2})});var J6=TT((Jg,H6)=>{var XA=pH(),R2=Vq(),A2=O6(),RC=new Set(["\x1B",""]),W6=(T)=>`${RC.values().next().value}[${T}m`,q2=(T)=>T.split(" ").map((R)=>XA(R)),TC=(T,R,A)=>{let q=[...R],_=!1,h=XA(R2(T[T.length-1]));for(let[B,C]of q.entries()){let O=XA(C);if(h+O<=A)T[T.length-1]+=C;else T.push(C),h=0;if(RC.has(C))_=!0;else if(_&&C==="m"){_=!1;continue}if(_)continue;if(h+=O,h===A&&B<q.length-1)T.push(""),h=0}if(!h&&T[T.length-1].length>0&&T.length>1)T[T.length-2]+=T.pop()},_2=(T)=>{let R=T.split(" "),A=R.length;while(A>0){if(XA(R[A-1])>0)break;A--}if(A===R.length)return T;return R.slice(0,A).join(" ")+R.slice(A).join("")},h2=(T,R,A={})=>{if(A.trim!==!1&&T.trim()==="")return"";let q="",_="",h,B=q2(T),C=[""];for(let[O,D]of T.split(" ").entries()){if(A.trim!==!1)C[C.length-1]=C[C.length-1].trimLeft();let W=XA(C[C.length-1]);if(O!==0){if(W>=R&&(A.wordWrap===!1||A.trim===!1))C.push(""),W=0;if(W>0||A.trim===!1)C[C.length-1]+=" ",W++}if(A.hard&&B[O]>R){let H=R-W,J=1+Math.floor((B[O]-H-1)/R);if(Math.floor((B[O]-1)/R)<J)C.push("");TC(C,D,R);continue}if(W+B[O]>R&&W>0&&B[O]>0){if(A.wordWrap===!1&&W<R){TC(C,D,R);continue}C.push("")}if(W+B[O]>R&&A.wordWrap===!1){TC(C,D,R);continue}C[C.length-1]+=D}if(A.trim!==!1)C=C.map(_2);q=C.join(`
`);for(let[O,D]of[...q].entries()){if(_+=D,RC.has(D)){let H=parseFloat(/\d[^m]*/.exec(q.slice(O,O+4)));h=H===39?null:H}let W=A2.codes.get(Number(h));if(h&&W){if(q[O+1]===`
`)_+=W6(W);else if(D===`
`)_+=W6(h)}}return _};H6.exports=(T,R,A)=>{return String(T).normalize().replace(/\r\n/g,`
`).split(`
`).map((q)=>h2(q,R,A)).join(`
`)}});var b6=TT((Ng,j6)=>{var D2=G("stream");class F6 extends D2{#q=null;constructor(T={}){super(T);this.writable=this.readable=!0,this.muted=!1,this.on("pipe",this._onpipe),this.replace=T.replace,this._prompt=T.prompt||null,this._hadControl=!1}#A(T,R){if(this._dest)return this._dest[T];if(this._src)return this._src[T];return R}#T(T,...R){if(typeof this._dest?.[T]==="function")this._dest[T](...R);if(typeof this._src?.[T]==="function")this._src[T](...R)}get isTTY(){if(this.#q!==null)return this.#q;return this.#A("isTTY",!1)}set isTTY(T){this.#q=T}get rows(){return this.#A("rows")}get columns(){return this.#A("columns")}mute(){this.muted=!0}unmute(){this.muted=!1}_onpipe(T){this._src=T}pipe(T,R){return this._dest=T,super.pipe(T,R)}pause(){if(this._src)return this._src.pause()}resume(){if(this._src)return this._src.resume()}write(T){if(this.muted){if(!this.replace)return!0;if(T.match(/^\u001b/)){if(T.indexOf(this._prompt)===0)T=T.slice(this._prompt.length),T=T.replace(/./g,this.replace),T=this._prompt+T;return this._hadControl=!0,this.emit("data",T)}else{if(this._prompt&&this._hadControl&&T.indexOf(this._prompt)===0)this._hadControl=!1,this.emit("data",this._prompt),T=T.slice(this._prompt.length);T=T.toString().replace(/./g,this.replace)}}this.emit("data",T)}end(T){if(this.muted)if(T&&this.replace)T=T.toString().replace(/./g,this.replace);else T=null;if(T)this.emit("data",T);this.emit("end")}destroy(...T){return this.#T("destroy",...T)}destroySoon(...T){return this.#T("destroySoon",...T)}close(...T){return this.#T("close",...T)}}j6.exports=F6});var pq=TT((H2,BC)=>{var V=H2;H2.default=V;var e="\x1B[",MA="\x1B]",p9="\x07",rq=";",k6=process.env.TERM_PROGRAM==="Apple_Terminal";V.cursorTo=(T,R)=>{if(typeof T!=="number")throw new TypeError("The `x` argument is required");if(typeof R!=="number")return e+(T+1)+"G";return e+(R+1)+";"+(T+1)+"H"};V.cursorMove=(T,R)=>{if(typeof T!=="number")throw new TypeError("The `x` argument is required");let A="";if(T<0)A+=e+-T+"D";else if(T>0)A+=e+T+"C";if(R<0)A+=e+-R+"A";else if(R>0)A+=e+R+"B";return A};V.cursorUp=(T=1)=>e+T+"A";V.cursorDown=(T=1)=>e+T+"B";V.cursorForward=(T=1)=>e+T+"C";V.cursorBackward=(T=1)=>e+T+"D";V.cursorLeft=e+"G";V.cursorSavePosition=k6?"\x1B7":e+"s";V.cursorRestorePosition=k6?"\x1B8":e+"u";V.cursorGetPosition=e+"6n";V.cursorNextLine=e+"E";V.cursorPrevLine=e+"F";V.cursorHide=e+"?25l";V.cursorShow=e+"?25h";V.eraseLines=(T)=>{let R="";for(let A=0;A<T;A++)R+=V.eraseLine+(A<T-1?V.cursorUp():"");if(T)R+=V.cursorLeft;return R};V.eraseEndLine=e+"K";V.eraseStartLine=e+"1K";V.eraseLine=e+"2K";V.eraseDown=e+"J";V.eraseUp=e+"1J";V.eraseScreen=e+"2J";V.scrollUp=e+"S";V.scrollDown=e+"T";V.clearScreen="\x1Bc";V.clearTerminal=process.platform==="win32"?`${V.eraseScreen}${e}0f`:`${V.eraseScreen}${e}3J${e}H`;V.beep=p9;V.link=(T,R)=>{return[MA,"8",rq,rq,R,p9,T,MA,"8",rq,rq,p9].join("")};V.image=(T,R={})=>{let A=`${MA}1337;File=inline=1`;if(R.width)A+=`;width=${R.width}`;if(R.height)A+=`;height=${R.height}`;if(R.preserveAspectRatio===!1)A+=";preserveAspectRatio=0";return A+":"+T.toString("base64")+p9};V.iTerm={setCwd:(T=process.cwd())=>`${MA}50;CurrentDir=${T}${p9}`,annotation:(T,R={})=>{let A=`${MA}1337;`,q=typeof R.x!=="undefined",_=typeof R.y!=="undefined";if((q||_)&&!(q&&_&&typeof R.length!=="undefined"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");if(T=T.replace(/\|/g,""),A+=R.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",R.length>0)A+=(q?[T,R.length,R.x,R.y]:[R.length,T]).join("|");else A+=T;return A+p9}}});var M6=TT((IL,a2)=>{a2.exports=G("./transform.darwin-arm64-sgvh9e03.node")});var S6=TT((z2,YA)=>{var{readFileSync:K2}=G("fs"),hR=null,x=[],tq=()=>{let T=!1;if(process.platform==="linux"){if(T=g2(),T===null)T=L2();if(T===null)T=x2()}return T},G2=(T)=>T.includes("libc.musl-")||T.includes("ld-musl-"),g2=()=>{try{return K2("/usr/bin/ldd","utf-8").includes("musl")}catch{return null}},L2=()=>{let T=typeof process.report.getReport==="function"?process.report.getReport():null;if(!T)return null;if(T.header&&T.header.glibcVersionRuntime)return!1;if(Array.isArray(T.sharedObjects)){if(T.sharedObjects.some(G2))return!0}return!1},x2=()=>{try{return G("child_process").execSync("ldd --version",{encoding:"utf8"}).includes("musl")}catch(T){return!1}};function f2(){if(process.platform==="android")if(process.arch==="arm64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.android-arm64.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-android-arm64");})()}catch(T){x.push(T)}}else if(process.arch==="arm"){try{return (()=>{throw new Error("Cannot require module "+"./transform.android-arm-eabi.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-android-arm-eabi");})()}catch(T){x.push(T)}}else x.push(new Error(`Unsupported architecture on Android ${process.arch}`));else if(process.platform==="win32")if(process.arch==="x64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.win32-x64-msvc.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-win32-x64-msvc");})()}catch(T){x.push(T)}}else if(process.arch==="ia32"){try{return (()=>{throw new Error("Cannot require module "+"./transform.win32-ia32-msvc.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-win32-ia32-msvc");})()}catch(T){x.push(T)}}else if(process.arch==="arm64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.win32-arm64-msvc.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-win32-arm64-msvc");})()}catch(T){x.push(T)}}else x.push(new Error(`Unsupported architecture on Windows: ${process.arch}`));else if(process.platform==="darwin"){try{return (()=>{throw new Error("Cannot require module "+"./transform.darwin-universal.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-darwin-universal");})()}catch(T){x.push(T)}if(process.arch==="x64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.darwin-x64.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-darwin-x64");})()}catch(T){x.push(T)}}else if(process.arch==="arm64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.darwin-arm64.node");})()}catch(T){x.push(T)}try{return M6()}catch(T){x.push(T)}}else x.push(new Error(`Unsupported architecture on macOS: ${process.arch}`))}else if(process.platform==="freebsd")if(process.arch==="x64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.freebsd-x64.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-freebsd-x64");})()}catch(T){x.push(T)}}else if(process.arch==="arm64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.freebsd-arm64.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-freebsd-arm64");})()}catch(T){x.push(T)}}else x.push(new Error(`Unsupported architecture on FreeBSD: ${process.arch}`));else if(process.platform==="linux")if(process.arch==="x64")if(tq()){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-x64-musl.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-x64-musl");})()}catch(T){x.push(T)}}else{try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-x64-gnu.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-x64-gnu");})()}catch(T){x.push(T)}}else if(process.arch==="arm64")if(tq()){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-arm64-musl.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-arm64-musl");})()}catch(T){x.push(T)}}else{try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-arm64-gnu.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-arm64-gnu");})()}catch(T){x.push(T)}}else if(process.arch==="arm")if(tq()){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-arm-musleabihf.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-arm-musleabihf");})()}catch(T){x.push(T)}}else{try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-arm-gnueabihf.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-arm-gnueabihf");})()}catch(T){x.push(T)}}else if(process.arch==="riscv64")if(tq()){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-riscv64-musl.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-riscv64-musl");})()}catch(T){x.push(T)}}else{try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-riscv64-gnu.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-riscv64-gnu");})()}catch(T){x.push(T)}}else if(process.arch==="ppc64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-ppc64-gnu.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-ppc64-gnu");})()}catch(T){x.push(T)}}else if(process.arch==="s390x"){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-s390x-gnu.node");})()}catch(T){x.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-s390x-gnu");})()}catch(T){x.push(T)}}else x.push(new Error(`Unsupported architecture on Linux: ${process.arch}`));else x.push(new Error(`Unsupported OS: ${process.platform}, architecture: ${process.arch}`))}hR=f2();if(!hR||process.env.NAPI_RS_FORCE_WASI){try{hR=(()=>{throw new Error("Cannot require module "+"./transform.wasi.cjs");})()}catch(T){if(process.env.NAPI_RS_FORCE_WASI)console.error(T)}if(!hR)try{hR=(()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-wasm32-wasi");})()}catch(T){if(process.env.NAPI_RS_FORCE_WASI)console.error(T)}}if(!hR){if(x.length>0)throw new Error("Failed to load native binding",{cause:x});throw new Error("Failed to load native binding")}z2.HelperMode=hR.HelperMode;z2.isolatedDeclaration=hR.isolatedDeclaration;z2.Severity=hR.Severity;z2.transform=hR.transform});var A7=TT((rL,B1)=>{B1.exports={dots:{interval:80,frames:["","","","","","","","","",""]},dots2:{interval:80,frames:["","","","","","","",""]},dots3:{interval:80,frames:["","","","","","","","","",""]},dots4:{interval:80,frames:["","","","","","","","","","","","","",""]},dots5:{interval:80,frames:["","","","","","","","","","","","","","","","",""]},dots6:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","",""]},dots7:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","",""]},dots8:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dots9:{interval:80,frames:["","","","","","","",""]},dots10:{interval:80,frames:["","","","","","",""]},dots11:{interval:100,frames:["","","","","","","",""]},dots12:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dots13:{interval:80,frames:["","","","","","","",""]},dots8Bit:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sand:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["","-","","","","-"]},pipe:{interval:100,frames:["","","","","","","",""]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["","","","","",""]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","","-","_","_","_"]},hamburger:{interval:100,frames:["","",""]},growVertical:{interval:120,frames:["","","","","","","","","",""]},growHorizontal:{interval:120,frames:["","","","","","","","","","","",""]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","","O","o","."]},noise:{interval:100,frames:["","",""]},bounce:{interval:120,frames:["","","",""]},boxBounce:{interval:120,frames:["","","",""]},boxBounce2:{interval:100,frames:["","","",""]},triangle:{interval:50,frames:["","","",""]},binary:{interval:80,frames:["010010","001100","100101","111010","111101","010111","101011","111000","110011","110101"]},arc:{interval:100,frames:["","","","","",""]},circle:{interval:120,frames:["","",""]},squareCorners:{interval:180,frames:["","","",""]},circleQuarters:{interval:120,frames:["","","",""]},circleHalves:{interval:50,frames:["","","",""]},squish:{interval:100,frames:["",""]},toggle:{interval:250,frames:["",""]},toggle2:{interval:80,frames:["",""]},toggle3:{interval:120,frames:["",""]},toggle4:{interval:100,frames:["","","",""]},toggle5:{interval:100,frames:["",""]},toggle6:{interval:300,frames:["",""]},toggle7:{interval:80,frames:["",""]},toggle8:{interval:100,frames:["",""]},toggle9:{interval:100,frames:["",""]},toggle10:{interval:100,frames:["","",""]},toggle11:{interval:50,frames:["",""]},toggle12:{interval:120,frames:["",""]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["","","","","","","",""]},arrow2:{interval:80,frames:[" "," "," "," "," "," "," "," "]},arrow3:{interval:120,frames:["","","","","",""]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[====]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["(     )","(     )","(     )","(     )","(     )","(     )","(     )","(     )","(     )","(     )"]},smiley:{interval:200,frames:["\uD83D\uDE04 ","\uD83D\uDE1D "]},monkey:{interval:300,frames:["\uD83D\uDE48 ","\uD83D\uDE48 ","\uD83D\uDE49 ","\uD83D\uDE4A "]},hearts:{interval:100,frames:["\uD83D\uDC9B ","\uD83D\uDC99 ","\uD83D\uDC9C ","\uD83D\uDC9A "," "]},clock:{interval:100,frames:["\uD83D\uDD5B ","\uD83D\uDD50 ","\uD83D\uDD51 ","\uD83D\uDD52 ","\uD83D\uDD53 ","\uD83D\uDD54 ","\uD83D\uDD55 ","\uD83D\uDD56 ","\uD83D\uDD57 ","\uD83D\uDD58 ","\uD83D\uDD59 ","\uD83D\uDD5A "]},earth:{interval:180,frames:["\uD83C\uDF0D ","\uD83C\uDF0E ","\uD83C\uDF0F "]},material:{interval:17,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},moon:{interval:80,frames:["\uD83C\uDF11 ","\uD83C\uDF12 ","\uD83C\uDF13 ","\uD83C\uDF14 ","\uD83C\uDF15 ","\uD83C\uDF16 ","\uD83C\uDF17 ","\uD83C\uDF18 "]},runner:{interval:140,frames:["\uD83D\uDEB6 ","\uD83C\uDFC3 "]},pong:{interval:80,frames:["       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       "]},shark:{interval:120,frames:["|\\____________","_|\\___________","__|\\__________","___|\\_________","____|\\________","_____|\\_______","______|\\______","_______|\\_____","________|\\____","_________|\\___","__________|\\__","___________|\\_","____________|\\","____________/|","___________/|_","__________/|__","_________/|___","________/|____","_______/|_____","______/|______","_____/|_______","____/|________","___/|_________","__/|__________","_/|___________","/|____________"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:[" "," "," ","\uD83C\uDF24 "," ","\uD83C\uDF25 "," ","\uD83C\uDF27 ","\uD83C\uDF28 ","\uD83C\uDF27 ","\uD83C\uDF28 ","\uD83C\uDF27 ","\uD83C\uDF28 "," ","\uD83C\uDF28 ","\uD83C\uDF27 ","\uD83C\uDF28 "," ","\uD83C\uDF25 "," ","\uD83C\uDF24 "," "," "]},christmas:{interval:400,frames:["\uD83C\uDF32","\uD83C\uDF84"]},grenade:{interval:80,frames:["  ","  ","  ","  ","  ","  ","  |","  ","  ","  ","  ","   ","   ","   "]},point:{interval:125,frames:["","","","",""]},layer:{interval:150,frames:["-","=",""]},betaWave:{interval:80,frames:["","","","","","",""]},fingerDance:{interval:160,frames:["\uD83E\uDD18 ","\uD83E\uDD1F ","\uD83D\uDD96 "," ","\uD83E\uDD1A ","\uD83D\uDC46 "]},fistBump:{interval:80,frames:["\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B "]},soccerHeader:{interval:80,frames:[" \uD83E\uDDD1       \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1       \uD83E\uDDD1  ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 "]},mindblown:{interval:160,frames:["\uD83D\uDE10 ","\uD83D\uDE10 ","\uD83D\uDE2E ","\uD83D\uDE2E ","\uD83D\uDE26 ","\uD83D\uDE26 ","\uD83D\uDE27 ","\uD83D\uDE27 ","\uD83E\uDD2F ","\uD83D\uDCA5 "," "," "," "," "]},speaker:{interval:160,frames:["\uD83D\uDD08 ","\uD83D\uDD09 ","\uD83D\uDD0A ","\uD83D\uDD09 "]},orangePulse:{interval:100,frames:["\uD83D\uDD38 ","\uD83D\uDD36 ","\uD83D\uDFE0 ","\uD83D\uDFE0 ","\uD83D\uDD36 "]},bluePulse:{interval:100,frames:["\uD83D\uDD39 ","\uD83D\uDD37 ","\uD83D\uDD35 ","\uD83D\uDD35 ","\uD83D\uDD37 "]},orangeBluePulse:{interval:100,frames:["\uD83D\uDD38 ","\uD83D\uDD36 ","\uD83D\uDFE0 ","\uD83D\uDFE0 ","\uD83D\uDD36 ","\uD83D\uDD39 ","\uD83D\uDD37 ","\uD83D\uDD35 ","\uD83D\uDD35 ","\uD83D\uDD37 "]},timeTravel:{interval:100,frames:["\uD83D\uDD5B ","\uD83D\uDD5A ","\uD83D\uDD59 ","\uD83D\uDD58 ","\uD83D\uDD57 ","\uD83D\uDD56 ","\uD83D\uDD55 ","\uD83D\uDD54 ","\uD83D\uDD53 ","\uD83D\uDD52 ","\uD83D\uDD51 ","\uD83D\uDD50 "]},aesthetic:{interval:80,frames:["","","","","","","",""]},dwarfFortress:{interval:80,frames:["   ","  ","  ","  ","  ","  ","  ","  ","  ","   ","   ","   ","   ","   ","   ","   ","   ","   ","    ","    ","    ","    ","    ","    ","    ","    ","    ","     ","     ","     ","     ","     ","     ","     ","     ","     ","      ","      ","      ","      ","      ","      ","      ","      ","      ","       ","       ","       ","       ","       ","       ","       ","       ","       ","        ","        ","        ","        ","        ","        ","        ","        ","        ","         ","         ","         ","         ","         ","         ","         ","         ","         ","          ","          ","          ","          ","          ","          ","          ","          ","          ","           ","          &","         &","         &","         &","        & ","         & ","        &  ","        &  ","       &   ","       &   ","      &    ","      &    ","      &     ","      &     ","     &     ","     &     ","    &      ","    &      ","   &      ","   &      ","  &       ","  &       "," &       "," &       ","&        ","&        ","        ","        ","        ","        ","       ","       ","       ","       ","      ","      ","      ","      ","     ","     ","     ","     ","    ","    ","    ","    ","   ","   ","   ","   ","   "]}}});var FC=TT((pL,_7)=>{var h_=Object.assign({},A7()),q7=Object.keys(h_);Object.defineProperty(h_,"random",{get(){let T=Math.floor(Math.random()*q7.length),R=q7[T];return h_[R]}});_7.exports=h_});var W7=TT((Dx,O7)=>{O7.exports=()=>{return/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g}});var eC=ET(tC(),1),{program:WR,createCommand:d1,createArgument:r1,createOption:p1,CommanderError:n1,InvalidArgumentError:s1,InvalidOptionArgumentError:t1,Command:e1,Argument:T$,Option:R$,Help:A$}=eC.default;import _A from"node:process";import{Buffer as _J}from"node:buffer";import D8 from"node:path";import{fileURLToPath as hJ}from"node:url";import BJ from"node:child_process";import G_,{constants as O8}from"node:fs/promises";import A8 from"node:process";import Y4 from"node:os";import w4 from"node:fs";import c4 from"node:fs";import T8 from"node:fs";var F_;function M4(){try{return T8.statSync("/.dockerenv"),!0}catch{return!1}}function S4(){try{return T8.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}function j_(){if(F_===void 0)F_=M4()||S4();return F_}var b_,P4=()=>{try{return c4.statSync("/run/.containerenv"),!0}catch{return!1}};function F9(){if(b_===void 0)b_=P4()||j_();return b_}var R8=()=>{if(A8.platform!=="linux")return!1;if(Y4.release().toLowerCase().includes("microsoft")){if(F9())return!1;return!0}try{return w4.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!F9():!1}catch{return!1}},qA=A8.env.__IS_WSL_TEST__?R8:R8();function oR(T,R,A){let q=(_)=>Object.defineProperty(T,R,{value:_,enumerable:!0,writable:!0});return Object.defineProperty(T,R,{configurable:!0,enumerable:!0,get(){let _=A();return q(_),_},set(_){q(_)}}),T}import{promisify as TJ}from"node:util";import a_ from"node:process";import{execFile as RJ}from"node:child_process";import{promisify as V4}from"node:util";import v4 from"node:process";import{execFile as m4}from"node:child_process";var l4=V4(m4);async function u_(){if(v4.platform!=="darwin")throw new Error("macOS only");let{stdout:T}=await l4("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(T)?.groups.id??"com.apple.Safari"}import o4 from"node:process";import{promisify as d4}from"node:util";import{execFile as r4,execFileSync as Q$}from"node:child_process";var p4=d4(r4);async function q8(T,{humanReadableOutput:R=!0}={}){if(o4.platform!=="darwin")throw new Error("macOS only");let A=R?[]:["-ss"],{stdout:q}=await p4("osascript",["-e",T,A]);return q.trim()}async function Q_(T){return q8(`tell application "Finder" to set app_path to application file id "${T}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}import{promisify as n4}from"node:util";import{execFile as s4}from"node:child_process";var t4=n4(s4),e4={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}};class N_ extends Error{}async function k_(T=t4){let{stdout:R}=await T("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),A=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(R);if(!A)throw new N_(`Cannot find Windows browser in stdout: ${JSON.stringify(R)}`);let{id:q}=A.groups,_=e4[q];if(!_)throw new N_(`Unknown browser ID: ${q}`);return _}var AJ=TJ(RJ),qJ=(T)=>T.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,(R)=>R.toUpperCase());async function K_(){if(a_.platform==="darwin"){let T=await u_();return{name:await Q_(T),id:T}}if(a_.platform==="linux"){let{stdout:T}=await AJ("xdg-mime",["query","default","x-scheme-handler/http"]),R=T.trim();return{name:qJ(R.replace(/.desktop$/,"").replace("-"," ")),id:R}}if(a_.platform==="win32")return k_();throw new Error("Only macOS, Linux, and Windows are supported")}var g_=D8.dirname(hJ(import.meta.url)),_8=D8.join(g_,"xdg-open"),{platform:j9,arch:h8}=_A,CJ=(()=>{let R;return async function(){if(R)return R;let A="/etc/wsl.conf",q=!1;try{await G_.access(A,O8.F_OK),q=!0}catch{}if(!q)return"/mnt/";let _=await G_.readFile(A,{encoding:"utf8"}),h=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(_);if(!h)return"/mnt/";return R=h.groups.mountPoint.trim(),R=R.endsWith("/")?R:`${R}/`,R}})(),B8=async(T,R)=>{let A;for(let q of T)try{return await R(q)}catch(_){A=_}throw A},sA=async(T)=>{if(T={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...T},Array.isArray(T.app))return B8(T.app,(C)=>sA({...T,app:C}));let{name:R,arguments:A=[]}=T.app??{};if(A=[...A],Array.isArray(R))return B8(R,(C)=>sA({...T,app:{name:C,arguments:A}}));if(R==="browser"||R==="browserPrivate"){let C={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","microsoft-edge.desktop":"edge"},O={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},D=await K_();if(D.id in C){let W=C[D.id];if(R==="browserPrivate")A.push(O[W]);return sA({...T,app:{name:b9[W],arguments:A}})}throw new Error(`${D.name} is not supported as a default browser`)}let q,_=[],h={};if(j9==="darwin"){if(q="open",T.wait)_.push("--wait-apps");if(T.background)_.push("--background");if(T.newInstance)_.push("--new");if(R)_.push("-a",R)}else if(j9==="win32"||qA&&!F9()&&!R){let C=await CJ();if(q=qA?`${C}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${_A.env.SYSTEMROOT||_A.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,_.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),!qA)h.windowsVerbatimArguments=!0;let O=["Start"];if(T.wait)O.push("-Wait");if(R){if(O.push(`"\`"${R}\`""`),T.target)A.push(T.target)}else if(T.target)O.push(`"${T.target}"`);if(A.length>0)A=A.map((D)=>`"\`"${D}\`""`),O.push("-ArgumentList",A.join(","));T.target=_J.from(O.join(" "),"utf16le").toString("base64")}else{if(R)q=R;else{let C=!g_||g_==="/",O=!1;try{await G_.access(_8,O8.X_OK),O=!0}catch{}q=_A.versions.electron??(j9==="android"||C||!O)?"xdg-open":_8}if(A.length>0)_.push(...A);if(!T.wait)h.stdio="ignore",h.detached=!0}if(j9==="darwin"&&A.length>0)_.push("--args",...A);if(T.target)_.push(T.target);let B=BJ.spawn(q,_,h);if(T.wait)return new Promise((C,O)=>{B.once("error",O),B.once("close",(D)=>{if(!T.allowNonzeroExitCode&&D>0){O(new Error(`Exited with code ${D}`));return}C(B)})});return B.unref(),B},DJ=(T,R)=>{if(typeof T!=="string")throw new TypeError("Expected a `target`");return sA({...R,target:T})};function C8(T){if(typeof T==="string"||Array.isArray(T))return T;let{[h8]:R}=T;if(!R)throw new Error(`${h8} is not supported`);return R}function L_({[j9]:T},{wsl:R}){if(R&&qA)return C8(R);if(!T)throw new Error(`${j9} is not supported`);return C8(T)}var b9={};oR(b9,"chrome",()=>L_({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));oR(b9,"firefox",()=>L_({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));oR(b9,"edge",()=>L_({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));oR(b9,"browser",()=>"browser");oR(b9,"browserPrivate",()=>"browserPrivate");var W8=DJ;var hA={name:"justd-cli",type:"module",version:"2.3.29",description:"The command line interface for Justd.",main:"dist/index.js",bin:{"justd-cli":"dist/index.js"},files:["dist","src/resources","LICENSE","README.md","package.json"],repository:{type:"git",url:"git+https://github.com/justdlabs/cli.git"},homepage:"https://getjustd.com/cli",scripts:{dev:"bun build ./src/index.ts --outdir ./dist --target=node --minify --watch",start:"bun ./src/index.ts",prepare:"npx husky",build:"bun build ./src/index.ts --outdir ./dist --target=node --minify",format:"biome lint --fix && biome check --write",test:"bun run build && bun link",preview:"bun run clean && bun run build && bun link",pr:"bun run build && git commit -a",pre:"chmod a+x dist/index.js",release:"export GITHUB_TOKEN=$(cat .github_token) && release-it",typecheck:"tsc --noEmit"},keywords:["cli","justd cli","Justd","design-system","justd"],author:"Irsyad A. Panjaitan",license:"MIT",devDependencies:{"@biomejs/biome":"^1.9.4","@changesets/cli":"^2.27.11","@commitlint/cli":"^19.6.1","@commitlint/config-conventional":"^19.6.0","@release-it/conventional-changelog":"^10.0.0","@types/babel__core":"^7.20.5","@types/diff":"^7.0.0","@types/figlet":"^1.7.0","@types/fs-extra":"^11.0.4","@types/inquirer":"^9.0.7","@types/node":"^22.10.6",husky:"^9.1.5","release-it":"^18.1.1",rimraf:"^6.0.1",typescript:"^5.7.3"},dependencies:{"@antfu/ni":"^23.2.0","@babel/core":"^7.26.0","@babel/parser":"^7.26.5","@babel/plugin-transform-typescript":"^7.26.5","@inquirer/prompts":"^7.2.3",arktype:"^2.0.0-rc.33",commander:"^13.0.0",diff:"^5.2.0",open:"^10.1.0",ora:"^8.1.1","oxc-transform":"^0.46.0","strip-json-comments":"^5.0.1"},"release-it":{git:{commitMessage:"chore: release ${version}",tagName:"v${version}"},github:{release:!0},npm:{publish:!1},publishConfig:{access:"public",registry:"https://npm.pkg.github.com"},plugins:{"@release-it/conventional-changelog":{infile:"CHANGELOG.md",preset:{name:"conventionalcommits",types:[{type:"feat",section:"Features"},{type:"fix",section:"Bug Fixes"},{type:"refactor",section:"Refactors"},{type:"chore",section:"Chores"}]}}}}};import vT from"node:fs";import C_ from"node:path";var BA=["buttons","controls","collections","date-and-time","drag-and-drop","forms","navigation","overlays","pickers","statuses","surfaces","media","colors","layouts"],dR=[{name:"heading"},{name:"primitive"},{name:"dropdown"},{name:"dialog",children:[{name:"button"}]},{name:"field"},{name:"keyboard"},{name:"visually-hidden"},{name:"forms",children:[{name:"form"},{name:"text-field"},{name:"tag-field"},{name:"radio"},{name:"checkbox"},{name:"textarea"},{name:"number-field"},{name:"search-field"},{name:"input-otp"},{name:"choicebox"}]},{name:"collections",children:[{name:"menu"},{name:"grid-list"},{name:"list-box"},{name:"tabs"},{name:"tag-group"},{name:"table"},{name:"choicebox"},{name:"tree"}]},{name:"date-and-time",children:[{name:"date-field"},{name:"date-picker"},{name:"date-range-picker"},{name:"popover"}]},{name:"navigation",children:[{name:"link"},{name:"breadcrumbs"},{name:"pagination"},{name:"button"},{name:"disclosure"},{name:"button"},{name:"separator"},{name:"field"}]},{name:"overlays",children:[{name:"sheet"},{name:"modal"},{name:"drawer"},{name:"popover"},{name:"tooltip"}]},{name:"pickers",children:[{name:"combo-box"},{name:"select"},{name:"multiple-select"}]},{name:"statuses",children:[{name:"skeleton"},{name:"badge"},{name:"loader"},{name:"progress-bar"},{name:"progress-circle"},{name:"meter"},{name:"note"},{name:"toast"}]},{name:"surfaces",children:[{name:"card"},{name:"chart"},{name:"description-list"},{name:"grid"},{name:"separator"},{name:"show-more"}]},{name:"media",children:[{name:"avatar"},{name:"carousel"}]},{name:"colors",children:[{name:"color-picker"},{name:"color-swatch-picker"}]},{name:"buttons",children:[{name:"file-trigger"},{name:"toggle"}]},{name:"drag-and-drop",children:[{name:"drop-zone"}]},{name:"controls",children:[{name:"toolbar"},{name:"slider"},{name:"switch"},{name:"command-menu"},{name:"context-menu"}]},{name:"layouts",children:[{name:"sidebar"},{name:"navbar"},{name:"container"}]},{name:"button"},{name:"file-trigger",children:[{name:"button"}]},{name:"toggle"},{name:"menu",children:[{name:"dropdown"},{name:"keyboard"},{name:"popover"}]},{name:"list-box",children:[{name:"dropdown"},{name:"field"}]},{name:"tabs"},{name:"tag-group",children:[{name:"field"},{name:"badge"}]},{name:"table",children:[{name:"checkbox"}]},{name:"grid-list",children:[{name:"checkbox"}]},{name:"choicebox",children:[{name:"checkbox"},{name:"field"}]},{name:"tree",children:[{name:"checkbox"}]},{name:"calendar",children:[{name:"button"}]},{name:"range-calendar",children:[{name:"calendar"}]},{name:"date-field"},{name:"date-range-picker",children:[{name:"date-picker"}]},{name:"date-picker",children:[{name:"popover"},{name:"field"},{name:"calendar"},{name:"date-field"},{name:"range-calendar"}]},{name:"time-field",children:[{name:"field"},{name:"date-field"}]},{name:"form"},{name:"tag-field",children:[{name:"tag-group"},{name:"field"}]},{name:"text-field",children:[{name:"field"},{name:"loader"}]},{name:"input-otp"},{name:"radio",children:[{name:"field"}]},{name:"checkbox",children:[{name:"field"}]},{name:"textarea",children:[{name:"field"}]},{name:"number-field",children:[{name:"field"}]},{name:"search-field",children:[{name:"field"},{name:"button"},{name:"loader"}]},{name:"link"},{name:"disclosure"},{name:"pagination",children:[{name:"button"}]},{name:"breadcrumbs",children:[{name:"link"}]},{name:"card",children:[{name:"heading"}]},{name:"chart"},{name:"description-list"},{name:"grid"},{name:"separator"},{name:"show-more",children:[{name:"button"}]},{name:"drop-zone"},{name:"avatar",children:[{name:"visually-hidden"}]},{name:"carousel",children:[{name:"button"}]},{name:"modal",children:[{name:"dialog"}]},{name:"sheet",children:[{name:"dialog"}]},{name:"drawer",children:[{name:"dialog"}]},{name:"tooltip"},{name:"popover",children:[{name:"dialog"}]},{name:"combo-box",children:[{name:"field"},{name:"list-box"},{name:"popover"}]},{name:"select",children:[{name:"field"},{name:"list-box"},{name:"popover"}]},{name:"multiple-select",children:[{name:"field"},{name:"list-box"},{name:"popover"},{name:"tag-group"},{name:"visually-hidden"}]},{name:"skeleton"},{name:"badge"},{name:"loader"},{name:"progress-bar",children:[{name:"field"}]},{name:"progress-circle"},{name:"meter",children:[{name:"field"}]},{name:"note"},{name:"toast",children:[{name:"button"},{name:"loader"}]},{name:"color-picker",children:[{name:"color-area"},{name:"color-field"},{name:"color-slider"},{name:"color-swatch"},{name:"field"}]},{name:"color-field",children:[{name:"color-picker"},{name:"color-swatch"},{name:"field"}]},{name:"color-area",children:[{name:"color-thumb"}]},{name:"color-slider",children:[{name:"color-thumb"},{name:"field"}]},{name:"color-swatch-picker",children:[{name:"color-swatch"}]},{name:"color-wheel",children:[{name:"color-thumb"}]},{name:"color-swatch"},{name:"color-thumb"},{name:"command-menu",children:[{name:"keyboard"},{name:"separator"},{name:"loader"}]},{name:"context-menu",children:[{name:"menu"}]},{name:"slider",children:[{name:"field"}]},{name:"switch"},{name:"toolbar",children:[{name:"toggle"},{name:"separator"}]},{name:"sidebar",children:[{name:"sheet"},{name:"tooltip"},{name:"badge"},{name:"separator"}]},{name:"navbar",children:[{name:"sheet"}]},{name:"container"}];import{spawn as iJ}from"node:child_process";var WT=ET(i8(),1);import{stripVTControlCharacters as y8}from"node:util";function m(T){return`${WT.default.dim(WT.default.blue("`"))}${WT.default.blue(T)}${WT.default.dim(WT.default.blue("`"))}`}function UT(T){return`${WT.default.gray(T)}`}function $8(T){return`${WT.default.dim(WT.default.red("`"))}${WT.default.red(T)}${WT.default.dim(WT.default.blue("`"))}`}function rR(T){return`${WT.default.dim(WT.default.yellow("`"))}${WT.default.yellow(T)}${WT.default.dim(WT.default.blue("`"))}`}function I8(T,R){if(T.includes(`
`))return T.split(`
`).flatMap((B)=>I8(B,R));let A=T.split(" "),q=[],_="",h=0;for(let B of A){let C=y8(B).length;if(h+C+1>R)q.push(_),_="",h=0;_+=(h?" ":"")+B,h+=C+(h?1:0)}if(h)q.push(_);return q}function f_(T,{art:R=WT.default.gray(""),prefix:A="",print:q=Tq}){let _=A.length,h=" ",B=1,C=y8(R).length,D=process.stderr.columns-_-2-C;I8(T,D).map((W,H)=>{return q(`${R} ${H===0?A:" ".repeat(_)}${W} `)}),q()}function E8(T,{prefix:R="",print:A=Tq}={}){f_(T,{art:WT.default.blue(""),prefix:R,print:A})}function hT(T,{prefix:R="",print:A=Tq}={}){f_(T,{art:WT.default.red(""),prefix:R,print:A})}function F8(T,{prefix:R="",print:A=Tq}={}){f_(T,{art:WT.default.yellow(""),prefix:R,print:A})}function Tq(T=""){process.stderr.write(`${T}
`)}var Rq=async(T,R,A)=>{let _={toast:"sonner",drawer:"motion",disclosure:"justd-icons",tabs:"motion","progress-bar":"motion",navbar:"motion",meter:"motion",chart:"recharts","input-otp":"input-otp",carousel:"embla-carousel-react","command-menu":"cmdk","multiple-select":"react-aria"}[T];if(_){let h=`${R} ${A} ${_} --silent`,B=iJ(h,{stdio:"ignore",shell:!0});await new Promise((C,O)=>{B.on("close",(D)=>{if(D===0)C();else hT(`Failed to install ${m(_)}. Exit code: ${D}`),O(new Error(`Installation failed for ${_} with code ${D}`))}),B.on("error",(D)=>{hT(`Error while executing: ${m(h)}`),O(D)})})}};import*as jR from"node:fs/promises";import*as P9 from"node:path";var u9=(T)=>Array.isArray(T)?T:[T],j8=(T,R)=>{let A=[[],[]];for(let q of T)if(R(q))A[0].push(q);else A[1].push(q);return A},Aq=Array,HR=(T,R)=>T.includes(R);var Y=(T,R,A)=>{if(T===void 0)return R===void 0?[]:Array.isArray(R)?R:[R];if(A?.prepend)if(Array.isArray(R))T.unshift(...R);else T.unshift(R);else if(Array.isArray(R))T.push(...R);else T.push(R);return T},fR=(T,R)=>{if(R===void 0||R===null)return T??[];if(T===void 0||T===null)return u9(R);return T.concat(R)};var JR=(T,R,A)=>{if(T===void 0)return Array.isArray(R)?R:[R];let q=A?.isEqual??((_,h)=>_===h);return u9(R).forEach((_)=>{if(!T.some((h)=>q(h,_)))T.push(_)}),T},qq=(T,R)=>T.reduce((A,q)=>{let _=q[R];return A[_]=Y(A[_],q),A},{}),Q9=(T,R,A)=>T.length===R.length&&T.every(A?.isEqual?(q,_)=>A.isEqual(q,R[_]):(q,_)=>q===R[_]);var KT=(T,R)=>kT(T)===R,kT=(T)=>{let R=typeof T;return R==="object"?T===null?"null":"object":R==="function"?"object":R},MT={boolean:"boolean",null:"null",undefined:"undefined",bigint:"a bigint",number:"a number",object:"an object",string:"a string",symbol:"a symbol"},b8={...MT,function:"a function"};class u8 extends Error{}var p=(T)=>iR(T,u8),iR=(T,R=Error)=>{throw new R(T)};class _q extends Error{name="ParseError"}var F=(T)=>iR(T,_q),sT=(T)=>` ${T}`;var c=(T,R)=>{let A={},q=Array.isArray(T),_=!1;return Object.entries(T).forEach((h,B)=>{let C=q?R(B,h[1]):R(...h,B);_||=typeof C[0]==="number",(Array.isArray(C[0])||C.length===0?C:[C]).forEach(([D,W])=>{if(typeof D==="object")A[D.group]=Y(A[D.group],W);else A[D]=W})}),_?Object.values(A):A};var z_=Object.entries;var IT=(T,R)=>(T in R);class X_{constructor(T){Object.assign(this,T)}}var Q8=class{};class CA extends Q8{}var yJ=(T,R)=>{let A={},q={},_;for(_ in T)if(_ in R)A[_]=T[_];else q[_]=T[_];return[A,q]};var N8=(T,R)=>yJ(T,R)[1],mT=(T)=>Object.keys(T).length===0,DA=(T)=>[...Object.entries(T),...Object.getOwnPropertySymbols(T).map((R)=>[R,T[R]])],k8=(T,R)=>Object.defineProperties(T,Object.getOwnPropertyDescriptors(R));var pR=sT("represents an uninitialized value");var Z_={Array,Boolean,Date,Error,Function,Map,Number,Promise,RegExp,Set,String,WeakMap,WeakSet},U_=globalThis.File??Blob,M_={ArrayBuffer,Blob,File:U_,FormData,Headers,Request,Response,URL},$J={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array},nR={...Z_,...M_,...$J,String,Number,Boolean},OA=(T)=>{let R=Object.getPrototypeOf(T);while(R?.constructor&&(!IT(R.constructor.name,nR)||!(T instanceof nR[R.constructor.name])))R=Object.getPrototypeOf(R);let A=R?.constructor?.name;if(A===void 0||A==="Object")return;return A},WA=(T)=>typeof T==="object"&&T!==null?OA(T)??"object":kT(T);var AT=Array.isArray,IJ={Array:"an array",Function:"a function",Date:"a Date",RegExp:"a RegExp",Error:"an Error",Map:"a Map",Set:"a Set",String:"a String object",Number:"a Number object",Boolean:"a Boolean object",Promise:"a Promise",WeakMap:"a WeakMap",WeakSet:"a WeakSet"},EJ={ArrayBuffer:"an ArrayBuffer instance",Blob:"a Blob instance",File:"a File instance",FormData:"a FormData instance",Headers:"a Headers instance",Request:"a Request instance",Response:"a Response instance",URL:"a URL instance"},FJ={Int8Array:"an Int8Array",Uint8Array:"a Uint8Array",Uint8ClampedArray:"a Uint8ClampedArray",Int16Array:"an Int16Array",Uint16Array:"a Uint16Array",Int32Array:"an Int32Array",Uint32Array:"a Uint32Array",Float32Array:"a Float32Array",Float64Array:"a Float64Array",BigInt64Array:"a BigInt64Array",BigUint64Array:"a BigUint64Array"},a8={...IJ,...EJ,...FJ},HA=(T)=>{let R=Object(T).name??null;return R&&IT(R,nR)&&nR[R]===T?R:null};var S_=(T,R)=>{let A=T.prototype;while(A!==null){if(A===R.prototype)return!0;A=Object.getPrototypeOf(A)}return!1};var K8=(T)=>G8(T,new Map),G8=(T,R)=>{if(typeof T!=="object"||T===null)return T;if(R?.has(T))return R.get(T);let A=HA(T.constructor);if(A==="Date")return new Date(T.getTime());if(A&&A!=="Array")return T;let q=Array.isArray(T)?T.slice():Object.create(Object.getPrototypeOf(T)),_=Object.getOwnPropertyDescriptors(T);if(R){R.set(T,q);for(let h in _)_[h].value=G8(_[h].value,R)}return Object.defineProperties(q,_),q};var jJ=(T)=>{let R=pR;return()=>R===pR?R=T():R},zR=(T)=>typeof T==="function"&&T.length===0;var g8=class extends Function{constructor(...T){let R=T.slice(0,-1),A=T.at(-1);try{super(...R,A)}catch(q){return p(`Encountered an unexpected error while compiling your definition:
                Message: ${q} 
                Source: (${T.slice(0,-1)}) => {
                    ${T.at(-1)}
                }`)}}};class XR{constructor(T,...[R]){return Object.assign(Object.setPrototypeOf(T.bind(R?.bind??this),this.constructor.prototype),R?.attach)}}var L8=jJ(()=>{try{return new Function("return false")()}catch{return!0}});var x8=sT("arkInferred");var QI=sT("args");class jT{constructor(){}}var f8=(T)=>T[0].toUpperCase()+T.slice(1);var c_=(T)=>new RegExp(bJ(T),typeof T==="string"?"":T.flags);var bJ=(T)=>{return`^(?:${typeof T==="string"?T:T.source})$`};var yR={negativeLookahead:(T)=>`(?!${T})`,nonCapturingGroup:(T)=>`(?:${T})`},JA="\\",ZR={" ":1,"\n":1,"\t":1};var uJ=/^-0\.?0*$/.source,X8=/[1-9]\d*/.source,QJ=/\.\d+/.source,NJ=/\.\d*[1-9]/.source,Z8=(T)=>c_(yR.negativeLookahead(uJ)+yR.nonCapturingGroup("-?"+yR.nonCapturingGroup(yR.nonCapturingGroup("0|"+X8)+yR.nonCapturingGroup(T.decimalPattern)+"?")+(T.allowDecimalOnly?"":"|"+T.decimalPattern)+"?")),z8=Z8({decimalPattern:NJ,allowDecimalOnly:!1}),kJ=z8.test.bind(z8),U8=Z8({decimalPattern:QJ,allowDecimalOnly:!0}),aJ=/^-?\d*\.?\d*$/,KJ=(T)=>T.length!==0&&aJ.test(T),iA=c_(yR.negativeLookahead("^-0$")+"-?"+yR.nonCapturingGroup(yR.nonCapturingGroup("0|"+X8))),GJ=iA.test.bind(iA),P_=/^-?\d+$/,gJ=P_.test.bind(P_),M8={number:"a number",bigint:"a bigint",integer:"an integer"},S8=(T,R)=>`'${T}' was parsed as ${M8[R]} but could not be narrowed to a literal value. Avoid unnecessary leading or trailing zeros and other abnormal notation`,LJ=(T,R)=>R==="number"?kJ(T):GJ(T),xJ=(T,R)=>R==="number"?Number(T):Number.parseInt(T),fJ=(T,R)=>R==="number"?KJ(T):gJ(T),c8=(T,R)=>Y_(T,"number",R),P8=(T,R)=>Y_(T,"number",{...R,strict:!0}),Y8=(T,R)=>Y_(T,"integer",R),Y_=(T,R,A)=>{let q=xJ(T,R);if(!Number.isNaN(q)){if(fJ(T,R)){if(A?.strict)return LJ(T,R)?q:F(S8(T,R));return q}}return A?.errorOnFail?F(A?.errorOnFail===!0?`Failed to parse ${M8[R]} from '${T}'`:A?.errorOnFail):void 0},w8=(T)=>{if(T[T.length-1]!=="n")return;let R=T.slice(0,-1),A;try{A=BigInt(R)}catch{return}if(iA.test(R))return A;if(P_.test(R))return F(S8(T,"bigint"))};var zJ="0.33.0",XJ={version:zJ,filename:import.meta.filename??globalThis.__filename??"unknown",FileConstructor:U_},sR=XJ,V8=new WeakMap,w_=Object.create(null),yA=(T)=>{let R=V8.get(T);if(R)return R;let A=ZJ(T);if(w_[A])A=`${A}${w_[A]++}`;else w_[A]=1;return sR[A]=T,V8.set(T,A),A},N9=(T)=>/^[a-zA-Z_$][a-zA-Z_$0-9]*$/.test(T),ZJ=(T)=>{switch(typeof T){case"object":{if(T===null)break;let R=OA(T)??"object";return R[0].toLowerCase()+R.slice(1)}case"function":return N9(T.name)?T.name:"fn";case"symbol":return T.description&&N9(T.description)?T.description:"symbol"}return p(`Unexpected attempt to register serializable value of type ${kT(T)}`)};var hq=(T)=>typeof T==="string"?JSON.stringify(T):typeof T==="bigint"?`${T}n`:`${T}`;var v8=(T,R={})=>$A(T,{onUndefined:"$ark.undefined",onBigInt:(A)=>`$ark.bigint-${A}`,...R},[]);var Z=(T,R)=>{switch(kT(T)){case"object":let A=T,q=A.constructor.name;return q==="Object"||q==="Array"?JSON.stringify($A(A,Bq,[]),null,R):A instanceof Date?tR(A):typeof A.expression==="string"?A.expression:q;case"symbol":return Bq.onSymbol(T);default:return hq(T)}},Bq={onCycle:()=>"(cycle)",onSymbol:(T)=>`Symbol(${yA(T)})`,onFunction:(T)=>`Function(${yA(T)})`},$A=(T,R,A)=>{switch(kT(T)){case"object":{let q=T;if("toJSON"in q&&typeof q.toJSON==="function")return q.toJSON();if(typeof q==="function")return Bq.onFunction(q);if(A.includes(q))return"(cycle)";let _=[...A,q];if(Array.isArray(q))return q.map((B)=>$A(B,R,_));if(q instanceof Date)return q.toDateString();let h={};for(let B in q)h[B]=$A(q[B],R,_);for(let B of Object.getOwnPropertySymbols(q))h[R.onSymbol?.(B)??B.toString()]=$A(q[B],R,_);return h}case"symbol":return Bq.onSymbol(T);case"bigint":return R.onBigInt?.(T)??`${T}n`;case"undefined":return R.onUndefined??"undefined";case"string":return T.replaceAll("\\","\\\\");default:return T}},tR=(T)=>{let R=T.getFullYear(),A=T.getMonth(),q=T.getDate(),_=T.getHours(),h=T.getMinutes(),B=T.getSeconds(),C=T.getMilliseconds();if(A===0&&q===1&&_===0&&h===0&&B===0&&C===0)return`${R}`;let O=`${UJ[A]} ${q}, ${R}`;if(_===0&&h===0&&B===0&&C===0)return O;let D=T.toLocaleTimeString(),W=D.endsWith(" AM")||D.endsWith(" PM")?D.slice(-3):"";if(W)D=D.slice(0,-W.length);if(C)D+=`.${SJ(C,3)}`;else if(MJ.test(D))D=D.slice(0,-3);return`${D+W}, ${O}`},UJ=["January","February","March","April","May","June","July","August","September","October","November","December"],MJ=/:\d\d:00$/,SJ=(T,R)=>String(T).padStart(R,"0");var m8=(T,R,...[A])=>{let q=A?.stringifySymbol??Z,_=T;switch(typeof R){case"string":_=N9(R)?T===""?R:`${T}.${R}`:`${T}[${JSON.stringify(R)}]`;break;case"number":_=`${T}[${R}]`;break;case"symbol":_=`${T}[${q(R)}]`;break;default:if(A?.stringifyNonKey)_=`${T}[${A.stringifyNonKey(R)}]`;else F(`${Z(R)} must be a PropertyKey or stringifyNonKey must be passed to options`)}return _},eR=(T,...R)=>T.reduce((A,q)=>m8(A,q,...R),"");class T9 extends Aq{cache={};constructor(...T){super();this.push(...T)}stringify(){if(this.cache.stringify)return this.cache.stringify;return this.cache.stringify=eR(this)}stringifyAncestors(){if(this.cache.stringifyAncestors)return this.cache.stringifyAncestors;let T="",R=[T];return this.forEach((A)=>{T=m8(T,A),R.push(T)}),this.cache.stringifyAncestors=R}}class V_{chars;i;def;constructor(T){this.def=T,this.chars=[...T],this.i=0}shift(){return this.chars[this.i++]??""}get lookahead(){return this.chars[this.i]??""}get nextLookahead(){return this.chars[this.i+1]??""}get length(){return this.chars.length}shiftUntil(T){let R="";while(this.lookahead){if(T(this,R))if(R[R.length-1]===JA)R=R.slice(0,-1);else break;R+=this.shift()}return R}shiftUntilLookahead(T){return typeof T==="string"?this.shiftUntil((R)=>R.lookahead===T):this.shiftUntil((R)=>(R.lookahead in T))}shiftUntilNonWhitespace(){return this.shiftUntil(()=>!(this.lookahead in ZR))}jumpToIndex(T){this.i=T<0?this.length+T:T}jumpForward(T){this.i+=T}get location(){return this.i}get unscanned(){return this.chars.slice(this.i,this.length).join("")}get scanned(){return this.chars.slice(0,this.i).join("")}sliceChars(T,R){return this.chars.slice(T,R).join("")}lookaheadIs(T){return this.lookahead===T}lookaheadIsIn(T){return this.lookahead in T}}var nI=sT("implementedTraits");var v_="$ark",m_=2;while(v_ in globalThis)v_=`$ark${m_++}`;var l8=v_;globalThis[l8]=sR;var u=sR;if(m_!==2){let T=globalThis,R=[T.$ark];for(let _=2;_<m_;_++)if(T[`$ark${_}`])R.push(T[`$ark${_}`]);console.warn("Multiple @ark registries detected. This can lead to unexpected behavior.");let A=qq(R,"filename"),q=Object.keys(A);for(let _ of q)if(A[_].length>1)console.warn(`File ${_} was initialized multiple times, likely due to being imported from both CJS and ESM contexts.`);if(q.length>1)console.warn("Registries were initialized at the following paths:"+q.map((_)=>`\t${_} (@ark/util version ${A[_][0].version})`).join(`
`))}var cJ=(T)=>`${l8}.${T}`,JT=(T)=>cJ(yA(T));class Cq extends CA{argNames;body="";constructor(...T){super();this.argNames=T;for(let R of T){if(R in this)throw new Error(`Arg name '${R}' would overwrite an existing property on FunctionBody`);this[R]=R}}indentation=0;indent(){return this.indentation+=4,this}dedent(){return this.indentation-=4,this}prop(T,R=!1){return l_(T,R)}index(T,R=!1){return o8(`${T}`,R)}line(T){return this.body+=`${" ".repeat(this.indentation)}${T}
`,this}const(T,R){return this.line(`const ${T} = ${R}`),this}let(T,R){return this.line(`let ${T} = ${R}`)}set(T,R){return this.line(`${T} = ${R}`)}if(T,R){return this.block(`if (${T})`,R)}elseIf(T,R){return this.block(`else if (${T})`,R)}else(T){return this.block("else",T)}for(T,R,A=0){return this.block(`for (let i = ${A}; ${T}; i++)`,R)}forIn(T,R){return this.block(`for (const k in ${T})`,R)}block(T,R,A=""){return this.line(`${T} {`),this.indent(),R(this),this.dedent(),this.line(`}${A}`)}return(T=""){return this.line(`return ${T}`)}write(T="anonymous"){return`${T}(${this.argNames.join(", ")}) {
${this.body}}`}compile(){return new g8(...this.argNames,this.body)}}var $R=(T)=>KT(T,"object")||typeof T==="symbol"?JT(T):hq(T),l_=(T,R=!1)=>{if(typeof T==="string"&&N9(T))return`${R?"?":""}.${T}`;return o8(PJ(T),R)},PJ=(T)=>typeof T==="symbol"?JT(T):JSON.stringify(T),o8=(T,R=!1)=>`${R?"?.":""}[${T}]`;class Dq extends Cq{path=[];discriminants=[];traversalKind;constructor(T){super("data","ctx");this.traversalKind=T}invoke(T,R){let A=R?.arg??this.data,q=typeof T==="string"?!0:this.requiresContextFor(T),_=typeof T==="string"?T:T.id;if(q)return`${this.referenceToId(_,R)}(${A}, ${this.ctx})`;return`${this.referenceToId(_,R)}(${A})`}referenceToId(T,R){let A=R?.kind??this.traversalKind,q=`this.${T}${A}`;return R?.bind?`${q}.bind(${R?.bind})`:q}requiresContextFor(T){return this.traversalKind==="Apply"||T.allowsRequiresContext}initializeErrorCount(){return this.const("errorCount","ctx.currentErrorCount")}returnIfFail(){return this.if("ctx.currentErrorCount > errorCount",()=>this.return())}returnIfFailFast(){return this.if("ctx.failFast && ctx.currentErrorCount > errorCount",()=>this.return())}traverseKey(T,R,A){let q=this.requiresContextFor(A);if(q)this.line(`${this.ctx}.path.push(${T})`);if(this.check(A,{arg:R}),q)this.line(`${this.ctx}.path.pop()`);return this}check(T,R){return this.traversalKind==="Allows"?this.if(`!${this.invoke(T,R)}`,()=>this.return(!1)):this.line(this.invoke(T,R))}}var Oq=(T)=>c(T,(R,A)=>[R,AT(A)?[...A]:A]),GT=sT("arkKind"),a=(T,R)=>T?.[GT]===R,_T=(T)=>a(T,"root")||a(T,"constraint");var d8=["unit","proto","domain"],k9=["required","optional","index","sequence"],o_=["pattern","divisor","exactLength","max","min","maxLength","minLength","before","after"],Wq=[...o_,...k9,"structure","predicate"],a9=["alias","union","morph","unit","intersection","proto","domain"],YJ=[...a9,...Wq],Hq=c(Wq,(T,R)=>[R,1]),r8=c([...k9,"undeclared"],(T,R)=>[R,1]),p8=c(YJ,(T,R)=>[R,T]),K9=(T)=>typeof T==="string"&&(T in p8);var G9=(T)=>p8[T],Jq=(T)=>a9.slice(G9(T)+1),zE=[...Jq("union"),"alias"],XE=[...Jq("morph"),"alias"],IR=(T)=>{if(typeof T==="string"||typeof T==="boolean"||T===null)return T;if(typeof T==="number"){if(Number.isNaN(T))return"NaN";if(T===Number.POSITIVE_INFINITY)return"Infinity";if(T===Number.NEGATIVE_INFINITY)return"-Infinity";return T}return $R(T)},UR=(T)=>{let R="{ ";for(let[A,q]of Object.entries(T))R+=`${A}: ${$R(q)}, `;return R+" }"},f=(T)=>{let R=T;if(R.hasAssociatedError)R.defaults.expected??=(A)=>("description"in A)?A.description:R.defaults.description(A),R.defaults.actual??=(A)=>Z(A),R.defaults.problem??=(A)=>`must be ${A.expected}${A.actual?` (was ${A.actual})`:""}`,R.defaults.message??=(A)=>{if(A.path.length===0)return A.problem;let q=`${A.propString} ${A.problem}`;if(q[0]==="[")return`value at ${q}`;return q};return R};u.config??={};var wJ=(T,R)=>{let A={...T},q;for(q in R)A[q]=K9(q)?{...T[q],...R[q]}:R[q];return A},n8=(T,R)=>{if(!R)return T;return wJ(T,R)},s8=(T)=>n8(n8(u.defaultConfig,u.config),T);class R9 extends CA{[GT]="error";path;data;nodeConfig;input;constructor(T,R){super();this.input=T,k8(this,T);let A=R.data;if(T.code==="union")T.errors=T.errors.flatMap((q)=>q.hasCode("union")?q.errors:q);this.nodeConfig=R.config[this.code],this.path=T.relativePath?new T9(...R.path,...T.relativePath):T.path?new T9(...T.path):new T9(...R.path),this.data="data"in T?T.data:A}hasCode(T){return this.code===T}get propString(){return eR(this.path)}get expected(){return this.input.expected??this.meta?.expected?.(this.input)??this.nodeConfig.expected?.(this.input)}get actual(){return this.input.actual??this.meta?.actual?.(this.data)??this.nodeConfig.actual?.(this.data)}get problem(){return this.input.problem??this.meta?.problem?.(this)??this.nodeConfig.problem(this)}get message(){return this.input.message??this.meta?.message?.(this)??this.nodeConfig.message(this)}toString(){return this.message}throw(){throw this}}class gT extends Aq{ctx;constructor(T){super();this.ctx=T}byPath=Object.create(null);byAncestorPath=Object.create(null);count=0;mutable=this;throw(){throw new AggregateError(this,this.summary)}add(T){if(this.includes(T))return;this._add(T)}merge(T){T.forEach((R)=>{if(this.includes(R))return;this._add(new R9({...R,path:[...this.ctx.path,...R.path]},this.ctx))})}affectsPath(T){if(this.length===0)return!1;return T.stringifyAncestors().some((R)=>(R in this.byPath))||T.stringify()in this.byAncestorPath}get summary(){return this.toString()}get message(){return this.toString()}get issues(){return this}toString(){return this.join(`
`)}_add(T){let R=this.byPath[T.propString];if(R){let A=new R9({code:"intersection",errors:R.hasCode("intersection")?[...R.errors,T]:[R,T]},this.ctx),q=this.indexOf(R);this.mutable[q===-1?this.length:q]=A,this.byPath[T.propString]=A,this.addAncestorPaths(T)}else this.byPath[T.propString]=T,this.addAncestorPaths(T),this.mutable.push(T);this.count++}addAncestorPaths(T){T.path.stringifyAncestors().forEach((R)=>{this.byAncestorPath[R]=Y(this.byAncestorPath[R],T)})}}class iq{path=[];queuedMorphs=[];errors=new gT(this);branches=[];seen={};root;config;constructor(T,R){this.root=T,this.config=R}get external(){return this}get currentBranch(){return this.branches.at(-1)}queueMorphs(T){let R={path:new T9(...this.path),morphs:T};if(this.currentBranch)this.currentBranch.queuedMorphs.push(R);else this.queuedMorphs.push(R)}finalize(){if(!this.queuedMorphs.length)return this.hasError()?this.errors:this.root;if(typeof this.root==="object"&&this.root!==null&&this.config.clone)this.root=this.config.clone(this.root);return this.applyQueuedMorphs(),this.hasError()?this.errors:this.root}applyQueuedMorphs(){while(this.queuedMorphs.length){let T=this.queuedMorphs;this.queuedMorphs=[];for(let{path:R,morphs:A}of T){if(this.errors.affectsPath(R))continue;this.applyMorphsAtPath(R,A)}}}applyMorphsAtPath(T,R){let A=T.at(-1),q;if(A!==void 0){q=this.root;for(let _=0;_<T.length-1;_++)q=q[T[_]]}this.path=[...T];for(let _ of R){let h=_T(_),B=_(q===void 0?this.root:q[A],this);if(B instanceof R9){this.errors.add(B);break}if(B instanceof gT){if(!h)this.errors.merge(B);break}if(q===void 0)this.root=B;else q[A]=B;this.applyQueuedMorphs()}}get currentErrorCount(){return this.currentBranch?this.currentBranch.error?1:0:this.errors.count}hasError(){return this.currentErrorCount!==0}get failFast(){return this.branches.length!==0}errorFromNodeContext(T){return this.errorFromContext(T)}error(T){let R=typeof T==="object"?T.code?T:{...T,code:"predicate"}:{code:"predicate",expected:T};return this.errorFromContext(R)}errorFromContext(T){let R=new R9(T,this);if(this.currentBranch)this.currentBranch.error=R;else this.errors.add(R);return R}get data(){let T=this.root;for(let R of this.path)T=T?.[R];return T}reject(T){return this.error(T),!1}mustBe(T){return this.error(T),!1}pushBranch(){this.branches.push({error:void 0,queuedMorphs:[]})}popBranch(){return this.branches.pop()}}var LT=(T,R,A)=>{if(!A)return R();A.path.push(T);let q=R();return A.path.pop(),q};class IA extends XR{attachments;$;constructor(T,R){super((A,q)=>{if(!this.includesMorph&&!this.allowsRequiresContext&&this.allows(A))return A;if(q)return this.traverseApply(A,q),q.hasError()?q.errors:q.data;let _=new iq(A,this.$.resolvedConfig);return this.traverseApply(A,_),_.finalize()},{attach:T});this.attachments=T,this.$=R}withMeta(T){return this.$.node(this.kind,{...this.inner,meta:typeof T==="function"?T({...this.meta}):T})}includesMorph=this.kind==="morph"||this.hasKind("optional")&&this.hasDefault()||this.hasKind("sequence")&&this.defaultablesLength!==0||this.hasKind("structure")&&this.undeclared==="delete"||this.children.some((T)=>T.includesMorph);hasContextualPredicate=this.hasKind("predicate")&&this.inner.predicate.length!==1||this.children.some((T)=>T.hasContextualPredicate);isCyclic=this.kind==="alias"||this.children.some((T)=>T.isCyclic);allowsRequiresContext=this.hasContextualPredicate||this.isCyclic;referencesById=this.children.reduce((T,R)=>Object.assign(T,R.referencesById),{[this.id]:this});compiledMeta=JSON.stringify(this.metaJson);cacheGetter(T,R){return Object.defineProperty(this,T,{value:R}),R}get description(){let T=this.$?.resolvedConfig[this.kind].description??u.config[this.kind]?.description??u.defaultConfig[this.kind].description;return this.cacheGetter("description",this.meta?.description??T(this))}get references(){return Object.values(this.referencesById)}get shallowReferences(){return this.cacheGetter("shallowReferences",this.hasKind("structure")?[this,...this.children]:this.children.reduce((T,R)=>mJ(T,R.shallowReferences),[this]))}get shallowMorphs(){return this.cacheGetter("shallowMorphs",this.shallowReferences.filter((T)=>T.hasKind("morph")).sort((T,R)=>T.expression<R.expression?-1:1))}get flatRefs(){return this.cacheGetter("flatRefs",this.children.reduce((T,R)=>g9(T,R.flatRefs),[]).sort((T,R)=>T.path.length>R.path.length?1:T.path.length<R.path.length?-1:T.propString>R.propString?1:T.propString<R.propString?-1:T.node.expression<R.node.expression?-1:1))}precedence=G9(this.kind);precompilation;allows=(T)=>{if(this.allowsRequiresContext)return this.traverseAllows(T,new iq(T,this.$.resolvedConfig));return this.traverseAllows(T)};traverse(T){return this(T)}get in(){return this.cacheGetter("in",this.getIo("in"))}get out(){return this.cacheGetter("out",this.getIo("out"))}getIo(T){if(!this.includesMorph)return this;let R={};for(let[A,q]of this.innerEntries){let _=this.impl.keys[A];if(_.reduceIo)_.reduceIo(T,R,q);else if(_.child){let h=q;R[A]=AT(h)?h.map((B)=>B[T]):h[T]}else R[A]=q}return this.$.node(this.kind,R)}toJSON(){return this.json}toString(){return this.expression}equals(T){let R=_T(T)?T:this.$.parseDefinition(T);return this.innerHash===R.innerHash}ifEquals(T){return this.equals(T)?this:void 0}hasKind(T){return this.kind===T}assertHasKind(T){if(this.kind!==T)iR(`${this.kind} node was not of asserted kind ${T}`);return this}hasKindIn(...T){return T.includes(this.kind)}assertHasKindIn(...T){if(!HR(T,this.kind))iR(`${this.kind} node was not one of asserted kinds ${T}`);return this}isBasis(){return HR(d8,this.kind)}isConstraint(){return HR(Wq,this.kind)}isStructural(){return HR(k9,this.kind)}isRefinement(){return HR(o_,this.kind)}isRoot(){return HR(a9,this.kind)}isUnknown(){return this.hasKind("intersection")&&this.children.length===0}isNever(){return this.hasKind("union")&&this.children.length===0}hasUnit(T){return this.hasKind("unit")&&this.allows(T)}hasOpenIntersection(){return this.impl.intersectionIsOpen}get nestableExpression(){return this.expression}firstReference(T){return this.references.find((R)=>R!==this&&T(R))}firstReferenceOrThrow(T){return this.firstReference(T)??iR(`${this.id} had no references matching predicate ${T}`)}firstReferenceOfKind(T){return this.firstReference((R)=>R.hasKind(T))}firstReferenceOfKindOrThrow(T){return this.firstReference((R)=>R.kind===T)??iR(`${this.id} had no ${T} references`)}transform(T,R){return this._transform(T,{...R,seen:{},path:[],parseOptions:{prereduced:R?.prereduced??!1},undeclaredKeyHandling:void 0})}_transform(T,R){let A=R.bindScope??this.$;if(R.seen[this.id])return this.$.lazilyResolve(R.seen[this.id]);if(R.shouldTransform?.(this,R)===!1)return this;let q;if(R.seen[this.id]=()=>q,this.hasKind("structure")&&this.undeclared!==R.undeclaredKeyHandling)R={...R,undeclaredKeyHandling:this.undeclared};let _=c(this.inner,(B,C)=>{if(!this.impl.keys[B].child)return[B,C];let O=C;if(!AT(O)){let W=O._transform(T,R);return W?[B,W]:[]}if(O.length===0)return[B,C];let D=O.flatMap((W)=>{return W._transform(T,R)??[]});return D.length?[B,D]:[]});delete R.seen[this.id];let h=T(this.kind,_,R);if(h===null)return null;if(_T(h))return q=h;if(mT(h)&&!mT(this.inner))return null;if((this.kind==="required"||this.kind==="optional"||this.kind==="index")&&!("value"in h))return R.undeclaredKeyHandling?{...h,value:u.intrinsic.unknown}:null;if(this.kind==="morph")h.in??=u.intrinsic.unknown;return q=A.node(this.kind,h,R.parseOptions)}configureShallowDescendants(T){return this.$.finalize(this.transform((R,A)=>({...A,meta:T}),{shouldTransform:(R)=>R.kind!=="structure"}))}}var VJ=(T)=>eR(T,{stringifyNonKey:(R)=>R.expression}),lT=(T,R)=>({path:T,node:R,propString:VJ(T)}),vJ=(T,R)=>T.propString===R.propString&&T.node.equals(R.node),g9=(T,R)=>JR(T,R,{isEqual:vJ}),mJ=(T,R)=>JR(T,R,{isEqual:(A,q)=>A.equals(q)});class k extends Array{static init(T,R,A,q){return new k({kind:T,l:R,r:A,path:q?.path??[],optional:q?.optional??!1})}add(T,R,A,q){return this.push({kind:T,l:R,r:A,path:q?.path??[],optional:q?.optional??!1}),this}describeReasons(){if(this.length===1){let{path:T,l:R,r:A}=this[0],q=eR(T);return r_(`Intersection${q&&` at ${q}`} of ${t8(R,A)}`)}return`The following intersections result in unsatisfiable types:
 ${this.map(({path:T,l:R,r:A})=>`${T}: ${t8(R,A)}`).join(`
 `)}`}throw(){return F(this.describeReasons())}invert(){return this.map((T)=>({...T,l:T.r,r:T.l}))}withPrefixKey(T,R){return this.map((A)=>({...A,path:[T,...A.path],optional:A.optional||R==="optional"}))}toNeverIfDisjoint(){return u.intrinsic.never}}var t8=(T,R)=>`${d_(T)} and ${d_(R)}`,d_=(T)=>_T(T)?T.expression:AT(T)?T.map(d_).join(" | ")||"never":String(T),r_=(T)=>`${T} results in an unsatisfiable type`;var L9={},xT=(T,R,A)=>qT(T,R,{$:A,invert:!1,pipe:!1}),n_=(T,R,A)=>qT(T,R,{$:A,invert:!1,pipe:!0}),qT=(T,R,A)=>{let q=A.pipe?"|>":"&",_=`${T.hash}${q}${R.hash}`;if(L9[_]!==void 0)return L9[_];if(!A.pipe){let C=`${R.hash}${q}${T.hash}`;if(L9[C]!==void 0){let O=L9[C],D=O instanceof k?O.invert():O;return L9[_]=D,D}}let h=!A.pipe||!T.includesMorph&&!R.includesMorph;if(h&&T.equals(R))return T;let B=h?p_(T,R,A):T.hasKindIn(...a9)?lJ(T,R,A):p_(T,R,A);if(_T(B)){if(T.equals(B))B=T;else if(R.equals(B))B=R}return L9[_]=B,B},p_=(T,R,A)=>{let q=T.precedence<R.precedence?T.kind:R.kind,_=T.impl.intersections[R.kind]??R.impl.intersections[T.kind];if(_===void 0)return null;else if(q===T.kind)return _(T,R,A);else{let h=_(R,T,{...A,invert:!A.invert});if(h instanceof k)h=h.invert();return h}},lJ=(T,R,A)=>T.includesMorph||R.includesMorph?A.invert?e8(R,T,A):e8(T,R,A):p_(T,R,A),e8=(T,R,A)=>T.distribute((q)=>oJ(q,R,A),(q)=>{let _=q.filter(_T);if(_.length===0)return k.init("union",T.branches,R.branches);if(_.length<T.branches.length||!T.branches.every((C,O)=>C.in.equals(_[O].in)))return A.$.parseSchema(_);let h;if(_.length===1){let C=_[0];if(!h)return C;return A.$.node("morph",{...C.inner,in:C.in.withMeta(h)})}let B={branches:_};if(h)B.meta=h;return A.$.parseSchema(B)}),oJ=(T,R,A)=>{if(T.hasKind("morph")){let _=[...T.morphs];if(T.lastMorphIfNode){let h=qT(T.lastMorphIfNode,R,A);if(h instanceof k)return h;_[_.length-1]=h}else _.push(R);return A.$.node("morph",{morphs:_,in:T.inner.in})}if(R.hasKind("morph")){let _=qT(T,R.in,A);if(_ instanceof k)return _;return A.$.node("morph",{morphs:[R],in:_})}return A.$.node("morph",{morphs:[R],in:T})};class ST extends IA{constructor(T,R){super(T,R);Object.defineProperty(this,GT,{value:"constraint",enumerable:!1})}impliedSiblings;intersect(T){return xT(this,T,this.$)}}class ER extends ST{traverseApply=(T,R)=>{if(!this.traverseAllows(T,R))R.errorFromNodeContext(this.errorContext)};compile(T){if(T.traversalKind==="Allows")T.return(this.compiledCondition);else T.if(this.compiledNegation,()=>T.line(`${T.ctx}.errorFromNodeContext(${this.compiledErrorContext})`))}get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return UR(this.errorContext)}}var bT=(T)=>(R,A)=>{if(AT(R)){if(R.length===0)return;let _=R.map((h)=>A.$.node(T,h));if(T==="predicate")return _;return _.sort((h,B)=>h.hash<B.hash?-1:1)}let q=A.$.node(T,R);return q.hasOpenIntersection()?[q]:q},x9=(T)=>{let R=T.r.shift();if(!R){let q=T.l.length===0&&T.kind==="structure"?u.intrinsic.unknown.internal:T.ctx.$.node(T.kind,Object.assign(T.baseInner,dJ(T.l)),{prereduced:!0});for(let _ of T.roots){if(q instanceof k)return q;q=qT(_,q,T.ctx)}return q}let A=!1;for(let q=0;q<T.l.length;q++){let _=qT(T.l[q],R,T.ctx);if(_===null)continue;if(_ instanceof k)return _;if(!A){if(_.isRoot())return T.roots.push(_),T.l.splice(q),x9(T);T.l[q]=_,A=!0}else if(!T.l.includes(_))return p(`Unexpectedly encountered multiple distinct intersection results for refinement ${_}`)}if(!A)T.l.push(R);if(T.kind==="intersection")R.impliedSiblings?.forEach((q)=>JR(T.r,q));return x9(T)},f9=(T)=>{return Object.entries(T).flatMap(([A,q])=>(A in Hq)?q:[]).sort((A,q)=>A.precedence<q.precedence?-1:A.precedence>q.precedence?1:A.kind==="predicate"&&q.kind==="predicate"?0:A.hash<q.hash?-1:1)},dJ=(T)=>{let R={};for(let A of T)if(A.hasOpenIntersection())R[A.kind]=Y(R[A.kind],A);else{if(R[A.kind])return p(`Unexpected intersection of closed refinements of kind ${A.kind}`);R[A.kind]=A}return R},TD=(...T)=>F(RD(...T)),RD=(T,R,A)=>`${f8(T)} operand must be ${R.description} (was ${A.exclude(R).description})`;var AD=(T,R,A)=>new MR(T,R,A,A,null);class yq extends XR{}class MR extends XR{[GT]="generic";paramDefs;bodyDef;$;arg$;baseInstantiation;hkt;description;constructor(T,R,A,q,_){super((...h)=>{let B=c(this.names,(C,O)=>{let D=this.arg$.parse(h[C]);if(!D.extends(this.constraints[C]))F(rJ(O,this.constraints[C].expression,D.expression));return[O,D]});if(this.defIsLazy()){let C=this.bodyDef(B);return this.$.parse(C)}return this.$.parse(R,{args:B})});this.paramDefs=T,this.bodyDef=R,this.$=A,this.arg$=q,this.hkt=_,this.description=_?new _().description??`a generic type for ${_.constructor.name}`:"a generic type",this.baseInstantiation=this(...this.constraints)}defIsLazy(){return this.bodyDef instanceof yq}cacheGetter(T,R){return Object.defineProperty(this,T,{value:R}),R}get json(){return this.cacheGetter("json",{params:this.params.map((T)=>T[1].isUnknown()?T[0]:[T[0],T[1].json]),body:v8(this.bodyDef)})}get params(){return this.cacheGetter("params",this.paramDefs.map((T)=>typeof T==="string"?[T,u.intrinsic.unknown]:[T[0],this.$.parse(T[1])]))}get names(){return this.cacheGetter("names",this.params.map((T)=>T[0]))}get constraints(){return this.cacheGetter("constraints",this.params.map((T)=>T[1]))}get internal(){return this}get referencesById(){return this.baseInstantiation.internal.referencesById}get references(){return this.baseInstantiation.internal.references}}var rJ=(T,R,A)=>`${T} must be assignable to ${R} (was ${A})`;var qD={morph:"it represents a transformation, while JSON Schema only allows validation. Consider creating a Schema from one of its endpoints using `.in` or `.out`.",cyclic:"cyclic types are not yet convertible to JSON Schema. If this feature is important to you, please add your feedback at https://github.com/arktypeio/arktype/issues/1087"},_D=(T,R)=>{let A=`${T} is not convertible to JSON Schema`;if(R){let q=IT(R,qD)?qD[R]:R;A+=` because ${q}`}return A},l={writeUnjsonifiableMessage:_D,UnjsonifiableError:class T extends Error{},throwUnjsonifiableError:(...T)=>iR(_D(...T)),throwInternalOperandError:(T,R)=>p(`Unexpected JSON Schema input for ${T}: ${Z(R)}`)};var pJ=f({kind:"predicate",hasAssociatedError:!0,collapsibleKey:"predicate",keys:{predicate:{}},normalize:(T)=>typeof T==="function"?{predicate:T}:T,defaults:{description:(T)=>`valid according to ${T.predicate.name||"an anonymous predicate"}`},intersectionIsOpen:!0,intersections:{predicate:()=>null}});class hD extends ST{serializedPredicate=JT(this.predicate);compiledCondition=`${this.serializedPredicate}(data, ctx)`;compiledNegation=`!${this.compiledCondition}`;impliedBasis=null;expression=this.serializedPredicate;traverseAllows=this.predicate;errorContext={code:"predicate",description:this.description,meta:this.meta};compiledErrorContext=UR(this.errorContext);traverseApply=(T,R)=>{if(!this.predicate(T,R.external)&&!R.hasError())R.errorFromNodeContext(this.errorContext)};compile(T){if(T.traversalKind==="Allows"){T.return(this.compiledCondition);return}T.if(`${this.compiledNegation} && !ctx.hasError()`,()=>T.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`))}reduceJsonSchema(){return l.throwUnjsonifiableError(`Predicate ${this.expression}`)}}var s_={implementation:pJ,Node:hD};var nJ=f({kind:"divisor",collapsibleKey:"rule",keys:{rule:{}},normalize:(T)=>typeof T==="number"?{rule:T}:T,hasAssociatedError:!0,defaults:{description:(T)=>T.rule===1?"an integer":T.rule===2?"even":`a multiple of ${T.rule}`},intersections:{divisor:(T,R,A)=>A.$.node("divisor",{rule:Math.abs(T.rule*R.rule/sJ(T.rule,R.rule))})},obviatesBasisDescription:!0});class BD extends ER{traverseAllows=(T)=>T%this.rule===0;compiledCondition=`data % ${this.rule} === 0`;compiledNegation=`data % ${this.rule} !== 0`;impliedBasis=u.intrinsic.number.internal;expression=`% ${this.rule}`;reduceJsonSchema(T){if(T.type="integer",this.rule===1)return T;return T.multipleOf=this.rule,T}}var t_={implementation:nJ,Node:BD};var sJ=(T,R)=>{let A,q=T,_=R;while(_!==0)A=_,_=q%_,q=A;return q};class fT extends ER{boundOperandKind=Ri[this.kind];compiledActual=this.boundOperandKind==="value"?"data":this.boundOperandKind==="length"?"data.length":"data.valueOf()";comparator=Ai(this.kind,this.exclusive);numericLimit=this.rule.valueOf();expression=`${this.comparator} ${this.rule}`;compiledCondition=`${this.compiledActual} ${this.comparator} ${this.numericLimit}`;compiledNegation=`${this.compiledActual} ${tJ[this.comparator]} ${this.numericLimit}`;stringLimit=this.boundOperandKind==="date"?qi(this.numericLimit):`${this.numericLimit}`;limitKind=this.comparator["0"]==="<"?"upper":"lower";isStricterThan(T){return(this.limitKind==="upper"?this.numericLimit<T.numericLimit:this.numericLimit>T.numericLimit)||this.numericLimit===T.numericLimit&&this.exclusive===!0&&!T.exclusive}overlapsRange(T){if(this.isStricterThan(T))return!1;if(this.numericLimit===T.numericLimit&&(this.exclusive||T.exclusive))return!1;return!0}overlapIsUnit(T){return this.numericLimit===T.numericLimit&&!this.exclusive&&!T.exclusive}}var tJ={"<":">=","<=":">",">":"<=",">=":"<"},eJ={min:"max",minLength:"maxLength",after:"before"},$q={parse:(T)=>T||void 0},Iq=(T)=>(R)=>{if(typeof R==="number")return{rule:R};let{exclusive:A,...q}=R;return A?{...q,rule:T==="minLength"?q.rule+1:q.rule-1}:q},Eq=(T)=>(R)=>{if(typeof R==="number"||typeof R==="string"||R instanceof Date)return{rule:R};let{exclusive:A,...q}=R;if(!A)return q;let _=typeof q.rule==="number"?q.rule:typeof q.rule==="string"?new Date(q.rule).valueOf():q.rule.valueOf();return A?{...q,rule:T==="after"?_+1:_-1}:q},Fq=(T)=>typeof T==="string"||typeof T==="number"?new Date(T):T,Ti=(T,R)=>`${T} bound must be a positive integer (was ${R})`,z9=(T)=>(R)=>{if(!Number.isInteger(R)||R<0)F(Ti(T,R));return R},Ri={min:"value",max:"value",minLength:"length",maxLength:"length",after:"date",before:"date"},Ai=(T,R)=>`${IT(T,eJ)?">":"<"}${R?"":"="}`,qi=(T)=>typeof T==="string"?T:new Date(T).toLocaleString(),CD=(T)=>`Bounded expression ${T} must be exactly one of number, string, Array, or Date`;var _i=f({kind:"after",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Fq,serialize:(T)=>T.toISOString()}},normalize:Eq("after"),defaults:{description:(T)=>`${T.collapsibleLimitString} or later`,actual:tR},intersections:{after:(T,R)=>T.isStricterThan(R)?T:R}});class DD extends fT{impliedBasis=u.intrinsic.Date.internal;collapsibleLimitString=tR(this.rule);traverseAllows=(T)=>T>=this.rule;reduceJsonSchema(){return l.throwUnjsonifiableError("Date instance")}}var e_={implementation:_i,Node:DD};var hi=f({kind:"before",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Fq,serialize:(T)=>T.toISOString()}},normalize:Eq("before"),defaults:{description:(T)=>`${T.collapsibleLimitString} or earlier`,actual:tR},intersections:{before:(T,R)=>T.isStricterThan(R)?T:R,after:(T,R,A)=>T.overlapsRange(R)?T.overlapIsUnit(R)?A.$.node("unit",{unit:T.rule}):null:k.init("range",T,R)}});class OD extends fT{collapsibleLimitString=tR(this.rule);traverseAllows=(T)=>T<=this.rule;impliedBasis=u.intrinsic.Date.internal;reduceJsonSchema(){return l.throwUnjsonifiableError("Date instance")}}var Th={implementation:hi,Node:OD};var Bi=f({kind:"exactLength",collapsibleKey:"rule",keys:{rule:{parse:z9("exactLength")}},normalize:(T)=>typeof T==="number"?{rule:T}:T,hasAssociatedError:!0,defaults:{description:(T)=>`exactly length ${T.rule}`,actual:(T)=>`${T.length}`},intersections:{exactLength:(T,R,A)=>k.init("unit",A.$.node("unit",{unit:T.rule}),A.$.node("unit",{unit:R.rule}),{path:["length"]}),minLength:(T,R)=>T.rule>=R.rule?T:k.init("range",T,R),maxLength:(T,R)=>T.rule<=R.rule?T:k.init("range",T,R)}});class WD extends ER{traverseAllows=(T)=>T.length===this.rule;compiledCondition=`data.length === ${this.rule}`;compiledNegation=`data.length !== ${this.rule}`;impliedBasis=u.intrinsic.lengthBoundable.internal;expression=`== ${this.rule}`;reduceJsonSchema(T){switch(T.type){case"string":return T.minLength=this.rule,T.maxLength=this.rule,T;case"array":return T.minItems=this.rule,T.maxItems=this.rule,T;default:return l.throwInternalOperandError("exactLength",T)}}}var Rh={implementation:Bi,Node:WD};var Ci=f({kind:"max",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:$q},normalize:(T)=>typeof T==="number"?{rule:T}:T,defaults:{description:(T)=>{if(T.rule===0)return T.exclusive?"negative":"non-positive";return`${T.exclusive?"less than":"at most"} ${T.rule}`}},intersections:{max:(T,R)=>T.isStricterThan(R)?T:R,min:(T,R,A)=>T.overlapsRange(R)?T.overlapIsUnit(R)?A.$.node("unit",{unit:T.rule}):null:k.init("range",T,R)},obviatesBasisDescription:!0});class HD extends fT{impliedBasis=u.intrinsic.number.internal;traverseAllows=this.exclusive?(T)=>T<this.rule:(T)=>T<=this.rule;reduceJsonSchema(T){if(this.exclusive)T.exclusiveMaximum=this.rule;else T.maximum=this.rule;return T}}var Ah={implementation:Ci,Node:HD};var Di=f({kind:"maxLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:z9("maxLength")}},reduce:(T,R)=>T.rule===0?R.node("exactLength",T):void 0,normalize:Iq("maxLength"),defaults:{description:(T)=>`at most length ${T.rule}`,actual:(T)=>`${T.length}`},intersections:{maxLength:(T,R)=>T.isStricterThan(R)?T:R,minLength:(T,R,A)=>T.overlapsRange(R)?T.overlapIsUnit(R)?A.$.node("exactLength",{rule:T.rule}):null:k.init("range",T,R)}});class JD extends fT{impliedBasis=u.intrinsic.lengthBoundable.internal;traverseAllows=(T)=>T.length<=this.rule;reduceJsonSchema(T){switch(T.type){case"string":return T.maxLength=this.rule,T;case"array":return T.maxItems=this.rule,T;default:return l.throwInternalOperandError("maxLength",T)}}}var qh={implementation:Di,Node:JD};var Oi=f({kind:"min",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:$q},normalize:(T)=>typeof T==="number"?{rule:T}:T,defaults:{description:(T)=>{if(T.rule===0)return T.exclusive?"positive":"non-negative";return`${T.exclusive?"more than":"at least"} ${T.rule}`}},intersections:{min:(T,R)=>T.isStricterThan(R)?T:R},obviatesBasisDescription:!0});class iD extends fT{impliedBasis=u.intrinsic.number.internal;traverseAllows=this.exclusive?(T)=>T>this.rule:(T)=>T>=this.rule;reduceJsonSchema(T){if(this.exclusive)T.exclusiveMinimum=this.rule;else T.minimum=this.rule;return T}}var _h={implementation:Oi,Node:iD};var Wi=f({kind:"minLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:z9("minLength")}},reduce:(T)=>T.rule===0?u.intrinsic.unknown:void 0,normalize:Iq("minLength"),defaults:{description:(T)=>T.rule===1?"non-empty":`at least length ${T.rule}`,actual:(T)=>T.length===0?"":`${T.length}`},intersections:{minLength:(T,R)=>T.isStricterThan(R)?T:R}});class yD extends fT{impliedBasis=u.intrinsic.lengthBoundable.internal;traverseAllows=(T)=>T.length>=this.rule;reduceJsonSchema(T){switch(T.type){case"string":return T.minLength=this.rule,T;case"array":return T.minItems=this.rule,T;default:return l.throwInternalOperandError("minLength",T)}}}var hh={implementation:Wi,Node:yD};var $D={min:_h.implementation,max:Ah.implementation,minLength:hh.implementation,maxLength:qh.implementation,exactLength:Rh.implementation,after:e_.implementation,before:Th.implementation},ID={min:_h.Node,max:Ah.Node,minLength:hh.Node,maxLength:qh.Node,exactLength:Rh.Node,after:e_.Node,before:Th.Node};var Hi=f({kind:"pattern",collapsibleKey:"rule",keys:{rule:{},flags:{}},normalize:(T)=>typeof T==="string"?{rule:T}:T instanceof RegExp?T.flags?{rule:T.source,flags:T.flags}:{rule:T.source}:T,hasAssociatedError:!0,intersectionIsOpen:!0,defaults:{description:(T)=>`matched by ${T.rule}`},intersections:{pattern:()=>null}});class ED extends ER{instance=new RegExp(this.rule,this.flags);expression=`${this.instance}`;traverseAllows=this.instance.test.bind(this.instance);compiledCondition=`${this.expression}.test(data)`;compiledNegation=`!${this.compiledCondition}`;impliedBasis=u.intrinsic.string.internal;reduceJsonSchema(T){if(T.pattern)return l.throwUnjsonifiableError(`Intersection of patterns ${T.pattern} & ${this.rule}`);return T.pattern=this.rule,T}}var Bh={implementation:Hi,Node:ED};var EA=(T,R)=>{let A=Ji(T);if(R&&!R.includes(A))return F(`Root of kind ${A} should be one of ${R}`);return A},Ji=(T)=>{if(a(T,"root"))return T.kind;if(typeof T==="string")return T[0]==="$"?"alias":"domain";if(typeof T==="function")return"proto";if(typeof T!=="object"||T===null)return F(FD(T));if("morphs"in T)return"morph";if("branches"in T||AT(T))return"union";if("unit"in T)return"unit";if("reference"in T)return"alias";let R=Object.keys(T);if(R.length===0||R.some((A)=>(A in Hq)))return"intersection";if("proto"in T)return"proto";if("domain"in T)return"domain";return F(FD(T))},FD=(T)=>`${Z(T)} is not a valid type schema`,jD={},ii=(T)=>AT(T)?T.map((R)=>R.collapsibleJson):T.collapsibleJson,aT={};u.nodesByRegisteredId=aT;var Ch=(T)=>{return jD[T]??=0,`${T}${++jD[T]}`},Dh=(T)=>{let R=X9[T.kind],A={},{meta:q,..._}=T.def,h=q===void 0?{}:typeof q==="string"?{description:q}:q,B=z_(_).sort(([O],[D])=>K9(O)?K9(D)?G9(O)-G9(D):1:K9(D)?-1:O<D?-1:1).filter(([O,D])=>{if(O.startsWith("meta.")){let W=O.slice(5);return h[W]=D,!1}return!0});for(let O of B){let D=O[0],W=R.keys[D];if(!W)return F(`Key ${D} is not valid on ${T.kind} schema`);let H=W.parse?W.parse(O[1],T):O[1];if(H!==pR&&(H!==void 0||W.preserveUndefined))A[D]=H}if(R.reduce&&!T.prereduced){let O=R.reduce(A,T.$);if(O){if(O instanceof k)return O.throw();return yi(O,h)}}return Oh(T.id,T.kind,A,h,T.$)},Oh=(T,R,A,q,_,h)=>{let B=X9[R],C=z_(A),O=[],D={};if(C.forEach(([j,b])=>{let Q=B.keys[j],I=Q.serialize??(Q.child?ii:IR);if(D[j]=I(b),Q.child===!0){let N=b;if(AT(N))O.push(...N);else O.push(N)}else if(typeof Q.child==="function")O.push(...Q.child(b))}),B.finalizeInnerJson)D=B.finalizeInnerJson(D);let W={...D},H={};if(!mT(q))H=c(q,(j,b)=>[j,j==="examples"?b:IR(b)]),W.meta=jq(H,"description",!0);D=jq(D,B.collapsibleKey,!1);let J=JSON.stringify({kind:R,...D});W=jq(W,B.collapsibleKey,!1);let i=jq(W,B.collapsibleKey,!0),y=JSON.stringify({kind:R,...W});if(_.nodesByHash[y]&&!h)return _.nodesByHash[y];let $={id:T,kind:R,impl:B,inner:A,innerEntries:C,innerJson:D,innerHash:J,meta:q,metaJson:H,json:W,hash:y,collapsibleJson:i,children:O};for(let j in A)if(j!=="in"&&j!=="out")$[j]=A[j];let E=new uD[R]($,_);return _.nodesByHash[y]=E},bD=(T,R)=>{if(T.id===R)return T;if(_T(aT[R]))p(`Unexpected attempt to overwrite node id ${R}`);return Oh(R,T.kind,T.inner,T.meta,T.$,!0)},yi=(T,R,A)=>{if(A&&_T(aT[A]))p(`Unexpected attempt to overwrite node id ${A}`);return Oh(A??Ch(R.alias??T.kind),T.kind,T.inner,R,T.$)},jq=(T,R,A)=>{let q=Object.keys(T);if(q.length===1&&q[0]===R){let _=T[R];if(A)return _;if(KT(_,"object")&&(Object.keys(_).length===1||Array.isArray(_)))return _}return T};var FA=(T,R,A)=>{if(T.key!==R.key)return null;let q=T.key,_=qT(T.value,R.value,A),h=T.required||R.required?"required":"optional";if(_ instanceof k)if(h==="optional")_=u.intrinsic.never.internal;else return _.withPrefixKey(T.key,T.required&&R.required?"required":"optional");if(h==="required")return A.$.node("required",{key:q,value:_});let B=T.hasDefault()?R.hasDefault()?T.default===R.default?T.default:F(Wh(T.default,R.default)):T.default:R.hasDefault()?R.default:pR;return A.$.node("optional",{key:q,value:_,default:B})};class jA extends ST{required=this.kind==="required";optional=this.kind==="optional";impliedBasis=u.intrinsic.object.internal;serializedKey=$R(this.key);compiledKey=typeof this.key==="string"?this.key:this.serializedKey;get flatRefs(){return Y(this.value.flatRefs.map((T)=>lT([this.key,...T.path],T.node)),lT([this.key],this.value))}_transform(T,R){R.path.push(this.key);let A=super._transform(T,R);return R.path.pop(),A}hasDefault(){return"default"in this.inner}traverseAllows=(T,R)=>{if(this.key in T)return LT(this.key,()=>this.value.traverseAllows(T[this.key],R),R);return this.optional};traverseApply=(T,R)=>{if(this.key in T)LT(this.key,()=>this.value.traverseApply(T[this.key],R),R);else if(this.hasKind("required"))R.errorFromNodeContext(this.errorContext);else if(this.hasDefault())R.queueMorphs(this.defaultValueMorphs)};compile(T){if(T.if(`${this.serializedKey} in data`,()=>T.traverseKey(this.serializedKey,`data${T.prop(this.key)}`,this.value)),this.hasKind("required"))T.else(()=>{if(T.traversalKind==="Apply")return T.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`);else return T.return(!1)});else if(T.traversalKind==="Apply"&&this.hasDefault())T.else(()=>T.line(`ctx.queueMorphs(${this.defaultValueMorphsReference})`));if(T.traversalKind==="Allows")T.return(!0)}}var Wh=(T,R)=>`Invalid intersection of default values ${Z(T)} & ${Z(R)}`;var $i=f({kind:"optional",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(T,R)=>R.$.parseSchema(T)},default:{preserveUndefined:!0}},normalize:(T)=>T,defaults:{description:(T)=>`${T.compiledKey}?: ${T.value.description}`},intersections:{optional:FA}});class QD extends jA{constructor(...T){super(...T);if("default"in this.inner)uA(this.value,this.inner.default,this.key)}get outProp(){if(!this.hasDefault())return this;let{default:T,...R}=this.inner;return this.cacheGetter("outProp",this.$.node("required",R,{prereduced:!0}))}expression=this.hasDefault()?`${this.compiledKey}: ${this.value.expression} = ${Z(this.inner.default)}`:`${this.compiledKey}?: ${this.value.expression}`;defaultValueMorphs=this.hasDefault()?Hh(this.key,this.value,this.default):[];defaultValueMorphsReference=JT(this.defaultValueMorphs)}var bA={implementation:$i,Node:QD},Hh=(T,R,A)=>{if(typeof A==="function")return[R.includesMorph?(_,h)=>{return LT(T,()=>R(_[T]=A(),h),h),_}:(_)=>{return _[T]=A(),_}];let q=R.includesMorph?R.assert(A):A;return[KT(q,"object")?(_,h)=>{return LT(T,()=>R(_[T]=A,h),h),_}:(_)=>{return _[T]=q,_}]},uA=(T,R,A)=>{let q=zR(R);if(KT(R,"object")&&!q)F(Ii(A));let _=T.in(q?R():R);if(_ instanceof gT){if(A!==null)_.forEach((B)=>B.path.unshift(A));let h=A===null?`Default ${_.message}`:`Default for ${_.message}`;F(h)}return R},Ii=(T)=>{return`Non-primitive default ${T===null?"":typeof T==="number"?`for value at [${T}] `:`for ${$R(T)} `}must be specified as a function like () => ({my: 'object'})`};class cT extends IA{constructor(T,R){super(T,R);Object.defineProperty(this,GT,{value:"root",enumerable:!1})}assert=(T)=>{let R=this.traverse(T);return R instanceof gT?R.throw():R};get internal(){return this}get "~standard"(){return{vendor:"arktype",version:1,validate:(T)=>{let R=this(T);if(R instanceof gT)return R;return{value:R}}}}as(){return this}brand(T){if(T==="")return F(Ei);return this}brandAttributes(){return this}unbrandAttributes(){return this}readonly(){return this}branches=this.hasKind("union")?this.inner.branches:[this];distribute(T,R){let A=this.branches.map(T);return R?.(A)??A}toJsonSchema(){let T=this.innerToJsonSchema();return Object.assign(T,this.metaJson)}intersect(T){let R=this.$.parseDefinition(T),A=this.rawIntersect(R);if(A instanceof k)return A;return this.$.finalize(A)}rawIntersect(T){return xT(this,T,this.$)}toNeverIfDisjoint(){return this}and(T){let R=this.intersect(T);return R instanceof k?R.throw():R}rawAnd(T){let R=this.rawIntersect(T);return R instanceof k?R.throw():R}or(T){let R=this.$.parseDefinition(T);return this.$.finalize(this.rawOr(R))}rawOr(T){let R=[...this.branches,...T.branches];return this.$.node("union",R)}map(T){return this.$.schema(this.applyStructuralOperation("map",[T]))}pick(...T){return this.$.schema(this.applyStructuralOperation("pick",T))}omit(...T){return this.$.schema(this.applyStructuralOperation("omit",T))}required(){return this.$.schema(this.applyStructuralOperation("required",[]))}partial(){return this.$.schema(this.applyStructuralOperation("partial",[]))}_keyof;keyof(){if(this._keyof)return this._keyof;let T=this.applyStructuralOperation("keyof",[]).reduce((R,A)=>R.intersect(A).toNeverIfDisjoint(),u.intrinsic.unknown.internal);if(T.branches.length===0)F(r_(`keyof ${this.expression}`));return this._keyof=this.$.finalize(T)}get props(){if(this.branches.length!==1)return F(Fi(this.expression));return[...this.applyStructuralOperation("props",[])[0]]}merge(T){let R=this.$.parseDefinition(T);return this.$.schema(R.distribute((A)=>this.applyStructuralOperation("merge",[ND(A)??F(kD("merge",A.expression))])))}applyStructuralOperation(T,R){return this.distribute((A)=>{if(A.equals(u.intrinsic.object)&&T!=="merge")return A;let q=ND(A);if(!q)F(kD(T,A.expression));if(T==="keyof")return q.keyof();if(T==="get")return q.get(...R);if(T==="props")return q.props;let _=T==="required"?"require":T==="partial"?"optionalize":T;return this.$.node("intersection",{...A.inner,structure:q[_](...R)})})}get(...T){if(T[0]===void 0)return this;return this.$.schema(this.applyStructuralOperation("get",T))}extract(T){let R=this.$.parseDefinition(T);return this.$.schema(this.branches.filter((A)=>A.extends(R)))}exclude(T){let R=this.$.parseDefinition(T);return this.$.schema(this.branches.filter((A)=>!A.extends(R)))}array(){return this.$.schema({proto:Array,sequence:this},{prereduced:!0})}overlaps(T){return!(this.intersect(T)instanceof k)}extends(T){let R=this.intersect(T);return!(R instanceof k)&&this.equals(R)}ifExtends(T){return this.extends(T)?this:void 0}subsumes(T){return this.$.parseDefinition(T).extends(this)}configure(T){return this.configureShallowDescendants(T)}describe(T){return this.configure({description:T})}optional(){return[this,"?"]}default(T){return uA(this,T,null),[this,"=",T]}from(T){return this.assert(T)}_pipe(...T){return T.reduce((R,A)=>R.pipeOnce(A),this)}tryPipe(...T){return T.reduce((R,A)=>R.pipeOnce(a(A,"root")?A:(q,_)=>{try{return A(q,_)}catch(h){return _.error({code:"predicate",predicate:A,actual:`aborted due to error:
    ${h}
`})}}),this)}pipe=Object.assign(this._pipe.bind(this),{try:this.tryPipe.bind(this)});to(T){return this.$.finalize(this.toNode(this.$.parseDefinition(T)))}toNode(T){let R=n_(this,T,this.$);if(R instanceof k)return R.throw();return R}pipeOnce(T){if(a(T,"root"))return this.toNode(T);return this.distribute((R)=>R.hasKind("morph")?this.$.node("morph",{in:R.inner.in,morphs:[...R.morphs,T]}):this.$.node("morph",{in:R,morphs:[T]}),this.$.parseSchema)}get flatMorphs(){return this.cacheGetter("flatMorphs",this.flatRefs.reduce((T,R)=>g9(T,R.node.hasKind("union")?R.node.branches.filter((A)=>A.hasKind("morph")).map((A)=>({path:R.path,propString:R.propString,node:A})):R.node.hasKind("morph")?R:[]),[]))}narrow(T){return this.constrainOut("predicate",T)}constrain(T,R){return this._constrain("root",T,R)}constrainIn(T,R){return this._constrain("in",T,R)}constrainOut(T,R){return this._constrain("out",T,R)}_constrain(T,R,A){let q=this.$.node(R,A);if(q.isRoot())return q.isUnknown()?this:p(`Unexpected constraint node ${q}`);let _=T==="root"?this:this[T];if(_.hasKind("morph")||q.impliedBasis&&!_.extends(q.impliedBasis))return TD(R,q.impliedBasis,this);let h=this.$.node("intersection",{[q.kind]:q}),B=T==="out"?n_(this,h,this.$):xT(this,h,this.$);if(B instanceof k)B.throw();return this.$.finalize(B)}onUndeclaredKey(T){let R=typeof T==="string"?T:T.rule,A=typeof T==="string"?!1:T.deep;return this.$.finalize(this.transform((q,_)=>q==="structure"?R==="ignore"?N8(_,{undeclared:1}):{..._,undeclared:R}:_,A?void 0:{shouldTransform:(q)=>!HR(k9,q.kind)}))}onDeepUndeclaredKey(T){return this.onUndeclaredKey({rule:T,deep:!0})}filter(T){return this.constrain("predicate",T)}divisibleBy(T){return this.constrain("divisor",T)}matching(T){return this.constrain("pattern",T)}atLeast(T){return this.constrain("min",T)}atMost(T){return this.constrain("max",T)}moreThan(T){return this.constrain("min",Z9(T))}lessThan(T){return this.constrain("max",Z9(T))}atLeastLength(T){return this.constrain("minLength",T)}atMostLength(T){return this.constrain("maxLength",T)}moreThanLength(T){return this.constrain("minLength",Z9(T))}lessThanLength(T){return this.constrain("maxLength",Z9(T))}exactlyLength(T){return this.constrain("exactLength",T)}atOrAfter(T){return this.constrain("after",T)}atOrBefore(T){return this.constrain("before",T)}laterThan(T){return this.constrain("after",Z9(T))}earlierThan(T){return this.constrain("before",Z9(T))}}var Ei="Expected a non-empty brand name after #",Z9=(T)=>typeof T==="object"&&!(T instanceof Date)?{...T,exclusive:!0}:{rule:T,exclusive:!0},QA=(T,R)=>a(R,"root")?a(T,"root")?T.extends(R):R.allows(T):a(T,"root")?T.hasUnit(R):R===T,ND=(T)=>{if(T.hasKind("morph"))return null;if(T.hasKind("intersection"))return T.inner.structure??(T.basis?.domain==="object"?T.$.bindReference(u.intrinsic.emptyStructure):null);if(T.isBasis()&&T.domain==="object")return T.$.bindReference(u.intrinsic.emptyStructure);return null},Fi=(T)=>`Props cannot be extracted from a union. Use .distribute to extract props from each branch instead. Received:
${T}`,kD=(T,R)=>`${T} operand must be an object (was ${R})`;var tT=(T,R)=>c(Jq(T),(A,q)=>[q,R]);var ji=(T)=>typeof T==="string"?{reference:T}:T,aD=(T)=>T instanceof k?u.intrinsic.never.internal:T,bi=f({kind:"alias",hasAssociatedError:!1,collapsibleKey:"reference",keys:{reference:{serialize:(T)=>T.startsWith("$")?T:`$ark.${T}`},resolve:{}},normalize:ji,defaults:{description:(T)=>T.reference},intersections:{alias:(T,R,A)=>A.$.lazilyResolve(()=>aD(qT(T.resolution,R.resolution,A)),`${T.reference}${A.pipe?"=>":"&"}${R.reference}`),...tT("alias",(T,R,A)=>{if(R.isUnknown())return T;if(R.isNever())return R;return A.$.lazilyResolve(()=>aD(qT(T.resolution,R,A)),`${T.reference}${A.pipe?"=>":"&"}${R.id}`)})}});class KD extends cT{expression=this.reference;structure=void 0;get resolution(){let T=this._resolve();return aT[this.id]=T}_resolve(){if(this.resolve)return this.resolve();if(this.reference[0]==="$")return this.$.resolveRoot(this.reference.slice(1));let T=this.reference,R=aT[T],A=[];while(a(R,"context")){if(A.includes(R.id))return F(ui(R.id,A));A.push(R.id),R=aT[R.id]}if(!a(R,"root"))return p(`Unexpected resolution for reference ${this.reference}
Seen: [${A.join("->")}] 
Resolution: ${Z(R)}`);return R}get resolutionId(){if(this.reference.includes("&")||this.reference.includes("=>"))return this.resolution.id;if(this.reference[0]!=="$")return this.reference;let T=this.reference.slice(1),R=this.$.resolutions[T];if(typeof R==="string")return R;if(a(R,"root"))return R.id;return p(`Unexpected resolution for reference ${this.reference}: ${Z(R)}`)}get shortDescription(){return MT.object}innerToJsonSchema(){return l.throwUnjsonifiableError(this.expression,"cyclic")}traverseAllows=(T,R)=>{let A=R.seen[this.reference];if(A?.includes(T))return!0;return R.seen[this.reference]=Y(A,T),this.resolution.traverseAllows(T,R)};traverseApply=(T,R)=>{let A=R.seen[this.reference];if(A?.includes(T))return;R.seen[this.reference]=Y(A,T),this.resolution.traverseApply(T,R)};compile(T){let R=this.resolutionId;T.if(`ctx.seen.${R} && ctx.seen.${R}.includes(data)`,()=>T.return(!0)),T.if(`!ctx.seen.${R}`,()=>T.line(`ctx.seen.${R} = []`)),T.line(`ctx.seen.${R}.push(data)`),T.return(T.invoke(R))}}var ui=(T,R)=>`Alias '${T}' has a shallow resolution cycle: ${[...R,T].join("->")}`,NA={implementation:bi,Node:KD};class A9 extends cT{traverseApply=(T,R)=>{if(!this.traverseAllows(T,R))R.errorFromNodeContext(this.errorContext)};get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return UR(this.errorContext)}compile(T){if(T.traversalKind==="Allows")T.return(this.compiledCondition);else T.if(this.compiledNegation,()=>T.line(`${T.ctx}.errorFromNodeContext(${this.compiledErrorContext})`))}}var Qi=f({kind:"domain",hasAssociatedError:!0,collapsibleKey:"domain",keys:{domain:{}},normalize:(T)=>typeof T==="string"?{domain:T}:T,defaults:{description:(T)=>MT[T.domain],actual:(T)=>MT[kT(T)]},intersections:{domain:(T,R)=>k.init("domain",T,R)}});class GD extends A9{traverseAllows=(T)=>kT(T)===this.domain;compiledCondition=this.domain==="object"?'((typeof data === "object" && data !== null) || typeof data === "function")':`typeof data === "${this.domain}"`;compiledNegation=this.domain==="object"?'((typeof data !== "object" || data === null) && typeof data !== "function")':`typeof data !== "${this.domain}"`;expression=this.domain;get shortDescription(){return MT[this.domain]}innerToJsonSchema(){if(this.domain==="bigint"||this.domain==="symbol")return l.throwUnjsonifiableError(this.domain);return{type:this.domain}}}var Jh={implementation:Qi,Node:GD};var Ni=f({kind:"intersection",hasAssociatedError:!0,normalize:(T)=>{if(_T(T))return T;let{structure:R,...A}=T,q=!!R,_=R??{},h=c(A,(B,C)=>{if(IT(B,r8)){if(q)F(`Flattened structure key ${B} cannot be specified alongside a root 'structure' key.`);return _[B]=C,[]}return[B,C]});if(a(_,"constraint")||!mT(_))h.structure=_;return h},finalizeInnerJson:({structure:T,...R})=>KT(T,"object")?{...T,...R}:R,keys:{domain:{child:!0,parse:(T,R)=>R.$.node("domain",T)},proto:{child:!0,parse:(T,R)=>R.$.node("proto",T)},structure:{child:!0,parse:(T,R)=>R.$.node("structure",T),serialize:(T)=>{if(!T.sequence?.minLength)return T.collapsibleJson;let{sequence:R,...A}=T.collapsibleJson,{minVariadicLength:q,..._}=R,h=_.variadic&&Object.keys(_).length===1?_.variadic:_;return{...A,sequence:h}}},divisor:{child:!0,parse:bT("divisor")},max:{child:!0,parse:bT("max")},min:{child:!0,parse:bT("min")},maxLength:{child:!0,parse:bT("maxLength")},minLength:{child:!0,parse:bT("minLength")},exactLength:{child:!0,parse:bT("exactLength")},before:{child:!0,parse:bT("before")},after:{child:!0,parse:bT("after")},pattern:{child:!0,parse:bT("pattern")},predicate:{child:!0,parse:bT("predicate")}},reduce:(T,R)=>bq({},T,{$:R,invert:!1,pipe:!1}),defaults:{description:(T)=>{if(T.children.length===0)return"unknown";if(T.structure)return T.structure.description;let R=[];if(T.basis&&!T.refinements.some((A)=>A.impl.obviatesBasisDescription))R.push(T.basis.description);if(T.refinements.length){let A=T.refinements.toSorted((q,_)=>q.kind==="min"&&_.kind==="max"?-1:0).map((q)=>q.description);R.push(...A)}if(T.predicate)R.push(...T.predicate.map((A)=>A.description));return R.join(" and ")},expected:(T)=>`   ${T.errors.map((R)=>R.expected).join(`
   `)}`,problem:(T)=>`(${T.actual}) must be...
${T.expected}`},intersections:{intersection:(T,R,A)=>bq(T,R,A),...tT("intersection",(T,R,A)=>{if(T.children.length===0)return R;let{domain:q,proto:_,...h}=T.inner,B=_??q,C=B?qT(B,R,A):R;return C instanceof k?C:T?.basis?.equals(C)?T:T.$.node("intersection",{...h,[C.kind]:C},{prereduced:!0})})}});class gD extends cT{basis=this.domain??this.proto??null;refinements=this.children.filter((T)=>T.isRefinement());get expression(){let T=this.structure?.expression||`${this.basis?this.basis.nestableExpression+" ":""}${this.refinements.join(" & ")}`||"unknown";if(T==="Array == 0")T="[]";return this.cacheGetter("expression",T)}get shortDescription(){return this.basis?.shortDescription??"present"}innerToJsonSchema(){return this.children.reduce((T,R)=>R.isBasis()?R.toJsonSchema():R.reduceJsonSchema(T),{})}traverseAllows=(T,R)=>this.children.every((A)=>A.traverseAllows(T,R));traverseApply=(T,R)=>{let A=R.currentErrorCount;if(this.basis){if(this.basis.traverseApply(T,R),R.currentErrorCount>A)return}if(this.refinements.length){for(let q=0;q<this.refinements.length-1;q++)if(this.refinements[q].traverseApply(T,R),R.failFast&&R.currentErrorCount>A)return;if(this.refinements.at(-1).traverseApply(T,R),R.currentErrorCount>A)return}if(this.structure){if(this.structure.traverseApply(T,R),R.currentErrorCount>A)return}if(this.predicate){for(let q=0;q<this.predicate.length-1;q++)if(this.predicate[q].traverseApply(T,R),R.failFast&&R.currentErrorCount>A)return;this.predicate.at(-1).traverseApply(T,R)}};compile(T){if(T.traversalKind==="Allows"){this.children.forEach((R)=>T.check(R)),T.return(!0);return}if(T.initializeErrorCount(),this.basis){if(T.check(this.basis),this.children.length>1)T.returnIfFail()}if(this.refinements.length){for(let R=0;R<this.refinements.length-1;R++)T.check(this.refinements[R]),T.returnIfFailFast();if(T.check(this.refinements.at(-1)),this.structure||this.predicate)T.returnIfFail()}if(this.structure){if(T.check(this.structure),this.predicate)T.returnIfFail()}if(this.predicate){for(let R=0;R<this.predicate.length-1;R++)T.check(this.predicate[R]),T.returnIfFail();T.check(this.predicate.at(-1))}}}var ih={implementation:Ni,Node:gD},bq=(T,R,A)=>{if(a(T,"root")&&T.hasKind("intersection"))return bq(T.inner,R,A);if(a(R,"root")&&R.hasKind("intersection"))return bq(T,R.inner,A);let q={},_=T.proto??T.domain,h=R.proto??R.domain,B=_?h?qT(_,h,A):_:h;if(B instanceof k)return B;if(B)q[B.kind]=B;return x9({kind:"intersection",baseInner:q,l:f9(T),r:f9(R),roots:[],ctx:A})};var ki=f({kind:"morph",hasAssociatedError:!1,keys:{in:{child:!0,parse:(T,R)=>R.$.parseSchema(T)},morphs:{parse:u9,serialize:(T)=>T.map((R)=>a(R,"root")?R.json:JT(R))},declaredIn:{child:!1,serialize:(T)=>T.json},declaredOut:{child:!1,serialize:(T)=>T.json}},normalize:(T)=>T,defaults:{description:(T)=>`a morph from ${T.in.description} to ${T.out?.description??"unknown"}`},intersections:{morph:(T,R,A)=>{if(!T.hasEqualMorphs(R))return F(ai(T.expression,R.expression));let q=qT(T.in,R.in,A);if(q instanceof k)return q;let _={morphs:T.morphs};if(T.declaredIn||R.declaredIn){let h=qT(T.in,R.in,A);if(h instanceof k)return h.throw();else _.declaredIn=h}if(T.declaredOut||R.declaredOut){let h=qT(T.out,R.out,A);if(h instanceof k)return h.throw();else _.declaredOut=h}return q.distribute((h)=>A.$.node("morph",{..._,in:h}),A.$.parseSchema)},...tT("morph",(T,R,A)=>{let q=T.inner.in?qT(T.inner.in,R,A):R;return q instanceof k?q:q.equals(T.inner.in)?T:A.$.node("morph",{...T.inner,in:q})})}});class LD extends cT{serializedMorphs=this.morphs.map(JT);compiledMorphs=`[${this.serializedMorphs}]`;lastMorph=this.inner.morphs.at(-1);lastMorphIfNode=a(this.lastMorph,"root")?this.lastMorph:void 0;introspectableIn=this.inner.in;introspectableOut=this.lastMorphIfNode?Object.assign(this.referencesById,this.lastMorphIfNode.referencesById)&&this.lastMorphIfNode.out:void 0;get in(){return this.declaredIn??this.inner.in?.in??u.intrinsic.unknown.internal}get out(){return this.declaredOut??this.introspectableOut??u.intrinsic.unknown.internal}declareIn(T){return this.$.node("morph",{...this.inner,declaredIn:T})}declareOut(T){return this.$.node("morph",{...this.inner,declaredOut:T})}expression=`(In: ${this.in.expression}) => Out<${this.out.expression}>`;get shortDescription(){return this.in.shortDescription}innerToJsonSchema(){return l.throwUnjsonifiableError(this.expression,"morph")}compile(T){if(T.traversalKind==="Allows"){if(!this.introspectableIn)return;T.return(T.invoke(this.introspectableIn));return}if(this.introspectableIn)T.line(T.invoke(this.introspectableIn));T.line(`ctx.queueMorphs(${this.compiledMorphs})`)}traverseAllows=(T,R)=>!this.introspectableIn||this.introspectableIn.traverseAllows(T,R);traverseApply=(T,R)=>{if(this.introspectableIn)this.introspectableIn.traverseApply(T,R);R.queueMorphs(this.morphs)};hasEqualMorphs(T){return Q9(this.morphs,T.morphs,{isEqual:(R,A)=>R===A||a(R,"root")&&a(A,"root")&&R.equals(A)})}}var yh={implementation:ki,Node:LD},ai=(T,R)=>`The intersection of distinct morphs at a single path is indeterminate:
Left: ${T}
Right: ${R}`;var Ki=f({kind:"proto",hasAssociatedError:!0,collapsibleKey:"proto",keys:{proto:{serialize:(T)=>HA(T)??IR(T)}},normalize:(T)=>typeof T==="string"?{proto:nR[T]}:typeof T==="function"?_T(T)?T:{proto:T}:typeof T.proto==="string"?{...T,proto:nR[T.proto]}:T,defaults:{description:(T)=>T.builtinName?a8[T.builtinName]:`an instance of ${T.proto.name}`,actual:(T)=>WA(T)},intersections:{proto:(T,R)=>S_(T.proto,R.proto)?T:S_(R.proto,T.proto)?R:k.init("proto",T,R),domain:(T,R)=>R.domain==="object"?T:k.init("domain",u.intrinsic.object.internal,R)}});class xD extends A9{builtinName=HA(this.proto);serializedConstructor=this.json.proto;compiledCondition=`data instanceof ${this.serializedConstructor}`;compiledNegation=`!(${this.compiledCondition})`;innerToJsonSchema(){switch(this.builtinName){case"Array":return{type:"array"};default:return l.throwUnjsonifiableError(this.description)}}traverseAllows=(T)=>T instanceof this.proto;expression=this.proto.name;domain="object";get shortDescription(){return this.description}}var $h={implementation:Ki,Node:xD};var Gi=f({kind:"union",hasAssociatedError:!0,collapsibleKey:"branches",keys:{ordered:{},branches:{child:!0,parse:(T,R)=>{let A=[];if(T.forEach((q)=>{(a(q,"root")?q.branches:R.$.parseSchema(q).branches).forEach((h)=>{if(h.hasKind("morph")){let B=A.findIndex((C)=>C.hasKind("morph")&&C.hasEqualMorphs(h));if(B===-1)A.push(h);else{let C=A[B];A[B]=R.$.node("morph",{...C.inner,in:C.in.rawOr(h.in)})}}else A.push(h)})}),!R.def.ordered)A.sort((q,_)=>q.hash<_.hash?-1:1);return A}}},normalize:(T)=>AT(T)?{branches:T}:T,reduce:(T,R)=>{let A=Xi(T);if(A.length===1)return A[0];if(A.length===T.branches.length)return;return R.node("union",{...T,branches:A},{prereduced:!0})},defaults:{description:(T)=>T.distribute((R)=>R.description,U9),expected:(T)=>{let R=qq(T.errors,"propString"),A=Object.entries(R).map(([q,_])=>{let h=[];_.forEach((O)=>JR(h,O.expected));let B=U9(h),C=_.every((O)=>O.actual===_[0].actual)?_[0].actual:Z(_[0].data);return`${q&&`${q} `}must be ${B}${C&&` (was ${C})`}`});return U9(A)},problem:(T)=>T.expected,message:(T)=>T.problem},intersections:{union:(T,R,A)=>{if(T.isNever!==R.isNever)return k.init("presence",T,R);let q;if(T.ordered){if(R.ordered)F(Si(T.expression,R.expression));if(q=Ih(R.branches,T.branches,A),q instanceof k)q.invert()}else q=Ih(T.branches,R.branches,A);if(q instanceof k)return q;return A.$.parseSchema(T.ordered||R.ordered?{branches:q,ordered:!0}:{branches:q})},...tT("union",(T,R,A)=>{let q=Ih(T.branches,[R],A);if(q instanceof k)return q;if(q.length===1)return q[0];return A.$.parseSchema(T.ordered?{branches:q,ordered:!0}:{branches:q})})}});class fD extends cT{isBoolean=this.branches.length===2&&this.branches[0].hasUnit(!1)&&this.branches[1].hasUnit(!0);get branchGroups(){let T=[],R=-1;return this.branches.forEach((A)=>{if(A.hasKind("unit")&&A.domain==="boolean"){if(R===-1)R=T.length,T.push(A);else T[R]=u.intrinsic.boolean;return}T.push(A)}),T}unitBranches=this.branches.filter((T)=>T.in.hasKind("unit"));discriminant=this.discriminate();discriminantJson=this.discriminant?xi(this.discriminant):null;expression=this.distribute((T)=>T.nestableExpression,zi);get shortDescription(){return this.distribute((T)=>T.shortDescription,U9)}innerToJsonSchema(){return{anyOf:this.branchGroups.map((T)=>T.equals(u.intrinsic.boolean)?{type:"boolean"}:T.toJsonSchema())}}traverseAllows=(T,R)=>this.branches.some((A)=>A.traverseAllows(T,R));traverseApply=(T,R)=>{let A=[];for(let q=0;q<this.branches.length;q++){if(R.pushBranch(),this.branches[q].traverseApply(T,R),!R.hasError()){if(this.branches[q].includesMorph)return R.queuedMorphs.push(...R.popBranch().queuedMorphs);return R.popBranch()}A.push(R.popBranch().error)}R.errorFromNodeContext({code:"union",errors:A,meta:this.meta})};compile(T){if(!this.discriminant||this.unitBranches.length===this.branches.length&&this.branches.length===2)return this.compileIndiscriminable(T);let R=this.discriminant.optionallyChainedPropString;if(this.discriminant.kind==="domain")R=`typeof ${R} === "object" ? ${R} === null ? "null" : "object" : typeof ${R} === "function" ? "object" : typeof ${R}`;let A=this.discriminant.cases,q=Object.keys(A);if(T.block(`switch(${R})`,()=>{for(let O in A){let D=A[O],W=O==="default"?O:`case ${O}`;T.line(`${W}: return ${D===!0?D:T.invoke(D)}`)}return T}),T.traversalKind==="Allows"){T.return(!1);return}let _=U9(this.discriminant.kind==="domain"?q.map((O)=>{let D=O.slice(1,-1);return D==="function"?MT.object:MT[D]}):q),h=this.discriminant.path.map((O)=>typeof O==="string"?JSON.stringify(O):JT(O)),B=JSON.stringify(_),C=this.discriminant.kind==="domain"?`${gi}[${R}]`:`${Li}(${R})`;T.line(`ctx.errorFromNodeContext({
\tcode: "predicate",
\texpected: ${B},
\tactual: ${C},
\trelativePath: [${h}],
\tmeta: ${this.compiledMeta}
})`)}compileIndiscriminable(T){if(T.traversalKind==="Apply")T.const("errors","[]"),this.branches.forEach((R)=>T.line("ctx.pushBranch()").line(T.invoke(R)).if("!ctx.hasError()",()=>T.return(R.includesMorph?"ctx.queuedMorphs.push(...ctx.popBranch().queuedMorphs)":"ctx.popBranch()")).line("errors.push(ctx.popBranch().error)")),T.line(`ctx.errorFromNodeContext({ code: "union", errors, meta: ${this.compiledMeta} })`);else this.branches.forEach((R)=>T.if(`${T.invoke(R)}`,()=>T.return(!0))),T.return(!1)}get nestableExpression(){return this.isBoolean?"boolean":`(${this.expression})`}discriminate(){if(this.branches.length<2)return null;if(this.unitBranches.length===this.branches.length){let h=c(this.unitBranches,(B,C)=>[`${C.in.serializedValue}`,C.hasKind("morph")?C:!0]);return{kind:"unit",path:[],optionallyChainedPropString:"data",cases:h}}let T=[];for(let h=0;h<this.branches.length-1;h++){let B=this.branches[h];for(let C=h+1;C<this.branches.length;C++){let O=this.branches[C],D=xT(B.in,O.in,B.$);if(!(D instanceof k))continue;for(let W of D){if(!W.kind||W.optional)continue;let H,J;if(W.kind==="domain"){let{l:y,r:$}=W;H=`"${typeof y==="string"?y:y.domain}"`,J=`"${typeof $==="string"?$:$.domain}"`}else if(W.kind==="unit")H=W.l.serializedValue,J=W.r.serializedValue;else continue;let i=T.find((y)=>Q9(y.path,W.path)&&y.kind===W.kind);if(!i)T.push({kind:W.kind,cases:{[H]:[B],[J]:[O]},path:W.path});else i.cases[H]=JR(i.cases[H],B),i.cases[J]=JR(i.cases[J],O)}}}let R=T.sort((h,B)=>Object.keys(h.cases).length-Object.keys(B.cases).length).at(-1);if(!R)return null;let A=[...this.branches],q={kind:R.kind,path:R.path,optionallyChainedPropString:zD(R.path)},_=c(R.cases,(h,B)=>{let C=[];A=A.filter((D)=>!B.includes(D));for(let D of B){let W=Ui(D,q);if(W===null)return[h,!0];C.push(W)}let O=C.length===1?C[0]:this.$.node("union",C);return Object.assign(this.referencesById,O.referencesById),[h,O]});if(A.length)_.default=this.$.node("union",A,{prereduced:!0}),Object.assign(this.referencesById,_.default.referencesById);return Object.assign(q,{cases:_})}}var zD=(T)=>T.reduce((R,A)=>R+l_(A,!0),"data"),gi=JT(b8),Li=JT(Z),Eh={implementation:Gi,Node:fD},xi=(T)=>({kind:T.kind,path:T.path.map((R)=>typeof R==="string"?R:$R(R)),cases:c(T.cases,(R,A)=>[R,A===!0?A:A.hasKind("union")&&A.discriminantJson?A.discriminantJson:A.json])}),fi={delimiter:" | ",finalDelimiter:" | "},zi=(T)=>U9(T,fi),U9=(T,R)=>{let A=R?.delimiter??", ",q=R?.finalDelimiter??" or ";if(T.length===0)return"never";if(T.length===1)return T[0];if(T.length===2&&T[0]==="false"&&T[1]==="true"||T[0]==="true"&&T[1]==="false")return"boolean";let _={},h=T.filter((C)=>_[C]?!1:_[C]=!0),B=h.pop();return`${h.join(A)}${h.length?q:""}${B}`},Ih=(T,R,A)=>{let q=R.map(()=>[]);for(let h=0;h<T.length;h++){let B={};for(let C=0;C<R.length;C++){if(q[C]===null)continue;if(T[h].equals(R[C])){q[C]=null,B={};break}let O=qT(T[h],R[C],A);if(O instanceof k)continue;if(O.equals(T[h])){q[C].push(T[h]),B={};break}if(O.equals(R[C]))q[C]=null;else B[C]=O}for(let C in B)q[C][h]=B[C]}let _=q.flatMap((h,B)=>h?.flatMap((C)=>C.branches)??R[B]);return _.length===0?k.init("union",T,R):_},Xi=({branches:T,ordered:R})=>{if(T.length<2)return T;let A=T.map(()=>!0);for(let q=0;q<T.length;q++)for(let _=q+1;_<T.length&&A[q]&&A[_];_++){if(T[q].equals(T[_])){A[_]=!1;continue}let h=xT(T[q].in,T[_].in,T[0].$);if(h instanceof k)continue;if(!R)Zi(T[q],T[_]);if(h.equals(T[q].in))A[q]=!!R;else if(h.equals(T[_].in))A[_]=!1}return T.filter((q,_)=>A[_])},Zi=(T,R)=>{if((T.includesMorph||R.includesMorph)&&(!Q9(T.shallowMorphs,R.shallowMorphs,{isEqual:(A,q)=>A.hasEqualMorphs(q)})||!Q9(T.flatMorphs,R.flatMorphs,{isEqual:(A,q)=>A.propString===q.propString&&A.node.hasEqualMorphs(q.node)})))F(Mi(T.expression,R.expression))},Ui=(T,R)=>T.transform((A,q)=>{if(A==="domain"||A==="unit")return null;return q},{shouldTransform:(A,q)=>{let _=zD(q.path);if(!R.optionallyChainedPropString.startsWith(_))return!1;if(A.hasKind("domain")&&A.domain==="object")return!0;if((A.hasKind("domain")||R.kind==="unit")&&_===R.optionallyChainedPropString)return!0;return A.children.length!==0&&A.kind!=="index"}}),Mi=(T,R)=>`An unordered union of a type including a morph and a type with overlapping input is indeterminate:
Left: ${T}
Right: ${R}`,Si=(T,R)=>`The intersection of two ordered unions is indeterminate:
Left: ${T}
Right: ${R}`;var ci=f({kind:"unit",hasAssociatedError:!0,keys:{unit:{preserveUndefined:!0,serialize:(T)=>T instanceof Date?T.toISOString():IR(T)}},normalize:(T)=>T,defaults:{description:(T)=>Z(T.unit),problem:({expected:T,actual:R})=>`${T===R?`must be reference equal to ${T} (serialized to the same value)`:`must be ${T} (was ${R})`}`},intersections:{unit:(T,R)=>k.init("unit",T,R),...tT("unit",(T,R)=>{if(R.allows(T.unit))return T;let A=R.hasKind("intersection")?R.basis:R;if(A){let q=A.hasKind("domain")?A:u.intrinsic.object;if(T.domain!==q.domain){let _=T.domain==="undefined"||T.domain==="null"||T.domain==="boolean"?T.domain:u.intrinsic[T.domain];return k.init("domain",_,q)}}return k.init("assignability",T,R.hasKind("intersection")?R.children.find((q)=>!q.allows(T.unit)):R)})}});class ZD extends A9{compiledValue=this.json.unit;serializedValue=typeof this.unit==="string"||this.unit instanceof Date?JSON.stringify(this.compiledValue):`${this.compiledValue}`;compiledCondition=XD(this.unit,this.serializedValue);compiledNegation=XD(this.unit,this.serializedValue,"negated");expression=Z(this.unit);domain=kT(this.unit);get shortDescription(){return this.domain==="object"?MT.object:this.description}innerToJsonSchema(){return u.intrinsic.jsonPrimitive.allows(this.unit)?{const:this.unit}:l.throwUnjsonifiableError(this.shortDescription)}traverseAllows=this.unit instanceof Date?(T)=>T instanceof Date&&T.toISOString()===this.compiledValue:Number.isNaN(this.unit)?(T)=>Number.isNaN(T):(T)=>T===this.unit}var Fh={implementation:ci,Node:ZD},XD=(T,R,A)=>{if(T instanceof Date){let q=`data instanceof Date && data.toISOString() === ${R}`;return A?`!(${q})`:q}if(Number.isNaN(T))return`${A?"!":""}Number.isNaN(data)`;return`data ${A?"!":"="}== ${R}`};var Pi=f({kind:"index",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{signature:{child:!0,parse:(T,R)=>{let A=R.$.parseSchema(T);if(!A.extends(u.intrinsic.key))return F(wi(A.expression));let q=A.branches.filter((_)=>_.hasKind("unit"));if(q.length)return F(Yi(q.map((_)=>Z(_.unit))));return A}},value:{child:!0,parse:(T,R)=>R.$.parseSchema(T)}},normalize:(T)=>T,defaults:{description:(T)=>`[${T.signature.expression}]: ${T.value.description}`},intersections:{index:(T,R,A)=>{if(T.signature.equals(R.signature)){let q=qT(T.value,R.value,A),_=q instanceof k?u.intrinsic.never.internal:q;return A.$.node("index",{signature:T.signature,value:_})}if(T.signature.extends(R.signature)&&T.value.subsumes(R.value))return R;if(R.signature.extends(T.signature)&&R.value.subsumes(T.value))return T;return null}}});class UD extends ST{impliedBasis=u.intrinsic.object.internal;expression=`[${this.signature.expression}]: ${this.value.expression}`;traverseAllows=(T,R)=>DA(T).every((A)=>{if(this.signature.traverseAllows(A[0],R))return LT(A[0],()=>this.value.traverseAllows(A[1],R),R);return!0});traverseApply=(T,R)=>DA(T).forEach((A)=>{if(this.signature.traverseAllows(A[0],R))LT(A[0],()=>this.value.traverseApply(A[1],R),R)});_transform(T,R){R.path.push(this.signature);let A=super._transform(T,R);return R.path.pop(),A}get flatRefs(){return Y(this.value.flatRefs.map((T)=>lT([this.signature,...T.path],T.node)),lT([this.signature],this.value))}compile(){}}var jh={implementation:Pi,Node:UD},Yi=(T)=>`Index keys ${T.join(", ")} should be specified as named props.`,wi=(T)=>`Indexed key definition '${T}' must be a string or symbol`;var Vi=f({kind:"required",hasAssociatedError:!0,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(T,R)=>R.$.parseSchema(T)}},normalize:(T)=>T,defaults:{description:(T)=>`${T.compiledKey}: ${T.value.description}`,expected:(T)=>T.missingValueDescription,actual:()=>"missing"},intersections:{required:FA,optional:FA}});class MD extends jA{expression=`${this.compiledKey}: ${this.value.expression}`;errorContext=Object.freeze({code:"required",missingValueDescription:this.value.shortDescription,relativePath:[this.key],meta:this.meta});compiledErrorContext=UR(this.errorContext)}var bh={implementation:Vi,Node:MD};var vi=f({kind:"sequence",hasAssociatedError:!1,collapsibleKey:"variadic",keys:{prefix:{child:!0,parse:(T,R)=>{if(T.length===0)return;return T.map((A)=>R.$.parseSchema(A))}},optionals:{child:!0,parse:(T,R)=>{if(T.length===0)return;return T.map((A)=>R.$.parseSchema(A))}},defaultables:{child:(T)=>T.map((R)=>R[0]),parse:(T,R)=>{if(T.length===0)return;return T.map((A)=>{let q=R.$.parseSchema(A[0]);return uA(q,A[1],null),[q,A[1]]})},serialize:(T)=>T.map((R)=>[R[0].collapsibleJson,IR(R[1])])},variadic:{child:!0,parse:(T,R)=>R.$.parseSchema(T,R)},minVariadicLength:{parse:(T)=>T===0?void 0:T},postfix:{child:!0,parse:(T,R)=>{if(T.length===0)return;return T.map((A)=>R.$.parseSchema(A))}}},normalize:(T)=>{if(typeof T==="string")return{variadic:T};if("variadic"in T||"prefix"in T||"defaultables"in T||"optionals"in T||"postfix"in T||"minVariadicLength"in T){if(T.postfix?.length){if(!T.variadic)return F(li);if(T.optionals?.length||T.defaultables?.length)return F(Qh)}if(T.minVariadicLength&&!T.variadic)return F("minVariadicLength may not be specified without a variadic element");return T}return{variadic:T}},reduce:(T,R)=>{let A=T.minVariadicLength??0,q=T.prefix?.slice()??[],_=T.defaultables?.slice()??[],h=T.optionals?.slice()??[],B=T.postfix?.slice()??[];if(T.variadic){while(h.at(-1)?.equals(T.variadic))h.pop();if(h.length===0&&_.length===0)while(q.at(-1)?.equals(T.variadic))q.pop(),A++;while(B[0]?.equals(T.variadic))B.shift(),A++}else if(h.length===0&&_.length===0)q.push(...B.splice(0));if(A!==T.minVariadicLength||T.prefix&&T.prefix.length!==q.length)return R.node("sequence",{...T,prefix:q,defaultables:_,optionals:h,postfix:B,minVariadicLength:A},{prereduced:!0})},defaults:{description:(T)=>{if(T.isVariadicOnly)return`${T.variadic.nestableExpression}[]`;return`[${T.tuple.map((A)=>A.kind==="defaultables"?`${A.node.nestableExpression} = ${Z(A.default)}`:A.kind==="optionals"?`${A.node.nestableExpression}?`:A.kind==="variadic"?`...${A.node.nestableExpression}[]`:A.node.expression).join(", ")}]`}},intersections:{sequence:(T,R,A)=>{let q=kA({l:T.tuple,r:R.tuple,disjoint:new k,result:[],fixedVariants:[],ctx:A}),_=q.disjoint.length===0?[q,...q.fixedVariants]:q.fixedVariants;return _.length===0?q.disjoint:_.length===1?A.$.node("sequence",SD(_[0].result)):A.$.node("union",_.map((h)=>({proto:Array,sequence:SD(h.result)})))}}});class cD extends ST{impliedBasis=u.intrinsic.Array.internal;tuple=mi(this.inner);prefixLength=this.prefix?.length??0;defaultablesLength=this.defaultables?.length??0;optionalsLength=this.optionals?.length??0;postfixLength=this.postfix?.length??0;prevariadic=this.tuple.filter((T)=>T.kind==="prefix"||T.kind==="defaultables"||T.kind==="optionals");variadicOrPostfix=fR(this.variadic&&[this.variadic],this.postfix);isVariadicOnly=this.prevariadic.length+this.postfixLength===0;minVariadicLength=this.inner.minVariadicLength??0;minLength=this.prefixLength+this.minVariadicLength+this.postfixLength;minLengthNode=this.minLength===0?null:this.$.node("minLength",this.minLength);maxLength=this.variadic?null:this.tuple.length;maxLengthNode=this.maxLength===null?null:this.$.node("maxLength",this.maxLength);impliedSiblings=this.minLengthNode?this.maxLengthNode?[this.minLengthNode,this.maxLengthNode]:[this.minLengthNode]:this.maxLengthNode?[this.maxLengthNode]:[];defaultValueMorphs=this.defaultables?.map(([T,R],A)=>Hh(this.prefixLength+A,T,R))??[];defaultValueMorphsReference=JT(this.defaultValueMorphs);elementAtIndex(T,R){if(R<this.prevariadic.length)return this.tuple[R];let A=T.length-this.postfixLength;if(R>=A)return{kind:"postfix",node:this.postfix[R-A]};return{kind:"variadic",node:this.variadic??p(`Unexpected attempt to access index ${R} on ${this}`)}}traverseAllows=(T,R)=>{for(let A=0;A<T.length;A++)if(!this.elementAtIndex(T,A).node.traverseAllows(T[A],R))return!1;return!0};traverseApply=(T,R)=>{let A=0;for(;A<T.length;A++)LT(A,()=>this.elementAtIndex(T,A).node.traverseApply(T[A],R),R);for(;A<this.prefixLength+this.defaultablesLength;A++)R.queueMorphs(this.defaultValueMorphs[A-this.prefixLength])};get flatRefs(){let T=[];return g9(T,this.prevariadic.flatMap((R,A)=>Y(R.node.flatRefs.map((q)=>lT([`${A}`,...q.path],q.node)),lT([`${A}`],R.node)))),g9(T,this.variadicOrPostfix.flatMap((R)=>Y(R.flatRefs.map((A)=>lT([u.intrinsic.nonNegativeIntegerString.internal,...A.path],A.node)),lT([u.intrinsic.nonNegativeIntegerString.internal],R)))),T}get element(){return this.cacheGetter("element",this.$.node("union",this.children))}compile(T){if(this.prefix?.forEach((R,A)=>T.traverseKey(`${A}`,`data[${A}]`,R)),this.defaultables?.forEach((R,A)=>{let q=`${A+this.prefixLength}`;T.if(`${q} >= ${T.data}.length`,()=>T.traversalKind==="Allows"?T.return(!0):T.return(`ctx.queueMorphs(${this.defaultValueMorphsReference}[${A}])`)),T.traverseKey(q,`data[${q}]`,R[0])}),this.optionals?.forEach((R,A)=>{let q=`${A+this.prefixLength+this.defaultablesLength}`;T.if(`${q} >= ${T.data}.length`,()=>T.traversalKind==="Allows"?T.return(!0):T.return()),T.traverseKey(q,`data[${q}]`,R)}),this.variadic){if(this.postfix)T.const("firstPostfixIndex",`${T.data}.length${this.postfix?`- ${this.postfix.length}`:""}`);T.for(`i < ${this.postfix?"firstPostfixIndex":"data.length"}`,()=>T.traverseKey("i","data[i]",this.variadic),this.prevariadic.length),this.postfix?.forEach((R,A)=>{let q=`firstPostfixIndex + ${A}`;T.traverseKey(q,`data[${q}]`,R)})}if(T.traversalKind==="Allows")T.return(!0)}_transform(T,R){R.path.push(u.intrinsic.nonNegativeIntegerString.internal);let A=super._transform(T,R);return R.path.pop(),A}expression=this.description;reduceJsonSchema(T){if(this.prefix)T.prefixItems=this.prefix.map((R)=>R.toJsonSchema());if(this.optionals)return l.throwUnjsonifiableError(`Optional tuple element${this.optionalsLength>1?"s":""} ${this.optionals.join(", ")}`);if(this.variadic){if(T.items=this.variadic?.toJsonSchema(),this.minLength)T.minItems=this.minLength;if(this.maxLength)T.maxItems=this.maxLength}else T.items=!1,delete T.minItems,delete T.maxItems;if(this.postfix)return l.throwUnjsonifiableError(`Postfix tuple element${this.postfixLength>1?"s":""} ${this.postfix.join(", ")}`);return T}}var uh={implementation:vi,Node:cD},mi=(T)=>{let R=[];if(T.prefix?.forEach((A)=>R.push({kind:"prefix",node:A})),T.defaultables?.forEach(([A,q])=>R.push({kind:"defaultables",node:A,default:q})),T.optionals?.forEach((A)=>R.push({kind:"optionals",node:A})),T.variadic)R.push({kind:"variadic",node:T.variadic});return T.postfix?.forEach((A)=>R.push({kind:"postfix",node:A})),R},SD=(T)=>T.reduce((R,A)=>{if(A.kind==="variadic")R.variadic=A.node;else if(A.kind==="defaultables")R.defaultables=Y(R.defaultables,[[A.node,A.default]]);else R[A.kind]=Y(R[A.kind],A.node);return R},{}),Qh="A postfix required element cannot follow an optional or defaultable element",li="A postfix element requires a variadic element",kA=(T)=>{let[R,...A]=T.l,[q,..._]=T.r;if(!R||!q)return T;let h=A.at(-1)?.kind==="postfix",B=_.at(-1)?.kind==="postfix",C=R.kind==="prefix"||q.kind==="prefix"?"prefix":R.kind==="postfix"||q.kind==="postfix"?"postfix":R.kind==="variadic"&&q.kind==="variadic"?"variadic":h||B?"prefix":R.kind==="defaultables"||q.kind==="defaultables"?"defaultables":"optionals";if(R.kind==="prefix"&&q.kind==="variadic"&&B){let H=kA({...T,fixedVariants:[],r:_.map((J)=>({...J,kind:"prefix"}))});if(H.disjoint.length===0)T.fixedVariants.push(H)}else if(q.kind==="prefix"&&R.kind==="variadic"&&h){let H=kA({...T,fixedVariants:[],l:A.map((J)=>({...J,kind:"prefix"}))});if(H.disjoint.length===0)T.fixedVariants.push(H)}let O=qT(R.node,q.node,T.ctx);if(O instanceof k)if(C==="prefix"||C==="postfix")T.disjoint.push(...O.withPrefixKey(C==="prefix"?`${T.result.length}`:`-${A.length+1}`,"required")),T.result=[...T.result,{kind:C,node:u.intrinsic.never.internal}];else if(C==="optionals"||C==="defaultables")return T;else return kA({...T,fixedVariants:[],l:A.map((H)=>({...H,kind:"prefix"})),r:A.map((H)=>({...H,kind:"prefix"}))});else if(C==="defaultables"){if(R.kind==="defaultables"&&q.kind==="defaultables"&&R.default!==q.default)F(Wh(R.default,q.default));T.result=[...T.result,{kind:C,node:O,default:R.kind==="defaultables"?R.default:q.kind==="defaultables"?q.default:p(`Unexpected defaultable intersection from ${R.kind} and ${q.kind} elements.`)}]}else T.result=[...T.result,{kind:C,node:O}];let D=T.l.length,W=T.r.length;if(R.kind!=="variadic"||D>=W&&(q.kind==="variadic"||W===1))T.l=A;if(q.kind!=="variadic"||W>=D&&(R.kind==="variadic"||D===1))T.r=_;return kA(T)};var Nh="^(?:0|[1-9]\\d*)$",oi=new RegExp(Nh),PD=JT(oi);var wD=(T)=>(R)=>{if(R.props.length||R.index){let A=R.index?.map(String)??[];if(R.props.forEach((_)=>A.push(_[T])),R.undeclared)A.push(`+ (undeclared): ${R.undeclared}`);let q=`{ ${A.join(", ")} }`;return R.sequence?`${q} & ${R.sequence.description}`:q}return R.sequence?.description??"{}"},di=wD("description"),ri=wD("expression"),pi=f({kind:"structure",hasAssociatedError:!1,normalize:(T,R)=>{if(!T.undeclared&&R.resolvedConfig.onUndeclaredKey!=="ignore")return{...T,undeclared:R.resolvedConfig.onUndeclaredKey};return T},keys:{required:{child:!0,parse:bT("required"),reduceIo:(T,R,A)=>{R.required=Y(R.required,A.map((q)=>q[T]));return}},optional:{child:!0,parse:bT("optional"),reduceIo:(T,R,A)=>{if(T==="in"){R.optional=A.map((q)=>q.in);return}A.forEach((q)=>R[q.outProp.kind]=Y(R[q.outProp.kind],q.outProp.out))}},index:{child:!0,parse:bT("index")},sequence:{child:!0,parse:bT("sequence")},undeclared:{parse:(T)=>T==="ignore"?void 0:T}},defaults:{description:di},intersections:{structure:(T,R,A)=>{let q={...T.inner},_={...R.inner},h=new k;if(T.undeclared){let O=T.keyof();if(R.requiredKeys.forEach((D)=>{if(!O.allows(D))h.add("presence",u.intrinsic.never.internal,R.propsByKey[D].value,{path:[D]})}),_.optional)_.optional=_.optional.filter((D)=>O.allows(D.key));if(_.index)_.index=_.index.flatMap((D)=>{if(D.signature.extends(O))return D;let W=xT(O,D.signature,A.$);if(W instanceof k)return[];let H=uq(W,D.value,A.$);if(H.required)_.required=fR(_.required,H.required);if(H.optional)_.optional=fR(_.optional,H.optional);return H.index??[]})}if(R.undeclared){let O=R.keyof();if(T.requiredKeys.forEach((D)=>{if(!O.allows(D))h.add("presence",T.propsByKey[D].value,u.intrinsic.never.internal,{path:[D]})}),q.optional)q.optional=q.optional.filter((D)=>O.allows(D.key));if(q.index)q.index=q.index.flatMap((D)=>{if(D.signature.extends(O))return D;let W=xT(O,D.signature,A.$);if(W instanceof k)return[];let H=uq(W,D.value,A.$);if(H.required)q.required=fR(q.required,H.required);if(H.optional)q.optional=fR(q.optional,H.optional);return H.index??[]})}let B={};if(T.undeclared||R.undeclared)B.undeclared=T.undeclared==="reject"||R.undeclared==="reject"?"reject":"delete";let C=x9({kind:"structure",baseInner:B,l:f9(q),r:f9(_),roots:[],ctx:A});if(C instanceof k)h.push(...C);if(h.length)return h;return C}}});class VD extends ST{impliedBasis=u.intrinsic.object.internal;impliedSiblings=this.children.flatMap((T)=>T.impliedSiblings??[]);props=fR(this.required,this.optional);propsByKey=c(this.props,(T,R)=>[R.key,R]);propsByKeyReference=JT(this.propsByKey);expression=ri(this);requiredKeys=this.required?.map((T)=>T.key)??[];optionalKeys=this.optional?.map((T)=>T.key)??[];literalKeys=[...this.requiredKeys,...this.optionalKeys];_keyof;keyof(){if(this._keyof)return this._keyof;let T=this.$.units(this.literalKeys).branches;return this.index?.forEach(({signature:R})=>{T=T.concat(R.branches)}),this._keyof=this.$.node("union",T)}map(T){return this.$.node("structure",this.props.flatMap(T).reduce((R,A)=>{let q=this.propsByKey[A.key];if(_T(A)){if(A.kind!=="required"&&A.kind!=="optional")return F(`Map result must have kind "required" or "optional" (was ${A.kind})`);return R[A.kind]=Y(R[A.kind],A),R}let _=A.kind??q?.kind??"required",h=c(A,(B,C)=>(B in bA.implementation.keys)?[B,C]:[]);return R[_]=Y(R[_],this.$.node(_,h)),R},{}))}assertHasKeys(T){let R=T.filter((A)=>!QA(A,this.keyof()));if(R.length)return F(YD(this.expression,R))}get(T,...R){let A,q=!1,_=ni(T);if((typeof _==="string"||typeof _==="symbol")&&this.propsByKey[_])A=this.propsByKey[_].value,q=this.propsByKey[_].required;if(this.index?.forEach((B)=>{if(QA(_,B.signature))A=A?.and(B.value)??B.value}),this.sequence&&QA(_,u.intrinsic.nonNegativeIntegerString))if(a(_,"root")){if(this.sequence.variadic)A=A?.and(this.sequence.element)??this.sequence.element}else{let B=Number.parseInt(_);if(B<this.sequence.prevariadic.length){let C=this.sequence.prevariadic[B].node;A=A?.and(C)??C,q||=B<this.sequence.prefixLength}else if(this.sequence.variadic){let C=this.$.node("union",this.sequence.variadicOrPostfix);A=A?.and(C)??C}}if(!A){if(this.sequence?.variadic&&a(_,"root")&&_.extends(u.intrinsic.number))return F(si(_.expression,this.sequence.expression));return F(YD(this.expression,[_]))}let h=A.get(...R);return q?h:h.or(u.intrinsic.undefined)}exhaustive=this.undeclared!==void 0||this.index!==void 0;pick(...T){return this.assertHasKeys(T),this.$.node("structure",this.filterKeys("pick",T))}omit(...T){return this.assertHasKeys(T),this.$.node("structure",this.filterKeys("omit",T))}optionalize(){let{required:T,...R}=this.inner;return this.$.node("structure",{...R,optional:this.props.map((A)=>A.hasKind("required")?this.$.node("optional",A.inner):A)})}require(){let{optional:T,...R}=this.inner;return this.$.node("structure",{...R,required:this.props.map((A)=>A.hasKind("optional")?{key:A.key,value:A.value}:A)})}merge(T){let R=this.filterKeys("omit",[T.keyof()]);if(T.required)R.required=Y(R.required,T.required);if(T.optional)R.optional=Y(R.optional,T.optional);if(T.index)R.index=Y(R.index,T.index);if(T.sequence)R.sequence=T.sequence;if(T.undeclared)R.undeclared=T.undeclared;else delete R.undeclared;return this.$.node("structure",R)}filterKeys(T,R){let A=Oq(this.inner),q=(_)=>{let h=R.some((B)=>QA(_,B));return T==="pick"?h:!h};if(A.required)A.required=A.required.filter((_)=>q(_.key));if(A.optional)A.optional=A.optional.filter((_)=>q(_.key));if(A.index)A.index=A.index.filter((_)=>q(_.signature));return A}traverseAllows=(T,R)=>this._traverse("Allows",T,R);traverseApply=(T,R)=>this._traverse("Apply",T,R);_traverse=(T,R,A)=>{let q=A?.currentErrorCount??0;for(let h=0;h<this.props.length;h++)if(T==="Allows"){if(!this.props[h].traverseAllows(R,A))return!1}else if(this.props[h].traverseApply(R,A),A.failFast&&A.currentErrorCount>q)return!1;if(this.sequence){if(T==="Allows"){if(!this.sequence.traverseAllows(R,A))return!1}else if(this.sequence.traverseApply(R,A),A.failFast&&A.currentErrorCount>q)return!1}if(!this.exhaustive)return!0;let _=Object.keys(R);_.push(...Object.getOwnPropertySymbols(R));for(let h=0;h<_.length;h++){let B=_[h],C=!1;if(this.index){for(let O of this.index)if(O.signature.traverseAllows(B,A)){if(T==="Allows"){if(!LT(B,()=>O.value.traverseAllows(R[B],A),A))return!1}else if(LT(B,()=>O.value.traverseApply(R[B],A),A),A.failFast&&A.currentErrorCount>q)return!1;C=!0}}if(this.undeclared){if(C||=B in this.propsByKey,C||=this.sequence!==void 0&&typeof B==="string"&&u.intrinsic.nonNegativeIntegerString.allows(B),!C){if(T==="Allows")return!1;if(this.undeclared==="reject")A.errorFromNodeContext({code:"predicate",expected:"removed",actual:"",relativePath:[B],meta:this.meta});else A.queueMorphs([(O)=>{return delete O[B],O}]);if(A.failFast)return!1}}}return!0};compile(T){if(T.traversalKind==="Apply")T.initializeErrorCount();if(this.props.forEach((R)=>{if(T.check(R),T.traversalKind==="Apply")T.returnIfFailFast()}),this.sequence){if(T.check(this.sequence),T.traversalKind==="Apply")T.returnIfFailFast()}if(this.exhaustive)T.const("keys","Object.keys(data)"),T.line("keys.push(...Object.getOwnPropertySymbols(data))"),T.for("i < keys.length",()=>this.compileExhaustiveEntry(T));if(T.traversalKind==="Allows")T.return(!0)}compileExhaustiveEntry(T){if(T.const("k","keys[i]"),this.undeclared)T.let("matched",!1);if(this.index?.forEach((R)=>{T.if(`${T.invoke(R.signature,{arg:"k",kind:"Allows"})}`,()=>{if(T.traverseKey("k","data[k]",R.value),this.undeclared)T.set("matched",!0);return T})}),this.undeclared){if(this.props?.length!==0)T.line(`matched ||= k in ${this.propsByKeyReference}`);if(this.sequence)T.line(`matched ||= typeof k === "string" && ${PD}.test(k)`);T.if("!matched",()=>{if(T.traversalKind==="Allows")return T.return(!1);return this.undeclared==="reject"?T.line(`ctx.errorFromNodeContext({ code: "predicate", expected: "removed", actual: "", relativePath: [k], meta: ${this.compiledMeta} })`).if("ctx.failFast",()=>T.return()):T.line("ctx.queueMorphs([data => { delete data[k]; return data }])")})}return T}reduceJsonSchema(T){switch(T.type){case"object":return this.reduceObjectJsonSchema(T);case"array":if(this.props.length||this.index)return l.throwUnjsonifiableError(`Additional properties on array ${this.expression}`);return this.sequence?.reduceJsonSchema(T)??T;default:return l.throwInternalOperandError("structure",T)}}reduceObjectJsonSchema(T){if(this.props.length){if(T.properties={},this.props.forEach((R)=>{if(typeof R.key==="symbol")return l.throwUnjsonifiableError(`Sybolic key ${R.serializedKey}`);T.properties[R.key]=R.value.toJsonSchema()}),this.requiredKeys.length)T.required=this.requiredKeys}if(this.index?.forEach((R)=>{if(R.signature.equals(u.intrinsic.string))return T.additionalProperties=R.value.toJsonSchema();if(!R.signature.extends(u.intrinsic.string))return l.throwUnjsonifiableError(`Symbolic index signature ${R.signature.exclude(u.intrinsic.string)}`);R.signature.branches.forEach((A)=>{if(!A.hasKind("intersection")||A.pattern?.length!==1)return l.throwUnjsonifiableError(`Index signature ${A}`);T.patternProperties??={},T.patternProperties[A.pattern[0].rule]=R.value.toJsonSchema()})}),this.undeclared&&!T.additionalProperties)T.additionalProperties=!1;return T}}var kh={implementation:pi,Node:VD},ni=(T)=>{if(a(T,"root")&&T.hasKind("unit"))T=T.unit;if(typeof T==="number")T=`${T}`;return T},si=(T,R)=>`${T} is not allowed as an array index on ${R}. Use the 'nonNegativeIntegerString' keyword instead.`,uq=(T,R,A)=>{let[q,_]=j8(T.branches,(B)=>B.hasKind("unit"));if(!q.length)return{index:A.node("index",{signature:T,value:R})};let h={};if(q.forEach((B)=>{let C=A.node("required",{key:B.unit,value:R});h[C.kind]=Y(h[C.kind],C)}),_.length)h.index=A.node("index",{signature:_,value:R});return h},ti=(T)=>a(T,"root")?T.expression:Z(T),YD=(T,R)=>`Key${R.length===1?"":"s"} ${R.map(ti).join(", ")} ${R.length===1?"does":"do"} not exist on ${T}`;var X9={...$D,alias:NA.implementation,domain:Jh.implementation,unit:Fh.implementation,proto:$h.implementation,union:Eh.implementation,morph:yh.implementation,intersection:ih.implementation,divisor:t_.implementation,pattern:Bh.implementation,predicate:s_.implementation,required:bh.implementation,optional:bA.implementation,index:jh.implementation,sequence:uh.implementation,structure:kh.implementation};u.defaultConfig=Object.assign(c(X9,(T,R)=>[T,R.defaults]),{jitless:L8(),clone:K8,onUndeclaredKey:"ignore"});var uD={...ID,alias:NA.Node,domain:Jh.Node,unit:Fh.Node,proto:$h.Node,union:Eh.Node,morph:yh.Node,intersection:ih.Node,divisor:t_.Node,pattern:Bh.Node,predicate:s_.Node,required:bh.Node,optional:bA.Node,index:jh.Node,sequence:uh.Node,structure:kh.Node};class q9 extends X_{get[GT](){return"module"}}var ah=(T,R)=>new q9(c(T,(A,q)=>[A,a(q,"module")?ah(q,R):R.bindReference(q)]));var ei=(T)=>AT(T)?T:("branches"in T)&&AT(T.branches)?T.branches:void 0,Ty=(T,R)=>F(`Node of kind ${R} is not valid as a ${T} definition`),vD=(T)=>`#${T} duplicates public alias ${T}`,mD={};u.ambient??={};var lD;class Qq{config;resolvedConfig;id=`${Object.keys(mD).length}$`;get[GT](){return"scope"}referencesById={};references=[];resolutions={};exportedNames=[];aliases={};resolved=!1;nodesByHash={};constructor(T,R){this.config=R??{},this.resolvedConfig=s8(R),Object.entries(T).map((q)=>this.preparseOwnAliasEntry(...q)).forEach(([q,_])=>{let h=q;if(q[0]==="#"){if(h=q.slice(1),h in this.aliases)F(vD(h));this.aliases[h]=_}else{if(h in this.aliases)F(vD(q));this.aliases[h]=_,this.exportedNames.push(h)}if(!a(_,"module")&&!a(_,"generic")&&!zR(_)){let B=this.preparseOwnDefinitionFormat(_,{alias:h});if(a(B,"root"))this.resolutions[h]=this.bindReference(B);else this.resolutions[h]=this.createParseContext(B).id}}),lD??=this.node("union",{branches:["string","number","object","bigint","symbol",{unit:!0},{unit:!1},{unit:void 0},{unit:null}]},{prereduced:!0}),this.nodesByHash[lD.hash]=this.node("intersection",{},{prereduced:!0}),mD[this.id]=this}get internal(){return this}_json;get json(){if(!this._json)this.export();return this._json}defineSchema(T){return T}generic=(...T)=>{let R=this;return(A,q)=>new MR(T,q?new yq(A):A,R,R,q??null)};units=(T,R)=>{let A=[];for(let _ of T)if(!A.includes(_))A.push(_);let q=A.map((_)=>this.node("unit",{unit:_},R));return this.node("union",q,{...R,prereduced:!0})};lazyResolutions=[];lazilyResolve(T,R){let A=this.node("alias",{reference:R??"synthetic",resolve:T},{prereduced:!0});if(!this.resolved)this.lazyResolutions.push(A);return A}schema=(T,R)=>this.finalize(this.parseSchema(T,R));parseSchema=(T,R)=>this.node(EA(T),T,R);preparseNode(T,R,A){let q=typeof T==="string"?T:EA(R,T);if(_T(R)&&R.kind===q)return R;if(q==="alias"&&!A?.prereduced){let{reference:B}=NA.implementation.normalize(R,this);if(B.startsWith("$")){let C=this.resolveRoot(B.slice(1));R=C,q=C.kind}}else if(q==="union"&&KT(R,"object")){let B=ei(R);if(B?.length===1)R=B[0],q=EA(R)}let h=X9[q].normalize?.(R,this)??R;if(_T(h))return h.kind===q?h:Ty(q,h.kind);return{...A,$:this,kind:q,def:h,prefix:A.alias??q}}bindReference(T){let R=T.$===this?T:_T(T)?new T.constructor(T.attachments,this):new MR(T.params,T.bodyDef,T.$,this,T.hkt);if(!this.resolved)Object.assign(this.referencesById,R.referencesById);return R}resolveRoot(T){return this.maybeResolveRoot(T)??F(gh(T))}maybeResolveRoot(T){let R=this.maybeResolve(T);if(a(R,"generic"))return;return R}maybeResolveSubalias(T){return Kh(this.aliases,T)??Kh(this.ambient,T)}get ambient(){return u.ambient}maybeResolve(T){let R=this.resolutions[T];if(R){if(typeof R!=="string")return R;let q=aT[R];if(a(q,"root"))return this.resolutions[T]=q;if(a(q,"context")){if(q.phase==="resolving")return this.node("alias",{reference:`$${T}`},{prereduced:!0});if(q.phase==="resolved")return p(`Unexpected resolved context for was uncached by its scope: ${Z(q)}`);q.phase="resolving";let _=this.bindReference(this.parseOwnDefinitionFormat(q.def,q));return q.phase="resolved",aT[_.id]=_,aT[q.id]=_,this.resolutions[T]=_}return p(`Unexpected nodesById entry for ${R}: ${Z(q)}`)}let A=this.aliases[T]??this.ambient?.[T];if(!A)return this.maybeResolveSubalias(T);if(A=this.normalizeRootScopeValue(A),a(A,"generic"))return this.resolutions[T]=this.bindReference(A);if(a(A,"module"))if(A.root)return this.resolutions[T]=this.bindReference(A.root);else return F(pD(T));return this.resolutions[T]=this.parse(A,{alias:T})}createParseContext(T){let R=T.id??Ch(T.prefix);return aT[R]=Object.assign(T,{[GT]:"context",$:this,id:R,phase:"unresolved"})}import(...T){return new q9(c(this.export(...T),(R,A)=>[`#${R}`,A]))}precompilation;_exportedResolutions;_exports;export(...T){if(!this._exports){this._exports={};for(let A of this.exportedNames){let q=this.aliases[A];this._exports[A]=a(q,"module")?ah(q,this):oD(this.maybeResolve(A))}if(this.lazyResolutions.forEach((A)=>A.resolution),this.resolvedConfig.ambient===!0)Object.assign(u.ambient,this._exports);else if(typeof this.resolvedConfig.ambient==="string")Object.assign(u.ambient,{[this.resolvedConfig.ambient]:new q9({...this._exports})});if(this._exportedResolutions=rD(this,this._exports),this._json=dD(this._exportedResolutions),Object.assign(this.resolutions,this._exportedResolutions),this.references=Object.values(this.referencesById),!this.resolvedConfig.jitless)this.precompilation=sD(this.references),nD(this.references,this.precompilation);this.resolved=!0}let R=T.length?T:this.exportedNames;return new q9(c(R,(A,q)=>[q,this._exports[q]]))}resolve(T){return this.export()[T]}node=(T,R,A={})=>{let q=this.preparseNode(T,R,A);if(_T(q))return this.bindReference(q);let _=this.createParseContext(q);return aT[_.id]=this.bindReference(Dh(_))};parse=(T,R={})=>this.finalize(this.parseDefinition(T,R));parseDefinition(T,R={}){if(a(T,"root"))return this.bindReference(T);let A=this.preparseOwnDefinitionFormat(T,R);if(a(A,"root"))return this.bindReference(A);let q=this.createParseContext(A);aT[q.id]=q;let _=this.bindReference(this.parseOwnDefinitionFormat(T,q));if(_.isCyclic)_=bD(_,q.id);return aT[q.id]=_,_}finalize(T){if(oD(T),!T.precompilation&&!this.resolvedConfig.jitless)Ay(T.references);return T}}class Gh extends Qq{parseOwnDefinitionFormat(T,R){return Dh(R)}preparseOwnDefinitionFormat(T,R){return this.preparseNode(EA(T),T,R)}preparseOwnAliasEntry(T,R){return[T,R]}normalizeRootScopeValue(T){return T}}var oD=(T)=>{return T.references.filter((R)=>R.hasKind("alias")).forEach((R)=>{Object.assign(R.referencesById,R.resolution.referencesById),T.references.forEach((A)=>{if(R.id in A.referencesById)Object.assign(A.referencesById,R.referencesById)})}),T},dD=(T)=>c(T,(R,A)=>[R,a(A,"root")||a(A,"generic")?A.json:a(A,"module")?dD(A):p(`Unexpected resolution ${Z(A)}`)]),Kh=(T,R)=>{let A=R.indexOf(".");if(A===-1)return;let q=R.slice(0,A),_=T[q];if(_===void 0)return;if(!a(_,"module"))return F(Ry(q));let h=R.slice(A+1),B=_[h];if(B===void 0)return Kh(_,h);if(a(B,"root")||a(B,"generic"))return B;if(a(B,"module"))return B.root??F(pD(R));p(`Unexpected resolution for alias '${R}': ${Z(B)}`)},Nq=(T,R)=>new Gh(T,R),aA=new Gh({});var rD=(T,R)=>{let A={};for(let q in R){let _=R[q];if(a(_,"module")){let h=rD(T,_),B=c(h,(C,O)=>[`${q}.${C}`,O]);Object.assign(A,B)}else if(a(_,"root")||a(_,"generic"))A[q]=_;else p(`Unexpected scope resolution ${Z(_)}`)}return A},gh=(T)=>`'${T}' is unresolvable`,Ry=(T)=>`'${T}' must reference a module to be accessed using dot syntax`,pD=(T)=>`Reference to submodule '${T}' must specify an alias`,Ay=(T)=>nD(T,sD(T)),nD=(T,R)=>{let A=qy(R);for(let q of T){if(q.precompilation)continue;if(q.traverseAllows=A[`${q.id}Allows`].bind(A),q.isRoot()&&!q.allowsRequiresContext)q.allows=q.traverseAllows;q.traverseApply=A[`${q.id}Apply`].bind(A),q.precompilation=R}},qy=(T)=>new Cq().return(T).compile()(),sD=(T)=>T.reduce((R,A)=>{let q=new Dq("Allows").indent();A.compile(q);let _=q.write(`${A.id}Allows`),h=new Dq("Apply").indent();A.compile(h);let B=h.write(`${A.id}Apply`);return`${R}${_},
${B},
`},`{
`)+"}";aA.export();var{schema:n,node:M9,defineSchema:VQ,generic:PT}=aA;var tD=Nq({bigint:"bigint",boolean:[{unit:!1},{unit:!0}],false:{unit:!1},never:[],null:{unit:null},number:"number",object:"object",string:"string",symbol:"symbol",true:{unit:!0},unknown:{},undefined:{unit:void 0},Array,Date},{prereducedAliases:!0}).export();u.intrinsic={...tD};var eD=Nq({integer:{domain:"number",divisor:1},lengthBoundable:["string",Array],key:["string","symbol"],nonNegativeIntegerString:{domain:"string",pattern:Nh}},{prereducedAliases:!0}).export();Object.assign(u.intrinsic,eD);var _y=Nq({jsonPrimitive:["string","number",{unit:!0},{unit:!1},{unit:null}],jsonObject:{domain:"object",index:{signature:"string",value:"$jsonData"}},jsonArray:{proto:Array,sequence:"$jsonData"},jsonData:["$jsonPrimitive","$jsonObject","$jsonArray"],json:["$jsonObject","$jsonArray"]},{prereducedAliases:!0}).export(),L={...tD,...eD,..._y,emptyStructure:M9("structure",{},{prereduced:!0})};u.intrinsic={...L};var RO=(T)=>typeof T==="string"&&T[0]==="d"&&(T[1]==="'"||T[1]==='"')&&T.at(-1)===T[1],TO=(T)=>T.toString()!=="Invalid Date",AO=(T)=>T.slice(2,-1),Lh=(T)=>`'${T}' could not be parsed by the Date constructor`,qO=(T,R)=>hy(T,R),hy=(T,R)=>{let A=new Date(T);if(TO(A))return A;let q=c8(T);if(q!==void 0){let _=new Date(q);if(TO(_))return _}return R?F(R===!0?Lh(T):R):void 0};var xh=(T,R)=>{let A=T.scanner.shiftUntil(By[hO[R]]);if(T.scanner.lookahead==="")return T.error(Dy(A,R));if(T.scanner.shift(),R==="/"){try{new RegExp(A)}catch(q){F(String(q))}T.root=T.ctx.$.node("intersection",{domain:"string",pattern:A},{prereduced:!0})}else if(IT(R,fh))T.root=T.ctx.$.node("unit",{unit:A});else{let q=qO(A,Lh(A));T.root=T.ctx.$.node("unit",{meta:A,unit:q})}},fh={"'":1,'"':1},_O={"/":1,"'":1,'"':1},hO={"d'":"'",'d"':'"',"'":"'",'"':'"',"/":"/"},By={"'":(T)=>T.lookahead==="'",'"':(T)=>T.lookahead==='"',"/":(T)=>T.lookahead==="/"},Cy={'"':"double-quote","'":"single-quote","/":"forward slash"},Dy=(T,R)=>`${R}${T} requires a closing ${Cy[hO[R]]}`;var BO=(T)=>`Private type references should not include '#'. Use '${T}' instead.`,kq="Optional definitions like 'string?' are only valid as properties in an object or tuple",aq="Defaultable definitions like 'number = 0' are only valid as properties in an object or tuple";var CO={">":!0,">=":!0},DO={"<":!0,"<=":!0};var S9={"<":">",">":"<","<=":">=",">=":"<=","==":"=="},OO=(T)=>`Unmatched )${T===""?"":` before ${T}`}`,Kq=(T)=>`Missing ${T}`,WO=(T,R)=>`Left bounds are only valid when paired with right bounds (try ...${R}${T})`,Gq=(T)=>`Left-bounded expressions must specify their limits using < or <= (was ${T})`,HO=(T,R,A,q)=>`An expression may have at most one left bound (parsed ${T}${S9[R]}, ${A}${S9[q]})`;var JO=(T,R,A)=>iO(T,R,A,[]),iO=(T,R,A,q)=>{let _=A.parseUntilFinalizer();if(q.push(_.root),_.finalizer===">"){if(q.length!==R.params.length)return A.error(zh(T,R.names,q.map((h)=>h.expression)));return q}if(_.finalizer===",")return iO(T,R,A,q);return _.error(Kq(">"))},zh=(T,R,A)=>`${T}<${R.join(", ")}> requires exactly ${R.length} args (got ${A.length}${A.length===0?"":`: ${A.join(", ")}`})`;var Xh=(T)=>{let R=T.scanner.shiftUntilNextTerminator();if(R==="keyof")T.addPrefix("keyof");else T.root=Wy(T,R)},Oy=(T,R,A)=>{if(A.scanner.shiftUntilNonWhitespace(),A.scanner.shift()!=="<")return A.error(zh(T,R.names,[]));let _=JO(T,R,A);return R(..._)},Wy=(T,R)=>Hy(T,R)??Jy(T,R)??T.error(R===""?T.scanner.lookahead==="#"?BO(T.shiftedByOne().scanner.shiftUntilNextTerminator()):Zh(T):gh(R)),Hy=(T,R)=>{if(T.ctx.args?.[R]){let q=T.ctx.args[R];if(typeof q!=="string")return q;return T.ctx.$.node("alias",{reference:q},{prereduced:!0})}let A=T.ctx.$.maybeResolve(R);if(a(A,"root"))return A;if(A===void 0)return;if(a(A,"generic"))return Oy(R,A,T);return F(`Unexpected resolution ${Z(A)}`)},Jy=(T,R)=>{let A=P8(R);if(A!==void 0)return T.ctx.$.node("unit",{unit:A});let q=w8(R);if(q!==void 0)return T.ctx.$.node("unit",{unit:q})},Zh=(T)=>{let R=T.previousOperator();return R?Uh(R,T.scanner.unscanned):iy(T.scanner.unscanned)},Uh=(T,R="")=>`Token '${T}' requires a right operand${R?` before '${R}'`:""}`,iy=(T)=>`Expected an expression${T?` before '${T}'`:""}`;var Mh=(T)=>T.scanner.lookahead===""?T.error(Zh(T)):T.scanner.lookahead==="("?T.shiftedByOne().reduceGroupOpen():T.scanner.lookaheadIsIn(_O)?xh(T,T.scanner.shift()):T.scanner.lookaheadIsIn(ZR)?Mh(T.shiftedByOne()):T.scanner.lookahead==="d"?T.scanner.nextLookahead in fh?xh(T,`${T.scanner.shift()}${T.scanner.shift()}`):Xh(T):Xh(T);class FR extends V_{shiftUntilNextTerminator(){return this.shiftUntilNonWhitespace(),this.shiftUntil(()=>(this.lookahead in FR.terminatingChars))}static terminatingChars={"<":1,">":1,"=":1,"|":1,"&":1,")":1,"[":1,"%":1,",":1,":":1,"?":1,"#":1,...ZR};static finalizingLookaheads={">":1,",":1,"":1,"=":1,"?":1};static lookaheadIsFinalizing=(T,R)=>T===">"?R[0]==="="?R[1]==="=":R.trimStart()===""||IT(R.trimStart()[0],FR.terminatingChars):T==="="?R[0]!=="=":T===","||T==="?"}var $O=(T,R)=>{let A=yy(T,R);if(T.root.hasKind("unit")){if(typeof T.root.unit==="number"){T.reduceLeftBound(T.root.unit,A),T.unsetRoot();return}if(T.root.unit instanceof Date){let q=`d'${T.root.description??T.root.unit.toISOString()}'`;T.unsetRoot(),T.reduceLeftBound(q,A);return}}return Iy(T,A)},IO={"<":1,">":1,"=":1},yy=(T,R)=>T.scanner.lookaheadIs("=")?`${R}${T.scanner.shift()}`:R;var yO=(T,R,A,q)=>{if(A.extends(u.intrinsic.number)){if(typeof R!=="number")return F(Sh(T,R,q));return T==="=="?["min","max"]:T[0]===">"?["min"]:["max"]}if(A.extends(u.intrinsic.lengthBoundable)){if(typeof R!=="number")return F(Sh(T,R,q));return T==="=="?["exactLength"]:T[0]===">"?["minLength"]:["maxLength"]}if(A.extends(u.intrinsic.Date))return T==="=="?["after","before"]:T[0]===">"?["after"]:["before"];return F(CD(A.expression))},$y=(T)=>({rule:RO(T.limit)?AO(T.limit):T.limit,exclusive:T.comparator.length===1}),Iy=(T,R)=>{let A=T.unsetRoot(),q=T.scanner.location;T.parseOperand();let _=T.unsetRoot(),h=T.scanner.sliceChars(q,T.scanner.location);if(T.root=A,!_.hasKind("unit")||typeof _.unit!=="number"&&!(_.unit instanceof Date))return T.error(Sh(R,h,"right"));let B=_.unit,C=R.length===1,O=yO(R,typeof B==="number"?B:h,A,"right");for(let W of O)T.constrainRoot(W,R==="=="?{rule:B}:{rule:B,exclusive:C});if(!T.branches.leftBound)return;if(!IT(R,DO))return T.error(Gq(R));let D=yO(T.branches.leftBound.comparator,T.branches.leftBound.limit,A,"left");T.constrainRoot(D[0],$y(T.branches.leftBound)),T.branches.leftBound=null},Sh=(T,R,A)=>`Comparator ${A==="left"?S9[T]:T} must be ${A==="left"?"preceded":"followed"} by a corresponding literal (was ${R})`;var EO=(T)=>{T.scanner.shiftUntilNonWhitespace();let R=T.scanner.shiftUntilNextTerminator();T.root=T.root.brand(R)};var jO=(T)=>{let R=T.scanner.shiftUntilNextTerminator(),A=Y8(R,{errorOnFail:FO(R)});if(A===0)T.error(FO(0));T.root=T.root.constrain("divisor",A)},FO=(T)=>`% operator must be followed by a non-zero integer literal (was ${T})`;var ch=(T)=>{let R=T.scanner.shift();return R===""?T.finalize(""):R==="["?T.scanner.shift()==="]"?T.setRoot(T.root.array()):T.error(Ey):R==="|"||R==="&"?T.pushRootToBranch(R):R===")"?T.finalizeGroup():FR.lookaheadIsFinalizing(R,T.scanner.unscanned)?T.finalize(R):IT(R,IO)?$O(T,R):R==="%"?jO(T):R==="#"?EO(T):(R in ZR)?ch(T):T.error(gq(R))},gq=(T,R="")=>`'${T}' is not allowed here${R&&` (should be ${R})`}`,Ey="Missing expected ']'";var bO=(T)=>{let R=T.unsetRoot();T.parseOperand();let A=T.unsetRoot();if(!A.hasKind("unit"))return T.error(Fy(A.expression));let q=A.unit instanceof Date?()=>new Date(A.unit):A.unit;return[R,"=",q]},Fy=(T)=>`Default value '${T}' must a literal value`;var Ph=(T,R)=>{let A=R.$.maybeResolveRoot(T);if(A)return A;if(T.endsWith("[]")){let h=R.$.maybeResolveRoot(T.slice(0,-2));if(h)return h.array()}let q=new c9(new FR(T),R),_=jy(q);if(q.finalizer===">")F(gq(">"));return _},jy=(T)=>{T.parseOperand();let R=KA(T).root;if(!R)return p(`Root was unexpectedly unset after parsing string '${T.scanner.scanned}'`);if(T.finalizer==="=")R=bO(T);else if(T.finalizer==="?")R=[R,"?"];if(T.scanner.shiftUntilNonWhitespace(),T.scanner.lookahead)F(gq(T.scanner.lookahead));return R},KA=(T)=>{while(T.finalizer===void 0)by(T);return T},by=(T)=>T.hasRoot()?T.parseOperator():T.parseOperand();class c9{root;branches={prefixes:[],leftBound:null,intersection:null,union:null};finalizer;groups=[];scanner;ctx;constructor(T,R){this.scanner=T,this.ctx=R}error(T){return F(T)}hasRoot(){return this.root!==void 0}setRoot(T){this.root=T}unsetRoot(){let T=this.root;return this.root=void 0,T}constrainRoot(...T){this.root=this.root.constrain(T[0],T[1])}finalize(T){if(this.groups.length)return this.error(Kq(")"));this.finalizeBranches(),this.finalizer=T}reduceLeftBound(T,R){let A=S9[R];if(!IT(A,CO))return this.error(Gq(R));if(this.branches.leftBound)return this.error(HO(this.branches.leftBound.limit,this.branches.leftBound.comparator,T,A));this.branches.leftBound={comparator:A,limit:T}}finalizeBranches(){if(this.assertRangeUnset(),this.branches.union)this.pushRootToBranch("|"),this.root=this.branches.union;else if(this.branches.intersection)this.pushRootToBranch("&"),this.root=this.branches.intersection;else this.applyPrefixes()}finalizeGroup(){this.finalizeBranches();let T=this.groups.pop();if(!T)return this.error(OO(this.scanner.unscanned));this.branches=T}addPrefix(T){this.branches.prefixes.push(T)}applyPrefixes(){while(this.branches.prefixes.length){let T=this.branches.prefixes.pop();this.root=T==="keyof"?this.root.keyof():p(`Unexpected prefix '${T}'`)}}pushRootToBranch(T){this.assertRangeUnset(),this.applyPrefixes();let R=this.root;if(this.branches.intersection=this.branches.intersection?.rawAnd(R)??R,T==="|")this.branches.union=this.branches.union?.rawOr(this.branches.intersection)??this.branches.intersection,this.branches.intersection=null;this.root=void 0}parseUntilFinalizer(){return KA(new c9(this.scanner,this.ctx))}parseOperator(){return ch(this)}parseOperand(){return Mh(this)}assertRangeUnset(){if(this.branches.leftBound)return this.error(WO(this.branches.leftBound.limit,this.branches.leftBound.comparator))}reduceGroupOpen(){this.groups.push(this.branches),this.branches={prefixes:[],leftBound:null,union:null,intersection:null}}previousOperator(){return this.branches.leftBound?.comparator??this.branches.prefixes.at(-1)??(this.branches.intersection?"&":this.branches.union?"|":void 0)}shiftedByOne(){return this.scanner.shift(),this}}var uy="An empty string is not a valid generic parameter name",Lq=(T,R,A)=>{T.shiftUntilNonWhitespace();let q=T.shiftUntilNextTerminator();if(q===""){if(T.lookahead===""&&R.length)return R;return F(uy)}return T.shiftUntilNonWhitespace(),Qy(T,q,R,A)},uO="extends ",Qy=(T,R,A,q)=>{if(T.shiftUntilNonWhitespace(),T.unscanned.startsWith(uO))T.jumpForward(uO.length);else{if(T.lookahead===",")T.shift();return A.push(R),Lq(T,A,q)}let _=KA(new c9(T,q));return A.push([R,_.root]),Lq(T,A,q)};var xq=(T,R)=>{if(AT(T)){if(T[1]==="=")return[R.$.parseOwnDefinitionFormat(T[0],R),"=",T[2]];if(T[1]==="?")return[R.$.parseOwnDefinitionFormat(T[0],R),"?"]}return fq(T,R)},QO="Only required keys may make their values optional, e.g. { [mySymbol]: ['number', '?'] }",NO="Only required keys may specify default values, e.g. { value: 'number = 0' }";var kO=(T,R)=>{let A,q={},_=DA(T);for(let[B,C]of _){let O=ay(B);if(O.kind==="spread"){if(!mT(q))return F(ky);let i=R.$.parseOwnDefinitionFormat(C,R);if(i.equals(L.object))continue;if(!i.hasKind("intersection")||!i.basis?.equals(L.object))return F(Ky(i.expression));A=i.structure;continue}if(O.kind==="undeclared"){if(C!=="reject"&&C!=="delete"&&C!=="ignore")F(Ny(C));q.undeclared=C;continue}let D=xq(C,R),W=O;if(O.kind==="required"){if(!AT(D))Yh(q,"required",{key:O.normalized,value:D},R);else Yh(q,"optional",D[1]==="="?{key:O.normalized,value:D[0],default:D[2]}:{key:O.normalized,value:D[0]},R);continue}if(AT(D)){if(D[1]==="?")F(QO);if(D[1]==="=")F(NO)}if(O.kind==="optional"){Yh(q,"optional",{key:O.normalized,value:D},R);continue}let H=R.$.parseOwnDefinitionFormat(W.normalized,R),J=uq(H,D,R.$);if(J.index)q.index=Y(q.index,J.index);if(J.required)q.required=Y(q.required,J.required)}let h=R.$.node("structure",q);return R.$.parseSchema({domain:"object",structure:A?.merge(h)??h})},Yh=(T,R,A,q)=>{T[R]=Y(T[R],q.$.node(R,A))},Ny=(T)=>`Value of '+' key must be 'reject', 'delete', or 'ignore' (was ${Z(T)})`,ky="Spread operator may only be used as the first key in an object",ay=(T)=>typeof T==="symbol"?{kind:"required",normalized:T}:T.at(-1)==="?"?T.at(-2)===JA?{kind:"required",normalized:`${T.slice(0,-2)}?`}:{kind:"optional",normalized:T.slice(0,-1)}:T[0]==="["&&T.at(-1)==="]"?{kind:"index",normalized:T.slice(1,-1)}:T[0]===JA&&T[1]==="["&&T.at(-1)==="]"?{kind:"required",normalized:T.slice(1)}:T==="..."?{kind:"spread"}:T==="+"?{kind:"undeclared"}:{kind:"required",normalized:T==="\\..."?"...":T==="\\+"?"+":T},Ky=(T)=>`Spread operand must resolve to an object literal type (was ${T})`;var GO=(T,R)=>Xy(T)?xO[T[0]](T,R):Ly(T)?LO[T[1]](T,R):null,Gy=(T,R)=>R.$.parseOwnDefinitionFormat(T[1],R).keyof(),aO=(T,R)=>{if(T[2]===void 0)return F(Uh(T[1],""));let A=R.$.parseOwnDefinitionFormat(T[0],R),q=R.$.parseOwnDefinitionFormat(T[2],R);if(T[1]==="|")return R.$.node("union",{branches:[A,q]});let _=xT(A,q,R.$);if(_ instanceof k)return _.throw();return _},gy=(T,R)=>R.$.parseOwnDefinitionFormat(T[0],R).array(),Ly=(T)=>LO[T[1]]!==void 0,xy=(T,R)=>{if(typeof T[2]!=="function")return F(gO("=>",T[2]));return R.$.parseOwnDefinitionFormat(T[0],R).pipe(T[2])},gO=(T,R)=>`${T===":"?"Narrow":"Morph"} expression requires a function following '${T}' (was ${typeof R})`,fy=(T,R)=>{if(typeof T[2]!=="function")return F(gO(":",T[2]));return R.$.parseOwnDefinitionFormat(T[0],R).constrain("predicate",T[2])},zy=(T,R)=>R.$.parseOwnDefinitionFormat(T[0],R).configureShallowDescendants(T[2]),LO={"[]":gy,"|":aO,"&":aO,":":fy,"=>":xy,"@":zy,"=":()=>F(aq),"?":()=>F(kq)},xO={keyof:Gy,instanceof:(T,R)=>{if(typeof T[1]!=="function")return F(KO(WA(T[1])));let A=T.slice(1).map((q)=>typeof q==="function"?R.$.node("proto",{proto:q}):F(KO(WA(q))));return A.length===1?A[0]:R.$.node("union",{branches:A})},"===":(T,R)=>R.$.units(T.slice(1))},Xy=(T)=>xO[T[0]]!==void 0,KO=(T)=>`Expected a constructor following 'instanceof' operator (was ${T})`;var XO=(T,R)=>{let A=[{}],q=0;while(q<T.length){let _=!1;if(T[q]==="..."&&q<T.length-1)_=!0,q++;let h=xq(T[q],R),[B,C,O]=!AT(h)?[h]:h;if(q++,_){if(!B.extends(u.intrinsic.Array))return F(My(B.expression));A=A.flatMap((D)=>B.distribute((W)=>Uy(Oq(D),W)))}else A=A.map((D)=>{if(C==="?")return ZO(D,B);if(C==="=")return Zy(D,B,O);return wh(D,B)})}return R.$.parseSchema(A.map((_)=>mT(_)?{proto:Array,exactLength:0}:{proto:Array,sequence:_}))},wh=(T,R)=>{if(T.defaultables||T.optionals)return F(T.variadic?Qh:Sy);if(T.variadic)T.postfix=Y(T.postfix,R);else T.prefix=Y(T.prefix,R);return T},ZO=(T,R)=>{if(T.variadic)return F(UO);return T.optionals=Y(T.optionals,R),T},Zy=(T,R,A)=>{if(T.variadic)return F(UO);if(T.optionals)return F(cy);return T.defaultables=Y(T.defaultables,[[R,A]]),T},fO=(T,R)=>{if(T.postfix)F(zO);if(T.variadic){if(!T.variadic.equals(R))F(zO)}else T.variadic=R.internal;return T},Uy=(T,R)=>{let A=R.firstReferenceOfKind("sequence");if(!A)return fO(T,u.intrinsic.unknown);if(A.prefix?.forEach((q)=>wh(T,q)),A.optionals?.forEach((q)=>ZO(T,q)),A.variadic)fO(T,A.variadic);return A.postfix?.forEach((q)=>wh(T,q)),T},My=(T)=>`Spread element must be an array (was ${T})`,zO="A tuple may have at most one variadic element",Sy="A required element may not follow an optional element",UO="An optional element may not follow a variadic element";var cy="A defaultable element may not follow an optional element without a default";var Py={},fq=(T,R)=>{if(typeof T==="string"){if(R.args&&Object.keys(R.args).some((q)=>T.includes(q)))return Ph(T,R);let A=Py[R.$.id]??={};return A[T]??=Ph(T,R)}return KT(T,"object")?Yy(T,R):F(Vh(kT(T)))},Yy=(T,R)=>{let A=OA(T);switch(A){case void 0:if(a(T,"root"))return T;return kO(T,R);case"Array":return wy(T,R);case"RegExp":return R.$.node("intersection",{domain:"string",pattern:T},{prereduced:!0});case"Function":{let q=zR(T)?T():T;if(a(q,"root"))return q;return F(Vh("Function"))}default:return F(Vh(A??Z(T)))}},wy=(T,R)=>GO(T,R)??XO(T,R),Vh=(T)=>`Type definitions must be strings or objects (was ${T})`;class vh extends XR{constructor(T){let R=Object.assign({errors:gT,hkt:jT,$:T,raw:T.parse,module:T.constructor.module,scope:T.constructor.scope,define:T.define,generic:T.generic,schema:T.schema,keywords:T.ambient,unit:T.unit,enumerated:T.enumerated,instanceOf:T.instanceOf},T.ambientAttachments);super((...A)=>{if(A.length===1)return T.parse(A[0]);if(A.length===2&&typeof A[0]==="string"&&A[0][0]==="<"&&A[0].at(-1)===">"){let q=A[0].slice(1,-1),_=T.parseGenericParams(q,{});return new MR(_,A[1],T,T,null)}return T.parse(A)},{bind:T,attach:R})}}var zq=u;class Xq extends Qq{cacheGetter(T,R){return Object.defineProperty(this,T,{value:R}),R}get ambientAttachments(){if(!zq.typeAttachments)return;return this.cacheGetter("ambientAttachments",c(zq.typeAttachments,(T,R)=>[T,this.bindReference(R)]))}preparseOwnAliasEntry(T,R){let A=T.indexOf("<");if(A===-1)return[T,R];if(T.at(-1)!==">")F("'>' must be the last character of a generic declaration in a scope");let q=T.slice(0,A),_=T.slice(A+1,-1);return[q,()=>{let h=this.parseGenericParams(_,{alias:q});return AD(h,R,this)}]}parseGenericParams(T,R){return Lq(new FR(T),[],this.createParseContext({...R,def:T,prefix:"generic"}))}normalizeRootScopeValue(T){if(zR(T)&&!a(T,"generic"))return T();return T}preparseOwnDefinitionFormat(T,R){return{...R,def:T,prefix:R.alias??"type"}}parseOwnDefinitionFormat(T,R){if(!(R.alias&&(R.alias in this.aliases))&&!R.args)R.args={this:R.id};let q=fq(T,R);if(AT(q)){if(q[1]==="=")return F(aq);if(q[1]==="?")return F(kq)}return q}unit=(T)=>this.units([T]);enumerated=(...T)=>this.units(T);instanceOf=(T)=>this.node("proto",{proto:T},{prereduced:!0});type=new vh(this);declare=()=>({type:this.type});define(T){return T}static scope=(T,R={})=>new Xq(T,R);static module=(T,R={})=>this.scope(T,R).export()}var mh=Object.assign(Xq.scope,{define:(T)=>T}),P=Xq;class MO extends jT{}var Vy=PT(["base",L.object],["props",L.object])((T)=>T.base.merge(T.props),MO),lh=P.module({Key:L.key,Merge:Vy});class SO extends jT{}var vy=PT("element")((T)=>{let R=T.element.exclude(L.Array),A=R.array();return R.rawOr(A).pipe(u9).distribute((q)=>q.assertHasKind("morph").declareOut(A),n)},SO),cO=P.module({root:L.Array,readonly:"root",index:L.nonNegativeIntegerString,liftFrom:vy});var oh=n(["string",sR.FileConstructor]),my=oh.rawOr(oh.array()),PO=n({meta:"an object representing parsed form data",domain:"object",index:{signature:"string",value:my}}),YO=P.module({root:["instanceof",FormData],value:oh,parsed:PO,parse:n({in:FormData,morphs:(T)=>{let R={};for(let[A,q]of T)if(A in R){let _=R[A];if(typeof _==="string"||_ instanceof sR.FileConstructor)R[A]=[_,q];else _.push(q)}else R[A]=q;return R},declaredOut:PO})});var wO=P.module({Int8:["instanceof",Int8Array],Uint8:["instanceof",Uint8Array],Uint8Clamped:["instanceof",Uint8ClampedArray],Int16:["instanceof",Int16Array],Uint16:["instanceof",Uint16Array],Int32:["instanceof",Int32Array],Uint32:["instanceof",Uint32Array],Float32:["instanceof",Float32Array],Float64:["instanceof",Float64Array],BigInt64:["instanceof",BigInt64Array],BigUint64:["instanceof",BigUint64Array]});var ly={Boolean:1,Number:1,String:1},Zq=P.module({...c({...Z_,...M_},(T,R)=>(T in ly)?[]:[T,["instanceof",R]]),Array:cO,TypedArray:wO,FormData:YO});var oy=n({domain:{domain:"number",meta:"a number representing a Unix timestamp"},divisor:{rule:1,meta:"an integer representing a Unix timestamp"},min:{rule:-8640000000000000,meta:"a Unix timestamp after -8640000000000000"},max:{rule:8640000000000000,meta:"a Unix timestamp before 8640000000000000"},meta:"an integer representing a safe Unix timestamp"}),dy=n({domain:"number",divisor:1}),Uq=P.module({root:L.number,integer:dy,epoch:oy,safe:n({domain:"number",min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,predicate:{predicate:(T)=>!Number.isNaN(T),meta:"a safe number"}}),NaN:["===",Number.NaN],Infinity:["===",Number.POSITIVE_INFINITY],NegativeInfinity:["===",Number.NEGATIVE_INFINITY]});var BT=(T,R)=>M9("intersection",{domain:"string",pattern:{rule:T.source,flags:T.flags,meta:R}}),VO=BT(iA,"a well-formed integer string"),eO=P.module({root:VO,parse:n({in:VO,morphs:(T,R)=>{let A=Number.parseInt(T);return Number.isSafeInteger(A)?A:R.error("an integer in the range Number.MIN_SAFE_INTEGER to Number.MAX_SAFE_INTEGER")},declaredOut:L.integer})}),ry=P.module({root:BT(/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,"base64-encoded"),url:BT(/^(?:[A-Za-z0-9_-]{4})*(?:[A-Za-z0-9_-]{2}(?:==|%3D%3D)?|[A-Za-z0-9_-]{3}(?:=|%3D)?)?$/,"base64url-encoded")}),vO=BT(/^[A-Z].*$/,"capitalized"),py=P.module({root:n({in:"string",morphs:(T)=>T.charAt(0).toUpperCase()+T.slice(1),declaredOut:vO}),preformatted:vO}),ny=(T)=>{let R=T.replace(/[- ]+/g,""),A=0,q,_,h=!1;for(let B=R.length-1;B>=0;B--){if(q=R.substring(B,B+1),_=Number.parseInt(q,10),h)if(_*=2,_>=10)A+=_%10+1;else A+=_;else A+=_;h=!h}return!!(A%10===0?R:!1)},sy=/^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14}|^(81[0-9]{14,17}))$/,ty=n({domain:"string",pattern:{meta:"a credit card number",rule:sy.source},predicate:{meta:"a credit card number",predicate:ny}});var ey=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;var T3=(T)=>!Number.isNaN(new Date(T).valueOf()),mO=n({domain:"string",predicate:{meta:"a parsable date",predicate:T3}}).assertHasKind("intersection"),lO=eO.root.internal.narrow((T,R)=>{let A=Number.parseInt(T),q=Uq.epoch(A);if(q instanceof gT)return R.errors.merge(q),!1;return!0}).withMeta({description:"an integer string representing a safe Unix timestamp"}).assertHasKind("intersection"),R3=P.module({root:lO,parse:n({in:lO,morphs:(T)=>new Date(T),declaredOut:L.Date})}),oO=BT(ey,"an ISO 8601 (YYYY-MM-DDTHH:mm:ss.sssZ) date").internal.assertHasKind("intersection"),A3=P.module({root:oO,parse:n({in:oO,morphs:(T)=>new Date(T),declaredOut:L.Date})}),q3=P.module({root:mO,parse:n({declaredIn:mO,in:"string",morphs:(T,R)=>{let A=new Date(T);if(Number.isNaN(A.valueOf()))return R.error("a parsable date");return A},declaredOut:L.Date}),iso:A3,epoch:R3}),_3=BT(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/,"an email address"),dO="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",SR=`(${dO}[.]){3}${dO}`,h3=new RegExp(`^${SR}$`),iT="(?:[0-9a-fA-F]{1,4})",B3=new RegExp(`^((?:${iT}:){7}(?:${iT}|:)|(?:${iT}:){6}(?:${SR}|:${iT}|:)|(?:${iT}:){5}(?::${SR}|(:${iT}){1,2}|:)|(?:${iT}:){4}(?:(:${iT}){0,1}:${SR}|(:${iT}){1,3}|:)|(?:${iT}:){3}(?:(:${iT}){0,2}:${SR}|(:${iT}){1,4}|:)|(?:${iT}:){2}(?:(:${iT}){0,3}:${SR}|(:${iT}){1,5}|:)|(?:${iT}:){1}(?:(:${iT}){0,4}:${SR}|(:${iT}){1,6}|:)|(?::((?::${iT}){0,5}:${SR}|(?::${iT}){1,7}|:)))(%[0-9a-zA-Z.]{1,})?$`),C3=P.module({root:["v4 | v6","@","an IP address"],v4:BT(h3,"an IPv4 address"),v6:BT(B3,"an IPv6 address")}),GA="a JSON string",TW=(T)=>{if(!(T instanceof SyntaxError))throw T;return`must be ${GA} (${T})`},D3=n({domain:"string",predicate:{meta:GA,predicate:(T,R)=>{try{return JSON.parse(T),!0}catch(A){return R.reject({code:"predicate",expected:GA,problem:TW(A)})}}}}),O3=(T,R)=>{if(T.length===0)return R.error({code:"predicate",expected:GA,actual:"empty"});try{return JSON.parse(T)}catch(A){return R.error({code:"predicate",expected:GA,problem:TW(A)})}},W3=P.module({root:D3,parse:n({in:"string",morphs:O3,declaredOut:L.json})}),rO=BT(/^[a-z]*$/,"only lowercase letters"),H3=P.module({root:n({in:"string",morphs:(T)=>T.toLowerCase(),declaredOut:rO}),preformatted:rO}),RW=["NFC","NFD","NFKC","NFKD"],gA=c(RW,(T,R)=>[R,n({domain:"string",predicate:(A)=>A.normalize(R)===A,meta:`${R}-normalized unicode`})]),Mq=c(RW,(T,R)=>[R,n({in:"string",morphs:(A)=>A.normalize(R),declaredOut:gA[R]})]),J3=P.module({root:Mq.NFC,preformatted:gA.NFC}),i3=P.module({root:Mq.NFD,preformatted:gA.NFD}),y3=P.module({root:Mq.NFKC,preformatted:gA.NFKC}),$3=P.module({root:Mq.NFKD,preformatted:gA.NFKD}),I3=P.module({root:"NFC",NFC:J3,NFD:i3,NFKC:y3,NFKD:$3}),pO=BT(U8,"a well-formed numeric string"),E3=P.module({root:pO,parse:n({in:pO,morphs:(T)=>Number.parseFloat(T),declaredOut:L.number})}),F3=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,j3=BT(F3,"a semantic version (see https://semver.org/)"),nO=BT(/^\S.*\S$|^\S?$/,"trimmed"),b3=P.module({root:n({in:"string",morphs:(T)=>T.trim(),declaredOut:nO}),preformatted:nO}),sO=BT(/^[A-Z]*$/,"only uppercase letters"),u3=P.module({root:n({in:"string",morphs:(T)=>T.toUpperCase(),declaredOut:sO}),preformatted:sO}),Q3=(T)=>{if(URL.canParse)return URL.canParse(T);try{return new URL(T),!0}catch{return!1}},tO=n({domain:"string",predicate:{meta:"a URL string",predicate:Q3}}),N3=P.module({root:tO,parse:n({declaredIn:tO,in:"string",morphs:(T,R)=>{try{return new URL(T)}catch{return R.error("a URL string")}},declaredOut:n(URL)})}),k3=P.module({root:["versioned | nil | max","@","a UUID"],"#nil":"'00000000-0000-0000-0000-000000000000'","#max":"'ffffffff-ffff-ffff-ffff-ffffffffffff'","#versioned":/[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,v1:BT(/^[0-9a-f]{8}-[0-9a-f]{4}-1[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv1"),v2:BT(/^[0-9a-f]{8}-[0-9a-f]{4}-2[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv2"),v3:BT(/^[0-9a-f]{8}-[0-9a-f]{4}-3[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv3"),v4:BT(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv4"),v5:BT(/^[0-9a-f]{8}-[0-9a-f]{4}-5[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv5"),v6:BT(/^[0-9a-f]{8}-[0-9a-f]{4}-6[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv6"),v7:BT(/^[0-9a-f]{8}-[0-9a-f]{4}-7[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv7"),v8:BT(/^[0-9a-f]{8}-[0-9a-f]{4}-8[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv8")}),AW=P.module({root:L.string,alpha:BT(/^[A-Za-z]*$/,"only letters"),alphanumeric:BT(/^[A-Za-z\d]*$/,"only letters and digits 0-9"),base64:ry,capitalize:py,creditCard:ty,date:q3,digits:BT(/^\d*$/,"only digits 0-9"),email:_3,integer:eO,ip:C3,json:W3,lower:H3,normalize:I3,numeric:E3,semver:j3,trim:b3,upper:u3,url:N3,uuid:k3});var dh=P.module({bigint:L.bigint,boolean:L.boolean,false:L.false,never:L.never,null:L.null,number:L.number,object:L.object,string:L.string,symbol:L.symbol,true:L.true,unknown:L.unknown,undefined:L.undefined}),qW=P.module({root:L.unknown,any:L.unknown}),a3=P.module({root:L.json,stringify:M9("morph",{in:L.json,morphs:(T)=>JSON.stringify(T),declaredOut:L.string})}),_W=P.module({root:L.object,json:a3});class hW extends jT{description="a generic type that instantiates an object from a single index signature and corresponding value type"}var K3=PT(["K",L.key],"V")((T)=>({domain:"object",index:{signature:T.K,value:T.V}}),hW);class BW extends jT{}var G3=PT(["T",L.object],["K",L.key])((T)=>T.T.pick(T.K),BW);class CW extends jT{}var g3=PT(["T",L.object],["K",L.key])((T)=>T.T.omit(T.K),CW);class DW extends jT{}var L3=PT(["T",L.object])((T)=>T.T.partial(),DW);class OW extends jT{}var x3=PT(["T",L.object])((T)=>T.T.required(),OW);class WW extends jT{}var f3=PT("T","U")((T)=>T.T.exclude(T.U),WW);class HW extends jT{}var z3=PT("T","U")((T)=>T.T.extract(T.U),HW),rh=P.module({Exclude:f3,Extract:z3,Omit:g3,Partial:L3,Pick:G3,Record:K3,Required:x3});zq.typeAttachments={...dh,Key:lh.Key,Record:rh.Record,Array:Zq.Array.root,Date:Zq.Date};var _9=mh({...dh,...rh,...Zq,...lh,string:AW,number:Uq,object:_W,unknown:qW},{prereducedAliases:!0,ambient:!0}),X3=_9.export(),Sq=_9.type,Z3=_9.generic,_K=_9.schema,U3=_9.define,M3=_9.declare;var S3=Sq({$schema:"string = 'https://getjustd.com/schema.json'",ui:"string",utils:"string",gray:"string = 'zinc'",css:"string","alias?":"string",language:"'typescript' | 'javascript' = 'typescript'"});class JW{filePath;constructor(T){this.filePath=P9.resolve(process.cwd(),T.filePath)}parseConfig(T){let R=S3(T);if(R instanceof Sq.errors)throw new Error(`Failed to parse config: ${R.message}`);return R}async doesConfigExist(){try{return await jR.access(this.filePath),!0}catch(T){return!1}}async loadConfig(){let T=await jR.readFile(this.filePath,"utf-8");return this.parseConfig(JSON.parse(T))}async updateConfig(T){try{let A={...await this.loadConfig(),...T},q=this.parseConfig(A);return await jR.writeFile(this.filePath,JSON.stringify(q,null,2),"utf-8"),A}catch(R){throw new Error(`Failed to update config: ${R}`)}}async createConfig(T){try{let R=this.parseConfig(T),A=P9.dirname(this.filePath);return await jR.mkdir(A,{recursive:!0}),await jR.writeFile(this.filePath,JSON.stringify(R,null,2),"utf-8"),R}catch(R){throw new Error(`Failed to create config: ${R}`)}}}var yT=new JW({filePath:"justd.json"});function h9(T,R){return P9.join(T.ui,`${R}.${T.language==="typescript"?"tsx":"jsx"}`)}import O9,{join as c3,dirname as NK,resolve as kK}from"node:path";import cR from"node:process";import DH from"readline";import P3 from"events";import{createRequire as Y3}from"node:module";import{spawn as w3}from"child_process";import V3,{normalize as v3,delimiter as iW,resolve as m3,dirname as l3}from"path";import{cwd as o3}from"process";import{PassThrough as d3}from"stream";import r3,{promises as ZK,existsSync as UK}from"node:fs";import p3 from"os";import n3 from"tty";import s3 from"node:os";import OH from"fs";import WH from"fs/promises";import t3 from"node:fs/promises";function SB(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}var ph,yW;function e3(){if(yW)return ph;yW=1;let{hasOwnProperty:T}=Object.prototype,R=(C,O={})=>{if(typeof O==="string")O={section:O};O.align=O.align===!0,O.newline=O.newline===!0,O.sort=O.sort===!0,O.whitespace=O.whitespace===!0||O.align===!0,O.platform=O.platform||typeof process!=="undefined"&&process.platform,O.bracketedArray=O.bracketedArray!==!1;let D=O.platform==="win32"?`\r
`:`
`,W=O.whitespace?" = ":"=",H=[],J=O.sort?Object.keys(C).sort():Object.keys(C),i=0;if(O.align)i=h(J.filter((E)=>C[E]===null||Array.isArray(C[E])||typeof C[E]!=="object").map((E)=>Array.isArray(C[E])?`${E}[]`:E).concat([""]).reduce((E,j)=>h(E).length>=h(j).length?E:j)).length;let y="",$=O.bracketedArray?"[]":"";for(let E of J){let j=C[E];if(j&&Array.isArray(j))for(let b of j)y+=h(`${E}${$}`).padEnd(i," ")+W+h(b)+D;else if(j&&typeof j==="object")H.push(E);else y+=h(E).padEnd(i," ")+W+h(j)+D}if(O.section&&y.length)y="["+h(O.section)+"]"+(O.newline?D+D:D)+y;for(let E of H){let j=A(E,".").join("\\."),b=(O.section?O.section+".":"")+j,Q=R(C[E],{...O,section:b});if(y.length&&Q.length)y+=D;y+=Q}return y};function A(C,O){var D=0,W=0,H=0,J=[];do if(H=C.indexOf(O,D),H!==-1){if(D=H+O.length,H>0&&C[H-1]==="\\")continue;J.push(C.slice(W,H)),W=H+O.length}while(H!==-1);return J.push(C.slice(W)),J}let q=(C,O={})=>{O.bracketedArray=O.bracketedArray!==!1;let D=Object.create(null),W=D,H=null,J=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,i=C.split(/[\r\n]+/g),y={};for(let E of i){if(!E||E.match(/^\s*[;#]/)||E.match(/^\s*$/))continue;let j=E.match(J);if(!j)continue;if(j[1]!==void 0){if(H=B(j[1]),H==="__proto__"){W=Object.create(null);continue}W=D[H]=D[H]||Object.create(null);continue}let b=B(j[2]),Q;if(O.bracketedArray)Q=b.length>2&&b.slice(-2)==="[]";else y[b]=(y?.[b]||0)+1,Q=y[b]>1;let I=Q&&b.endsWith("[]")?b.slice(0,-2):b;if(I==="__proto__")continue;let N=j[3]?B(j[4]):!0,g=N==="true"||N==="false"||N==="null"?JSON.parse(N):N;if(Q){if(!T.call(W,I))W[I]=[];else if(!Array.isArray(W[I]))W[I]=[W[I]]}if(Array.isArray(W[I]))W[I].push(g);else W[I]=g}let $=[];for(let E of Object.keys(D)){if(!T.call(D,E)||typeof D[E]!=="object"||Array.isArray(D[E]))continue;let j=A(E,".");W=D;let b=j.pop(),Q=b.replace(/\\\./g,".");for(let I of j){if(I==="__proto__")continue;if(!T.call(W,I)||typeof W[I]!=="object")W[I]=Object.create(null);W=W[I]}if(W===D&&Q===b)continue;W[Q]=D[E],$.push(E)}for(let E of $)delete D[E];return D},_=(C)=>{return C.startsWith('"')&&C.endsWith('"')||C.startsWith("'")&&C.endsWith("'")},h=(C)=>{if(typeof C!=="string"||C.match(/[=\r\n]/)||C.match(/^\[/)||C.length>1&&_(C)||C!==C.trim())return JSON.stringify(C);return C.split(";").join("\\;").split("#").join("\\#")},B=(C)=>{if(C=(C||"").trim(),_(C)){if(C.charAt(0)==="'")C=C.slice(1,-1);try{C=JSON.parse(C)}catch{}}else{let O=!1,D="";for(let W=0,H=C.length;W<H;W++){let J=C.charAt(W);if(O){if("\\;#".indexOf(J)!==-1)D+=J;else D+="\\"+J;O=!1}else if(";#".indexOf(J)!==-1)break;else if(J==="\\")O=!0;else D+=J}if(O)D+="\\";return D.trim()}return C};return ph={parse:q,decode:q,stringify:R,encode:R,safe:h,unsafe:B},ph}var VK=e3();var nh={},sh,$W;function oT(){if($W)return sh;$W=1;let T,R,A,q,_=!0;if(typeof process!=="undefined")({FORCE_COLOR:T,NODE_DISABLE_COLORS:R,NO_COLOR:A,TERM:q}=process.env||{}),_=process.stdout&&process.stdout.isTTY;let h={enabled:!R&&A==null&&q!=="dumb"&&(T!=null&&T!=="0"||_),reset:O(0,0),bold:O(1,22),dim:O(2,22),italic:O(3,23),underline:O(4,24),inverse:O(7,27),hidden:O(8,28),strikethrough:O(9,29),black:O(30,39),red:O(31,39),green:O(32,39),yellow:O(33,39),blue:O(34,39),magenta:O(35,39),cyan:O(36,39),white:O(37,39),gray:O(90,39),grey:O(90,39),bgBlack:O(40,49),bgRed:O(41,49),bgGreen:O(42,49),bgYellow:O(43,49),bgBlue:O(44,49),bgMagenta:O(45,49),bgCyan:O(46,49),bgWhite:O(47,49)};function B(D,W){let H=0,J,i="",y="";for(;H<D.length;H++)if(J=D[H],i+=J.open,y+=J.close,~W.indexOf(J.close))W=W.replace(J.rgx,J.close+J.open);return i+W+y}function C(D,W){let H={has:D,keys:W};return H.reset=h.reset.bind(H),H.bold=h.bold.bind(H),H.dim=h.dim.bind(H),H.italic=h.italic.bind(H),H.underline=h.underline.bind(H),H.inverse=h.inverse.bind(H),H.hidden=h.hidden.bind(H),H.strikethrough=h.strikethrough.bind(H),H.black=h.black.bind(H),H.red=h.red.bind(H),H.green=h.green.bind(H),H.yellow=h.yellow.bind(H),H.blue=h.blue.bind(H),H.magenta=h.magenta.bind(H),H.cyan=h.cyan.bind(H),H.white=h.white.bind(H),H.gray=h.gray.bind(H),H.grey=h.grey.bind(H),H.bgBlack=h.bgBlack.bind(H),H.bgRed=h.bgRed.bind(H),H.bgGreen=h.bgGreen.bind(H),H.bgYellow=h.bgYellow.bind(H),H.bgBlue=h.bgBlue.bind(H),H.bgMagenta=h.bgMagenta.bind(H),H.bgCyan=h.bgCyan.bind(H),H.bgWhite=h.bgWhite.bind(H),H}function O(D,W){let H={open:`\x1B[${D}m`,close:`\x1B[${W}m`,rgx:new RegExp(`\\x1b\\[${W}m`,"g")};return function(J){if(this!==void 0&&this.has!==void 0)return!!~this.has.indexOf(D)||(this.has.push(D),this.keys.push(H)),J===void 0?this:h.enabled?B(this.keys,J+""):J+"";return J===void 0?C([D],[H]):h.enabled?B([H],J+""):J+""}}return sh=h,sh}var th,IW;function T0(){if(IW)return th;return IW=1,th=(T,R)=>{if(T.meta&&T.name!=="escape")return;if(T.ctrl){if(T.name==="a")return"first";if(T.name==="c")return"abort";if(T.name==="d")return"abort";if(T.name==="e")return"last";if(T.name==="g")return"reset";if(T.name==="n")return"down";if(T.name==="p")return"up";return}if(R){if(T.name==="j")return"down";if(T.name==="k")return"up"}if(T.name==="return")return"submit";if(T.name==="enter")return"submit";if(T.name==="backspace")return"delete";if(T.name==="delete")return"deleteForward";if(T.name==="abort")return"abort";if(T.name==="escape")return"exit";if(T.name==="tab")return"next";if(T.name==="pagedown")return"nextPage";if(T.name==="pageup")return"prevPage";if(T.name==="home")return"home";if(T.name==="end")return"end";if(T.name==="up")return"up";if(T.name==="down")return"down";if(T.name==="right")return"right";if(T.name==="left")return"left";return!1},th}var eh,EW;function cB(){if(EW)return eh;return EW=1,eh=(T)=>{let R=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),A=new RegExp(R,"g");return typeof T==="string"?T.replace(A,""):T},eh}var TB,FW;function dT(){if(FW)return TB;FW=1;let T="\x1B",R=`${T}[`,A="\x07",q={to(B,C){if(!C)return`${R}${B+1}G`;return`${R}${C+1};${B+1}H`},move(B,C){let O="";if(B<0)O+=`${R}${-B}D`;else if(B>0)O+=`${R}${B}C`;if(C<0)O+=`${R}${-C}A`;else if(C>0)O+=`${R}${C}B`;return O},up:(B=1)=>`${R}${B}A`,down:(B=1)=>`${R}${B}B`,forward:(B=1)=>`${R}${B}C`,backward:(B=1)=>`${R}${B}D`,nextLine:(B=1)=>`${R}E`.repeat(B),prevLine:(B=1)=>`${R}F`.repeat(B),left:`${R}G`,hide:`${R}?25l`,show:`${R}?25h`,save:`${T}7`,restore:`${T}8`},_={up:(B=1)=>`${R}S`.repeat(B),down:(B=1)=>`${R}T`.repeat(B)},h={screen:`${R}2J`,up:(B=1)=>`${R}1J`.repeat(B),down:(B=1)=>`${R}J`.repeat(B),line:`${R}2K`,lineEnd:`${R}K`,lineStart:`${R}1K`,lines(B){let C="";for(let O=0;O<B;O++)C+=this.line+(O<B-1?q.up():"");if(B)C+=q.left;return C}};return TB={cursor:q,scroll:_,erase:h,beep:A},TB}var RB,jW;function R0(){if(jW)return RB;jW=1;let T=cB(),{erase:R,cursor:A}=dT(),q=(_)=>[...T(_)].length;return RB=function(_,h){if(!h)return R.line+A.to(0);let B=0,C=_.split(/\r?\n/);for(let O of C)B+=1+Math.floor(Math.max(q(O)-1,0)/h);return R.lines(B)},RB}var AB,bW;function HH(){if(bW)return AB;bW=1;let T={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""},R={arrowUp:T.arrowUp,arrowDown:T.arrowDown,arrowLeft:T.arrowLeft,arrowRight:T.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"",ellipsis:"...",pointerSmall:"",line:"",pointer:">"};return AB=process.platform==="win32"?R:T,AB}var qB,uW;function A0(){if(uW)return qB;uW=1;let T=oT(),R=HH(),A=Object.freeze({password:{scale:1,render:(O)=>"*".repeat(O.length)},emoji:{scale:2,render:(O)=>"\uD83D\uDE03".repeat(O.length)},invisible:{scale:0,render:(O)=>""},default:{scale:1,render:(O)=>`${O}`}}),q=(O)=>A[O]||A.default,_=Object.freeze({aborted:T.red(R.cross),done:T.green(R.tick),exited:T.yellow(R.cross),default:T.cyan("?")});return qB={styles:A,render:q,symbols:_,symbol:(O,D,W)=>D?_.aborted:W?_.exited:O?_.done:_.default,delimiter:(O)=>T.gray(O?R.ellipsis:R.pointerSmall),item:(O,D)=>T.gray(O?D?R.pointerSmall:"+":R.line)},qB}var _B,QW;function q0(){if(QW)return _B;QW=1;let T=cB();return _B=function(R,A){let q=String(T(R)||"").split(/\r?\n/);if(!A)return q.length;return q.map((_)=>Math.ceil(_.length/A)).reduce((_,h)=>_+h)},_B}var hB,NW;function _0(){if(NW)return hB;return NW=1,hB=(T,R={})=>{let A=Number.isSafeInteger(parseInt(R.margin))?new Array(parseInt(R.margin)).fill(" ").join(""):R.margin||"",q=R.width;return(T||"").split(/\r?\n/g).map((_)=>_.split(/\s+/g).reduce((h,B)=>{if(B.length+A.length>=q||h[h.length-1].length+B.length+1<q)h[h.length-1]+=` ${B}`;else h.push(`${A}${B}`);return h},[A]).join(`
`)).join(`
`)},hB}var BB,kW;function h0(){if(kW)return BB;return kW=1,BB=(T,R,A)=>{A=A||R;let q=Math.min(R-A,T-Math.floor(A/2));if(q<0)q=0;let _=Math.min(q+A,R);return{startIndex:q,endIndex:_}},BB}var CB,aW;function eT(){if(aW)return CB;return aW=1,CB={action:T0(),clear:R0(),style:A0(),strip:cB(),figures:HH(),lines:q0(),wrap:_0(),entriesToDisplay:h0()},CB}var DB,KW;function PR(){if(KW)return DB;KW=1;let T=DH,{action:R}=eT(),A=P3,{beep:q,cursor:_}=dT(),h=oT();class B extends A{constructor(C={}){super();this.firstRender=!0,this.in=C.stdin||process.stdin,this.out=C.stdout||process.stdout,this.onRender=(C.onRender||(()=>{return})).bind(this);let O=T.createInterface({input:this.in,escapeCodeTimeout:50});if(T.emitKeypressEvents(this.in,O),this.in.isTTY)this.in.setRawMode(!0);let D=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,W=(H,J)=>{let i=R(J,D);if(i===!1)this._&&this._(H,J);else if(typeof this[i]==="function")this[i](J);else this.bell()};this.close=()=>{if(this.out.write(_.show),this.in.removeListener("keypress",W),this.in.isTTY)this.in.setRawMode(!1);O.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",W)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(q)}render(){if(this.onRender(h),this.firstRender)this.firstRender=!1}}return DB=B,DB}var OB,GW;function B0(){if(GW)return OB;GW=1;let T=oT(),R=PR(),{erase:A,cursor:q}=dT(),{style:_,clear:h,lines:B,figures:C}=eT();class O extends R{constructor(D={}){super(D);this.transform=_.render(D.style),this.scale=this.transform.scale,this.msg=D.message,this.initial=D.initial||"",this.validator=D.validate||(()=>!0),this.value="",this.errorMsg=D.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=h("",this.out.columns),this.render()}set value(D){if(!D&&this.initial)this.placeholder=!0,this.rendered=T.gray(this.transform.render(this.initial));else this.placeholder=!1,this.rendered=this.transform.render(D);this._value=D,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let D=await this.validator(this.value);if(typeof D==="string")this.errorMsg=D,D=!1;this.error=!D}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(D){if(this.placeholder)return;this.cursor=this.cursor+D,this.cursorOffset+=D}_(D,W){let H=this.value.slice(0,this.cursor),J=this.value.slice(this.cursor);this.value=`${H}${D}${J}`,this.red=!1,this.cursor=this.placeholder?0:H.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let D=this.value.slice(0,this.cursor-1),W=this.value.slice(this.cursor);if(this.value=`${D}${W}`,this.red=!1,this.isCursorAtStart())this.cursorOffset=0;else this.cursorOffset++,this.moveCursor(-1);this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let D=this.value.slice(0,this.cursor),W=this.value.slice(this.cursor+1);if(this.value=`${D}${W}`,this.red=!1,this.isCursorAtEnd())this.cursorOffset=0;else this.cursorOffset++;this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(q.down(B(this.outputError,this.out.columns)-1)+h(this.outputError,this.out.columns));this.out.write(h(this.outputText,this.out.columns))}if(super.render(),this.outputError="",this.outputText=[_.symbol(this.done,this.aborted),T.bold(this.msg),_.delimiter(this.done),this.red?T.red(this.rendered):this.rendered].join(" "),this.error)this.outputError+=this.errorMsg.split(`
`).reduce((D,W,H)=>D+`
${H?" ":C.pointerSmall} ${T.red().italic(W)}`,"");this.out.write(A.line+q.to(0)+this.outputText+q.save+this.outputError+q.restore+q.move(this.cursorOffset,0))}}return OB=O,OB}var WB,gW;function C0(){if(gW)return WB;gW=1;let T=oT(),R=PR(),{style:A,clear:q,figures:_,wrap:h,entriesToDisplay:B}=eT(),{cursor:C}=dT();class O extends R{constructor(D={}){super(D);this.msg=D.message,this.hint=D.hint||"- Use arrow-keys. Return to submit.",this.warn=D.warn||"- This option is disabled",this.cursor=D.initial||0,this.choices=D.choices.map((W,H)=>{if(typeof W==="string")W={title:W,value:H};return{title:W&&(W.title||W.value||W),value:W&&(W.value===void 0?H:W.value),description:W&&W.description,selected:W&&W.selected,disabled:W&&W.disabled}}),this.optionsPerPage=D.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=q("",this.out.columns),this.render()}moveCursor(D){this.cursor=D,this.value=this.choices[D].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){if(!this.selection.disabled)this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close();else this.bell()}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){if(this.cursor===0)this.moveCursor(this.choices.length-1);else this.moveCursor(this.cursor-1);this.render()}down(){if(this.cursor===this.choices.length-1)this.moveCursor(0);else this.moveCursor(this.cursor+1);this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(D,W){if(D===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(C.hide);else this.out.write(q(this.outputText,this.out.columns));super.render();let{startIndex:D,endIndex:W}=B(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[A.symbol(this.done,this.aborted),T.bold(this.msg),A.delimiter(!1),this.done?this.selection.title:this.selection.disabled?T.yellow(this.warn):T.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let H=D;H<W;H++){let J,i,y="",$=this.choices[H];if(H===D&&D>0)i=_.arrowUp;else if(H===W-1&&W<this.choices.length)i=_.arrowDown;else i=" ";if($.disabled)J=this.cursor===H?T.gray().underline($.title):T.strikethrough().gray($.title),i=(this.cursor===H?T.bold().gray(_.pointer)+" ":"  ")+i;else if(J=this.cursor===H?T.cyan().underline($.title):$.title,i=(this.cursor===H?T.cyan(_.pointer)+" ":"  ")+i,$.description&&this.cursor===H){if(y=` - ${$.description}`,i.length+J.length+y.length>=this.out.columns||$.description.split(/\r?\n/).length>1)y=`
`+h($.description,{margin:3,width:this.out.columns})}this.outputText+=`${i} ${J}${T.gray(y)}
`}}this.out.write(this.outputText)}}return WB=O,WB}var HB,LW;function D0(){if(LW)return HB;LW=1;let T=oT(),R=PR(),{style:A,clear:q}=eT(),{cursor:_,erase:h}=dT();class B extends R{constructor(C={}){super(C);this.msg=C.message,this.value=!!C.initial,this.active=C.active||"on",this.inactive=C.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(C,O){if(C===" ")this.value=!this.value;else if(C==="1")this.value=!0;else if(C==="0")this.value=!1;else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(_.hide);else this.out.write(q(this.outputText,this.out.columns));super.render(),this.outputText=[A.symbol(this.done,this.aborted),T.bold(this.msg),A.delimiter(this.done),this.value?this.inactive:T.cyan().underline(this.inactive),T.gray("/"),this.value?T.cyan().underline(this.active):this.active].join(" "),this.out.write(h.line+_.to(0)+this.outputText)}}return HB=B,HB}var JB,xW;function bR(){if(xW)return JB;xW=1;class T{constructor({token:R,date:A,parts:q,locales:_}){this.token=R,this.date=A||new Date,this.parts=q||[this],this.locales=_||{}}up(){}down(){}next(){let R=this.parts.indexOf(this);return this.parts.find((A,q)=>q>R&&A instanceof T)}setTo(R){}prev(){let R=[].concat(this.parts).reverse(),A=R.indexOf(this);return R.find((q,_)=>_>A&&q instanceof T)}toString(){return String(this.date)}}return JB=T,JB}var iB,fW;function O0(){if(fW)return iB;fW=1;let T=bR();class R extends T{constructor(A={}){super(A)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let A=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?A.toUpperCase():A}}return iB=R,iB}var yB,zW;function W0(){if(zW)return yB;zW=1;let T=bR(),R=(q)=>{return q=q%10,q===1?"st":q===2?"nd":q===3?"rd":"th"};class A extends T{constructor(q={}){super(q)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(q){this.date.setDate(parseInt(q.substr(-2)))}toString(){let q=this.date.getDate(),_=this.date.getDay();return this.token==="DD"?String(q).padStart(2,"0"):this.token==="Do"?q+R(q):this.token==="d"?_+1:this.token==="ddd"?this.locales.weekdaysShort[_]:this.token==="dddd"?this.locales.weekdays[_]:q}}return yB=A,yB}var $B,XW;function H0(){if(XW)return $B;XW=1;let T=bR();class R extends T{constructor(A={}){super(A)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(A){this.date.setHours(parseInt(A.substr(-2)))}toString(){let A=this.date.getHours();if(/h/.test(this.token))A=A%12||12;return this.token.length>1?String(A).padStart(2,"0"):A}}return $B=R,$B}var IB,ZW;function J0(){if(ZW)return IB;ZW=1;let T=bR();class R extends T{constructor(A={}){super(A)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(A){this.date.setMilliseconds(parseInt(A.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return IB=R,IB}var EB,UW;function i0(){if(UW)return EB;UW=1;let T=bR();class R extends T{constructor(A={}){super(A)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(A){this.date.setMinutes(parseInt(A.substr(-2)))}toString(){let A=this.date.getMinutes();return this.token.length>1?String(A).padStart(2,"0"):A}}return EB=R,EB}var FB,MW;function y0(){if(MW)return FB;MW=1;let T=bR();class R extends T{constructor(A={}){super(A)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(A){A=parseInt(A.substr(-2))-1,this.date.setMonth(A<0?0:A)}toString(){let A=this.date.getMonth(),q=this.token.length;return q===2?String(A+1).padStart(2,"0"):q===3?this.locales.monthsShort[A]:q===4?this.locales.months[A]:String(A+1)}}return FB=R,FB}var jB,SW;function $0(){if(SW)return jB;SW=1;let T=bR();class R extends T{constructor(A={}){super(A)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(A){this.date.setSeconds(parseInt(A.substr(-2)))}toString(){let A=this.date.getSeconds();return this.token.length>1?String(A).padStart(2,"0"):A}}return jB=R,jB}var bB,cW;function I0(){if(cW)return bB;cW=1;let T=bR();class R extends T{constructor(A={}){super(A)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(A){this.date.setFullYear(A.substr(-4))}toString(){let A=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?A.substr(-2):A}}return bB=R,bB}var uB,PW;function E0(){if(PW)return uB;return PW=1,uB={DatePart:bR(),Meridiem:O0(),Day:W0(),Hours:H0(),Milliseconds:J0(),Minutes:i0(),Month:y0(),Seconds:$0(),Year:I0()},uB}var QB,YW;function F0(){if(YW)return QB;YW=1;let T=oT(),R=PR(),{style:A,clear:q,figures:_}=eT(),{erase:h,cursor:B}=dT(),{DatePart:C,Meridiem:O,Day:D,Hours:W,Milliseconds:H,Minutes:J,Month:i,Seconds:y,Year:$}=E0(),E=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,j={1:({token:I})=>I.replace(/\\(.)/g,"$1"),2:(I)=>new D(I),3:(I)=>new i(I),4:(I)=>new $(I),5:(I)=>new O(I),6:(I)=>new W(I),7:(I)=>new J(I),8:(I)=>new y(I),9:(I)=>new H(I)},b={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class Q extends R{constructor(I={}){super(I);this.msg=I.message,this.cursor=0,this.typed="",this.locales=Object.assign(b,I.locales),this._date=I.initial||new Date,this.errorMsg=I.error||"Please Enter A Valid Value",this.validator=I.validate||(()=>!0),this.mask=I.mask||"YYYY-MM-DD HH:mm:ss",this.clear=q("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(I){if(I)this._date.setTime(I.getTime())}set mask(I){let N;this.parts=[];while(N=E.exec(I)){let z=N.shift(),M=N.findIndex((HT)=>HT!=null);this.parts.push(M in j?j[M]({token:N[M]||z,date:this.date,parts:this.parts,locales:this.locales}):N[M]||z)}let g=this.parts.reduce((z,M)=>{if(typeof M==="string"&&typeof z[z.length-1]==="string")z[z.length-1]+=M;else z.push(M);return z},[]);this.parts.splice(0),this.parts.push(...g),this.reset()}moveCursor(I){this.typed="",this.cursor=I,this.fire()}reset(){this.moveCursor(this.parts.findIndex((I)=>I instanceof C)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let I=await this.validator(this.value);if(typeof I==="string")this.errorMsg=I,I=!1;this.error=!I}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let I=this.parts[this.cursor].prev();if(I==null)return this.bell();this.moveCursor(this.parts.indexOf(I)),this.render()}right(){let I=this.parts[this.cursor].next();if(I==null)return this.bell();this.moveCursor(this.parts.indexOf(I)),this.render()}next(){let I=this.parts[this.cursor].next();this.moveCursor(I?this.parts.indexOf(I):this.parts.findIndex((N)=>N instanceof C)),this.render()}_(I){if(/\d/.test(I))this.typed+=I,this.parts[this.cursor].setTo(this.typed),this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(B.hide);else this.out.write(q(this.outputText,this.out.columns));if(super.render(),this.outputText=[A.symbol(this.done,this.aborted),T.bold(this.msg),A.delimiter(!1),this.parts.reduce((I,N,g)=>I.concat(g===this.cursor&&!this.done?T.cyan().underline(N.toString()):N),[]).join("")].join(" "),this.error)this.outputText+=this.errorMsg.split(`
`).reduce((I,N,g)=>I+`
${g?" ":_.pointerSmall} ${T.red().italic(N)}`,"");this.out.write(h.line+B.to(0)+this.outputText)}}return QB=Q,QB}var NB,wW;function j0(){if(wW)return NB;wW=1;let T=oT(),R=PR(),{cursor:A,erase:q}=dT(),{style:_,figures:h,clear:B,lines:C}=eT(),O=/[0-9]/,D=(J)=>J!==void 0,W=(J,i)=>{let y=Math.pow(10,i);return Math.round(J*y)/y};class H extends R{constructor(J={}){super(J);this.transform=_.render(J.style),this.msg=J.message,this.initial=D(J.initial)?J.initial:"",this.float=!!J.float,this.round=J.round||2,this.inc=J.increment||1,this.min=D(J.min)?J.min:-1/0,this.max=D(J.max)?J.max:1/0,this.errorMsg=J.error||"Please Enter A Valid Value",this.validator=J.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(J){if(!J&&J!==0)this.placeholder=!0,this.rendered=T.gray(this.transform.render(`${this.initial}`)),this._value="";else this.placeholder=!1,this.rendered=this.transform.render(`${W(J,this.round)}`),this._value=W(J,this.round);this.fire()}get value(){return this._value}parse(J){return this.float?parseFloat(J):parseInt(J)}valid(J){return J==="-"||J==="."&&this.float||O.test(J)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let J=this.value;this.value=J!==""?J:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let J=await this.validator(this.value);if(typeof J==="string")this.errorMsg=J,J=!1;this.error=!J}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let J=this.value;this.value=J!==""?J:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value==="")this.value=this.min-this.inc;if(this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value==="")this.value=this.min+this.inc;if(this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let J=this.value.toString();if(J.length===0)return this.bell();if(this.value=this.parse(J=J.slice(0,-1))||"",this.value!==""&&this.value<this.min)this.value=this.min;this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(J,i){if(!this.valid(J))return this.bell();let y=Date.now();if(y-this.lastHit>1000)this.typed="";if(this.typed+=J,this.lastHit=y,this.color="cyan",J===".")return this.fire();if(this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire(),this.render()}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(A.down(C(this.outputError,this.out.columns)-1)+B(this.outputError,this.out.columns));this.out.write(B(this.outputText,this.out.columns))}if(super.render(),this.outputError="",this.outputText=[_.symbol(this.done,this.aborted),T.bold(this.msg),_.delimiter(this.done),!this.done||!this.done&&!this.placeholder?T[this.color]().underline(this.rendered):this.rendered].join(" "),this.error)this.outputError+=this.errorMsg.split(`
`).reduce((J,i,y)=>J+`
${y?" ":h.pointerSmall} ${T.red().italic(i)}`,"");this.out.write(q.line+A.to(0)+this.outputText+A.save+this.outputError+A.restore)}}return NB=H,NB}var kB,VW;function JH(){if(VW)return kB;VW=1;let T=oT(),{cursor:R}=dT(),A=PR(),{clear:q,figures:_,style:h,wrap:B,entriesToDisplay:C}=eT();class O extends A{constructor(D={}){super(D);if(this.msg=D.message,this.cursor=D.cursor||0,this.scrollIndex=D.cursor||0,this.hint=D.hint||"",this.warn=D.warn||"- This option is disabled -",this.minSelected=D.min,this.showMinError=!1,this.maxChoices=D.max,this.instructions=D.instructions,this.optionsPerPage=D.optionsPerPage||10,this.value=D.choices.map((W,H)=>{if(typeof W==="string")W={title:W,value:H};return{title:W&&(W.title||W.value||W),description:W&&W.description,value:W&&(W.value===void 0?H:W.value),selected:W&&W.selected,disabled:W&&W.disabled}}),this.clear=q("",this.out.columns),!D.overrideRender)this.render()}reset(){this.value.map((D)=>!D.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((D)=>D.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let D=this.value.filter((W)=>W.selected);if(this.minSelected&&D.length<this.minSelected)this.showMinError=!0,this.render();else this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){if(this.cursor===0)this.cursor=this.value.length-1;else this.cursor--;this.render()}down(){if(this.cursor===this.value.length-1)this.cursor=0;else this.cursor++;this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((D)=>D.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let D=this.value[this.cursor];if(D.selected)D.selected=!1,this.render();else if(D.disabled||this.value.filter((W)=>W.selected).length>=this.maxChoices)return this.bell();else D.selected=!0,this.render()}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let D=!this.value[this.cursor].selected;this.value.filter((W)=>!W.disabled).forEach((W)=>W.selected=D),this.render()}_(D,W){if(D===" ")this.handleSpaceToggle();else if(D==="a")this.toggleAll();else return this.bell()}renderInstructions(){if(this.instructions===void 0||this.instructions){if(typeof this.instructions==="string")return this.instructions;return`
Instructions:
    ${_.arrowUp}/${_.arrowDown}: Highlight option
    ${_.arrowLeft}/${_.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer"}return""}renderOption(D,W,H,J){let i=(W.selected?T.green(_.radioOn):_.radioOff)+" "+J+" ",y,$;if(W.disabled)y=D===H?T.gray().underline(W.title):T.strikethrough().gray(W.title);else if(y=D===H?T.cyan().underline(W.title):W.title,D===H&&W.description){if($=` - ${W.description}`,i.length+y.length+$.length>=this.out.columns||W.description.split(/\r?\n/).length>1)$=`
`+B(W.description,{margin:i.length,width:this.out.columns})}return i+y+T.gray($||"")}paginateOptions(D){if(D.length===0)return T.red("No matches for this query.");let{startIndex:W,endIndex:H}=C(this.cursor,D.length,this.optionsPerPage),J,i=[];for(let y=W;y<H;y++){if(y===W&&W>0)J=_.arrowUp;else if(y===H-1&&H<D.length)J=_.arrowDown;else J=" ";i.push(this.renderOption(this.cursor,D[y],y,J))}return`
`+i.join(`
`)}renderOptions(D){if(!this.done)return this.paginateOptions(D);return""}renderDoneOrInstructions(){if(this.done)return this.value.filter((W)=>W.selected).map((W)=>W.title).join(", ");let D=[T.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled)D.push(T.yellow(this.warn));return D.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(R.hide);super.render();let D=[h.symbol(this.done,this.aborted),T.bold(this.msg),h.delimiter(!1),this.renderDoneOrInstructions()].join(" ");if(this.showMinError)D+=T.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1;D+=this.renderOptions(this.value),this.out.write(this.clear+D),this.clear=q(D,this.out.columns)}}return kB=O,kB}var aB,vW;function b0(){if(vW)return aB;vW=1;let T=oT(),R=PR(),{erase:A,cursor:q}=dT(),{style:_,clear:h,figures:B,wrap:C,entriesToDisplay:O}=eT(),D=(i,y)=>i[y]&&(i[y].value||i[y].title||i[y]),W=(i,y)=>i[y]&&(i[y].title||i[y].value||i[y]),H=(i,y)=>{let $=i.findIndex((E)=>E.value===y||E.title===y);return $>-1?$:void 0};class J extends R{constructor(i={}){super(i);this.msg=i.message,this.suggest=i.suggest,this.choices=i.choices,this.initial=typeof i.initial==="number"?i.initial:H(i.choices,i.initial),this.select=this.initial||i.cursor||0,this.i18n={noMatches:i.noMatches||"no matches found"},this.fallback=i.fallback||this.initial,this.clearFirst=i.clearFirst||!1,this.suggestions=[],this.input="",this.limit=i.limit||10,this.cursor=0,this.transform=_.render(i.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=h("",this.out.columns),this.complete(this.render),this.render()}set fallback(i){this._fb=Number.isSafeInteger(parseInt(i))?parseInt(i):i}get fallback(){let i;if(typeof this._fb==="number")i=this.choices[this._fb];else if(typeof this._fb==="string")i={title:this._fb};return i||this._fb||{title:this.i18n.noMatches}}moveSelect(i){if(this.select=i,this.suggestions.length>0)this.value=D(this.suggestions,i);else this.value=this.fallback.value;this.fire()}async complete(i){let y=this.completing=this.suggest(this.input,this.choices),$=await y;if(this.completing!==y)return;this.suggestions=$.map((j,b,Q)=>({title:W(Q,b),value:D(Q,b),description:j.description})),this.completing=!1;let E=Math.max($.length-1,0);this.moveSelect(Math.min(E,this.select)),i&&i()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){if(this.clearFirst&&this.input.length>0)this.reset();else this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(i,y){let $=this.input.slice(0,this.cursor),E=this.input.slice(this.cursor);this.input=`${$}${i}${E}`,this.cursor=$.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let i=this.input.slice(0,this.cursor-1),y=this.input.slice(this.cursor);this.input=`${i}${y}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let i=this.input.slice(0,this.cursor),y=this.input.slice(this.cursor+1);this.input=`${i}${y}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){if(this.select===0)this.moveSelect(this.suggestions.length-1);else this.moveSelect(this.select-1);this.render()}down(){if(this.select===this.suggestions.length-1)this.moveSelect(0);else this.moveSelect(this.select+1);this.render()}next(){if(this.select===this.suggestions.length-1)this.moveSelect(0);else this.moveSelect(this.select+1);this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(i,y,$,E){let j,b=$?B.arrowUp:E?B.arrowDown:" ",Q=y?T.cyan().underline(i.title):i.title;if(b=(y?T.cyan(B.pointer)+" ":"  ")+b,i.description){if(j=` - ${i.description}`,b.length+Q.length+j.length>=this.out.columns||i.description.split(/\r?\n/).length>1)j=`
`+C(i.description,{margin:3,width:this.out.columns})}return b+" "+Q+T.gray(j||"")}render(){if(this.closed)return;if(this.firstRender)this.out.write(q.hide);else this.out.write(h(this.outputText,this.out.columns));super.render();let{startIndex:i,endIndex:y}=O(this.select,this.choices.length,this.limit);if(this.outputText=[_.symbol(this.done,this.aborted,this.exited),T.bold(this.msg),_.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let $=this.suggestions.slice(i,y).map((E,j)=>this.renderOption(E,this.select===j+i,j===0&&i>0,j+i===y-1&&y<this.choices.length)).join(`
`);this.outputText+=`
`+($||T.gray(this.fallback.title))}this.out.write(A.line+q.to(0)+this.outputText)}}return aB=J,aB}var KB,mW;function u0(){if(mW)return KB;mW=1;let T=oT(),{cursor:R}=dT(),A=JH(),{clear:q,style:_,figures:h}=eT();class B extends A{constructor(C={}){C.overrideRender=!0;super(C);this.inputValue="",this.clear=q("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){if(this.cursor===0)this.cursor=this.filteredOptions.length-1;else this.cursor--;this.render()}down(){if(this.cursor===this.filteredOptions.length-1)this.cursor=0;else this.cursor++;this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((C)=>C.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){if(this.inputValue.length)this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions()}updateFilteredOptions(){let C=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((D)=>{if(this.inputValue){if(typeof D.title==="string"){if(D.title.toLowerCase().includes(this.inputValue.toLowerCase()))return!0}if(typeof D.value==="string"){if(D.value.toLowerCase().includes(this.inputValue.toLowerCase()))return!0}return!1}return!0});let O=this.filteredOptions.findIndex((D)=>D===C);this.cursor=O<0?0:O,this.render()}handleSpaceToggle(){let C=this.filteredOptions[this.cursor];if(C.selected)C.selected=!1,this.render();else if(C.disabled||this.value.filter((O)=>O.selected).length>=this.maxChoices)return this.bell();else C.selected=!0,this.render()}handleInputChange(C){this.inputValue=this.inputValue+C,this.updateFilteredOptions()}_(C,O){if(C===" ")this.handleSpaceToggle();else this.handleInputChange(C)}renderInstructions(){if(this.instructions===void 0||this.instructions){if(typeof this.instructions==="string")return this.instructions;return`
Instructions:
    ${h.arrowUp}/${h.arrowDown}: Highlight option
    ${h.arrowLeft}/${h.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`}return""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:T.gray("Enter something to filter")}
`}renderOption(C,O,D,W){let H=(O.selected?T.green(h.radioOn):h.radioOff)+" "+W+" ",J;if(O.disabled)J=C===D?T.gray().underline(O.title):T.strikethrough().gray(O.title);else J=C===D?T.cyan().underline(O.title):O.title;return H+J}renderDoneOrInstructions(){if(this.done)return this.value.filter((O)=>O.selected).map((O)=>O.title).join(", ");let C=[T.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled)C.push(T.yellow(this.warn));return C.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(R.hide);super.render();let C=[_.symbol(this.done,this.aborted),T.bold(this.msg),_.delimiter(!1),this.renderDoneOrInstructions()].join(" ");if(this.showMinError)C+=T.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1;C+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+C),this.clear=q(C,this.out.columns)}}return KB=B,KB}var GB,lW;function Q0(){if(lW)return GB;lW=1;let T=oT(),R=PR(),{style:A,clear:q}=eT(),{erase:_,cursor:h}=dT();class B extends R{constructor(C={}){super(C);this.msg=C.message,this.value=C.initial,this.initialValue=!!C.initial,this.yesMsg=C.yes||"yes",this.yesOption=C.yesOption||"(Y/n)",this.noMsg=C.no||"no",this.noOption=C.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(C,O){if(C.toLowerCase()==="y")return this.value=!0,this.submit();if(C.toLowerCase()==="n")return this.value=!1,this.submit();return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(h.hide);else this.out.write(q(this.outputText,this.out.columns));super.render(),this.outputText=[A.symbol(this.done,this.aborted),T.bold(this.msg),A.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:T.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(_.line+h.to(0)+this.outputText)}}return GB=B,GB}var gB,oW;function N0(){if(oW)return gB;return oW=1,gB={TextPrompt:B0(),SelectPrompt:C0(),TogglePrompt:D0(),DatePrompt:F0(),NumberPrompt:j0(),MultiselectPrompt:JH(),AutocompletePrompt:b0(),AutocompleteMultiselectPrompt:u0(),ConfirmPrompt:Q0()},gB}var dW;function k0(){if(dW)return nh;return dW=1,function(T){let R=T,A=N0(),q=(B)=>B;function _(B,C,O={}){return new Promise((D,W)=>{let H=new A[B](C),J=O.onAbort||q,i=O.onSubmit||q,y=O.onExit||q;H.on("state",C.onState||q),H.on("submit",($)=>D(i($))),H.on("exit",($)=>D(y($))),H.on("abort",($)=>W(J($)))})}R.text=(B)=>_("TextPrompt",B),R.password=(B)=>{return B.style="password",R.text(B)},R.invisible=(B)=>{return B.style="invisible",R.text(B)},R.number=(B)=>_("NumberPrompt",B),R.date=(B)=>_("DatePrompt",B),R.confirm=(B)=>_("ConfirmPrompt",B),R.list=(B)=>{let C=B.separator||",";return _("TextPrompt",B,{onSubmit:(O)=>O.split(C).map((D)=>D.trim())})},R.toggle=(B)=>_("TogglePrompt",B),R.select=(B)=>_("SelectPrompt",B),R.multiselect=(B)=>{B.choices=[].concat(B.choices||[]);let C=(O)=>O.filter((D)=>D.selected).map((D)=>D.value);return _("MultiselectPrompt",B,{onAbort:C,onSubmit:C})},R.autocompleteMultiselect=(B)=>{B.choices=[].concat(B.choices||[]);let C=(O)=>O.filter((D)=>D.selected).map((D)=>D.value);return _("AutocompleteMultiselectPrompt",B,{onAbort:C,onSubmit:C})};let h=(B,C)=>Promise.resolve(C.filter((O)=>O.title.slice(0,B.length).toLowerCase()===B.toLowerCase()));R.autocomplete=(B)=>{return B.suggest=B.suggest||h,B.choices=[].concat(B.choices||[]),_("AutocompletePrompt",B)}}(nh),nh}var LB,rW;function a0(){if(rW)return LB;rW=1;let T=k0(),R=["suggest","format","onState","validate","onRender","type"],A=()=>{};async function q(C=[],{onSubmit:O=A,onCancel:D=A}={}){let W={},H=q._override||{};C=[].concat(C);let J,i,y,$,E,j,b=async(Q,I,N=!1)=>{if(!N&&Q.validate&&Q.validate(I)!==!0)return;return Q.format?await Q.format(I,W):I};for(i of C){if({name:$,type:E}=i,typeof E==="function")E=await E(J,{...W},i),i.type=E;if(!E)continue;for(let Q in i){if(R.includes(Q))continue;let I=i[Q];i[Q]=typeof I==="function"?await I(J,{...W},j):I}if(j=i,typeof i.message!=="string")throw new Error("prompt message is required");if({name:$,type:E}=i,T[E]===void 0)throw new Error(`prompt type (${E}) is not defined`);if(H[i.name]!==void 0){if(J=await b(i,H[i.name]),J!==void 0){W[$]=J;continue}}try{J=q._injected?_(q._injected,i.initial):await T[E](i),W[$]=J=await b(i,J,!0),y=await O(i,J,W)}catch(Q){y=!await D(i,W)}if(y)return W}return W}function _(C,O){let D=C.shift();if(D instanceof Error)throw D;return D===void 0?O:D}function h(C){q._injected=(q._injected||[]).concat(C)}function B(C){q._override=Object.assign({},C)}return LB=Object.assign(q,{prompt:q,prompts:T,inject:h,override:B}),LB}var xB,pW;function K0(){if(pW)return xB;return pW=1,xB=a0(),xB}var G0=K0(),g0=SB(G0);function iH(T){return(R)=>{if(R.length>1)return[T,"run",R[0],"--",...R.slice(1)];else return[T,"run",R[0]]}}function L0(){return(T)=>{return["deno","run",`npm:${T[0]}`,...T.slice(1)]}}var x0={agent:["npm",0],run:iH("npm"),install:["npm","i",0],frozen:["npm","ci"],global:["npm","i","-g",0],add:["npm","i",0],upgrade:["npm","update",0],"upgrade-interactive":null,execute:["npx",0],"execute-local":["npx",0],uninstall:["npm","uninstall",0],global_uninstall:["npm","uninstall","-g",0]},yH={agent:["yarn",0],run:["yarn","run",0],install:["yarn","install",0],frozen:["yarn","install","--frozen-lockfile"],global:["yarn","global","add",0],add:["yarn","add",0],upgrade:["yarn","upgrade",0],"upgrade-interactive":["yarn","upgrade-interactive",0],execute:["npx",0],"execute-local":["yarn","exec",0],uninstall:["yarn","remove",0],global_uninstall:["yarn","global","remove",0]},f0={...yH,frozen:["yarn","install","--immutable"],upgrade:["yarn","up",0],"upgrade-interactive":["yarn","up","-i",0],execute:["yarn","dlx",0],"execute-local":["yarn","exec",0],global:["npm","i","-g",0],global_uninstall:["npm","uninstall","-g",0]},nW={agent:["pnpm",0],run:["pnpm","run",0],install:["pnpm","i",0],frozen:["pnpm","i","--frozen-lockfile"],global:["pnpm","add","-g",0],add:["pnpm","add",0],upgrade:["pnpm","update",0],"upgrade-interactive":["pnpm","update","-i",0],execute:["pnpm","dlx",0],"execute-local":["pnpm","exec",0],uninstall:["pnpm","remove",0],global_uninstall:["pnpm","remove","--global",0]},z0={agent:["bun",0],run:["bun","run",0],install:["bun","install",0],frozen:["bun","install","--frozen-lockfile"],global:["bun","add","-g",0],add:["bun","add",0],upgrade:["bun","update",0],"upgrade-interactive":["bun","update",0],execute:["bun","x",0],"execute-local":["bun","x",0],uninstall:["bun","remove",0],global_uninstall:["bun","remove","-g",0]},X0={agent:["deno",0],run:["deno","task",0],install:["deno","install",0],frozen:["deno","install","--frozen"],global:["deno","install","-g",0],add:["deno","add",0],upgrade:["deno","outdated","--update",0],"upgrade-interactive":["deno","outdated","--update",0],execute:L0(),"execute-local":["deno","task","--eval",0],uninstall:["deno","remove",0],global_uninstall:["deno","uninstall","-g",0]},Z0={npm:x0,yarn:yH,"yarn@berry":f0,pnpm:nW,"pnpm@6":{...nW,run:iH("pnpm")},bun:z0,deno:X0};var $H=["npm","yarn","yarn@berry","pnpm","pnpm@6","bun","deno"],MB={"bun.lock":"bun","bun.lockb":"bun","deno.lock":"deno","pnpm-lock.yaml":"pnpm","yarn.lock":"yarn","package-lock.json":"npm","npm-shrinkwrap.json":"npm"},IH={bun:"https://bun.sh",deno:"https://deno.com",pnpm:"https://pnpm.io/installation","pnpm@6":"https://pnpm.io/6.x/installation",yarn:"https://classic.yarnpkg.com/en/docs/install","yarn@berry":"https://yarnpkg.com/getting-started/install",npm:"https://docs.npmjs.com/cli/v8/configuring-npm/install"};async function U0(T={}){let{cwd:R,onUnknown:A}=T;for(let q of M0(R)){for(let h of Object.keys(MB))if(await EH(O9.join(q,h))){let B=MB[h],C=await sW(O9.join(q,"package.json"),A);if(C)return C;else return{name:B,agent:B}}let _=await sW(O9.join(q,"package.json"),A);if(_)return _}return null}function*M0(T=cR.cwd()){let R=O9.resolve(T),{root:A}=O9.parse(R);while(R&&R!==A)yield R,R=O9.dirname(R)}async function sW(T,R){return!T||!await EH(T)?null:S0(T,R)}function S0(T,R){try{let A=JSON.parse(r3.readFileSync(T,"utf8")),q;if(typeof A.packageManager==="string"){let[_,h]=A.packageManager.replace(/^\^/,"").split("@"),B=h;if(_==="yarn"&&Number.parseInt(h)>1)return q="yarn@berry",B="berry",{name:_,agent:q,version:B};else if(_==="pnpm"&&Number.parseInt(h)<7)return q="pnpm@6",{name:_,agent:q,version:B};else if($H.includes(_))return q=_,{name:_,agent:q,version:B};else return R?.(A.packageManager)??null}}catch{}return null}async function EH(T){try{if((await t3.stat(T)).isFile())return!0}catch{}return!1}var s="\x1B[",LA="\x1B]",w9="\x07",cq=";",FH=process.env.TERM_PROGRAM==="Apple_Terminal",w={};w.cursorTo=(T,R)=>{if(typeof T!=="number")throw new TypeError("The `x` argument is required");if(typeof R!=="number")return s+(T+1)+"G";return s+(R+1)+";"+(T+1)+"H"};w.cursorMove=(T,R)=>{if(typeof T!=="number")throw new TypeError("The `x` argument is required");let A="";if(T<0)A+=s+-T+"D";else if(T>0)A+=s+T+"C";if(R<0)A+=s+-R+"A";else if(R>0)A+=s+R+"B";return A};w.cursorUp=(T=1)=>s+T+"A";w.cursorDown=(T=1)=>s+T+"B";w.cursorForward=(T=1)=>s+T+"C";w.cursorBackward=(T=1)=>s+T+"D";w.cursorLeft=s+"G";w.cursorSavePosition=FH?"\x1B7":s+"s";w.cursorRestorePosition=FH?"\x1B8":s+"u";w.cursorGetPosition=s+"6n";w.cursorNextLine=s+"E";w.cursorPrevLine=s+"F";w.cursorHide=s+"?25l";w.cursorShow=s+"?25h";w.eraseLines=(T)=>{let R="";for(let A=0;A<T;A++)R+=w.eraseLine+(A<T-1?w.cursorUp():"");if(T)R+=w.cursorLeft;return R};w.eraseEndLine=s+"K";w.eraseStartLine=s+"1K";w.eraseLine=s+"2K";w.eraseDown=s+"J";w.eraseUp=s+"1J";w.eraseScreen=s+"2J";w.scrollUp=s+"S";w.scrollDown=s+"T";w.clearScreen="\x1Bc";w.clearTerminal=process.platform==="win32"?`${w.eraseScreen}${s}0f`:`${w.eraseScreen}${s}3J${s}H`;w.beep=w9;w.link=(T,R)=>{return[LA,"8",cq,cq,R,w9,T,LA,"8",cq,cq,w9].join("")};w.image=(T,R={})=>{let A=`${LA}1337;File=inline=1`;if(R.width)A+=`;width=${R.width}`;if(R.height)A+=`;height=${R.height}`;if(R.preserveAspectRatio===!1)A+=";preserveAspectRatio=0";return A+":"+T.toString("base64")+w9};w.iTerm={setCwd:(T=process.cwd())=>`${LA}50;CurrentDir=${T}${w9}`,annotation:(T,R={})=>{let A=`${LA}1337;`,q=typeof R.x!=="undefined",_=typeof R.y!=="undefined";if((q||_)&&!(q&&_&&typeof R.length!=="undefined"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");if(T=T.replace(/\|/g,""),A+=R.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",R.length>0)A+=(q?[T,R.length,R.x,R.y]:[R.length,T]).join("|");else A+=T;return A+w9}};var fB,tW;function jH(){if(tW)return fB;return tW=1,fB=(T,R=process.argv)=>{let A=T.startsWith("-")?"":T.length===1?"-":"--",q=R.indexOf(A+T),_=R.indexOf("--");return q!==-1&&(_===-1||q<_)},fB}var zB,eW;function c0(){if(eW)return zB;eW=1;let T=p3,R=n3,A=jH(),{env:q}=process,_;if(A("no-color")||A("no-colors")||A("color=false")||A("color=never"))_=0;else if(A("color")||A("colors")||A("color=true")||A("color=always"))_=1;if("FORCE_COLOR"in q)if(q.FORCE_COLOR==="true")_=1;else if(q.FORCE_COLOR==="false")_=0;else _=q.FORCE_COLOR.length===0?1:Math.min(parseInt(q.FORCE_COLOR,10),3);function h(O){if(O===0)return!1;return{level:O,hasBasic:!0,has256:O>=2,has16m:O>=3}}function B(O,D){if(_===0)return 0;if(A("color=16m")||A("color=full")||A("color=truecolor"))return 3;if(A("color=256"))return 2;if(O&&!D&&_===void 0)return 0;let W=_||0;if(q.TERM==="dumb")return W;if(process.platform==="win32"){let H=T.release().split(".");if(Number(H[0])>=10&&Number(H[2])>=10586)return Number(H[2])>=14931?3:2;return 1}if("CI"in q){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((H)=>(H in q))||q.CI_NAME==="codeship")return 1;return W}if("TEAMCITY_VERSION"in q)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(q.TEAMCITY_VERSION)?1:0;if(q.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in q){let H=parseInt((q.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(q.TERM_PROGRAM){case"iTerm.app":return H>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(q.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(q.TERM))return 1;if("COLORTERM"in q)return 1;return W}function C(O){let D=B(O,O&&O.isTTY);return h(D)}return zB={supportsColor:C,stdout:h(B(!0,R.isatty(1))),stderr:h(B(!0,R.isatty(2)))},zB}var XB,TH;function P0(){if(TH)return XB;TH=1;let T=c0(),R=jH();function A(_){if(/^\d{3,4}$/.test(_)){let B=/(\d{1,2})(\d{2})/.exec(_);return{major:0,minor:parseInt(B[1],10),patch:parseInt(B[2],10)}}let h=(_||"").split(".").map((B)=>parseInt(B,10));return{major:h[0],minor:h[1],patch:h[2]}}function q(_){let{env:h}=process;if("FORCE_HYPERLINK"in h)return!(h.FORCE_HYPERLINK.length>0&&parseInt(h.FORCE_HYPERLINK,10)===0);if(R("no-hyperlink")||R("no-hyperlinks")||R("hyperlink=false")||R("hyperlink=never"))return!1;if(R("hyperlink=true")||R("hyperlink=always"))return!0;if(!T.supportsColor(_))return!1;if(_&&!_.isTTY)return!1;if(process.platform==="win32")return!1;if("NETLIFY"in h)return!0;if("CI"in h)return!1;if("TEAMCITY_VERSION"in h)return!1;if("TERM_PROGRAM"in h){let B=A(h.TERM_PROGRAM_VERSION);switch(h.TERM_PROGRAM){case"iTerm.app":if(B.major===3)return B.minor>=1;return B.major>3}}if("VTE_VERSION"in h){if(h.VTE_VERSION==="0.50.0")return!1;let B=A(h.VTE_VERSION);return B.major>0||B.minor>=50}return!1}return XB={supportsHyperlink:q,stdout:q(process.stdout),stderr:q(process.stderr)},XB}var Y0=P0(),PB=SB(Y0);function xA(T,R,{target:A="stdout",...q}={}){if(!PB[A]){if(q.fallback===!1)return T;return typeof q.fallback==="function"?q.fallback(T,R):`${T} (${R})`}return w.link(T,R)}xA.isSupported=PB.stdout;xA.stderr=(T,R,A={})=>xA(T,R,{target:"stderr",...A});xA.stderr.isSupported=PB.stderr;var Y9=Y3(import.meta.url),w0=Object.create,bH=Object.defineProperty,V0=Object.getOwnPropertyDescriptor,v0=Object.getOwnPropertyNames,m0=Object.getPrototypeOf,l0=Object.prototype.hasOwnProperty,YR=((T)=>typeof Y9<"u"?Y9:typeof Proxy<"u"?new Proxy(T,{get:(R,A)=>(typeof Y9<"u"?Y9:R)[A]}):T)(function(T){if(typeof Y9<"u")return Y9.apply(this,arguments);throw Error('Dynamic require of "'+T+'" is not supported')}),zT=(T,R)=>()=>(R||T((R={exports:{}}).exports,R),R.exports),o0=(T,R,A,q)=>{if(R&&typeof R=="object"||typeof R=="function")for(let _ of v0(R))!l0.call(T,_)&&_!==A&&bH(T,_,{get:()=>R[_],enumerable:!(q=V0(R,_))||q.enumerable});return T},d0=(T,R,A)=>(A=T!=null?w0(m0(T)):{},o0(bH(A,"default",{value:T,enumerable:!0}),T)),r0=zT((T,R)=>{R.exports=h,h.sync=B;var A=YR("fs");function q(C,O){var D=O.pathExt!==void 0?O.pathExt:process.env.PATHEXT;if(!D||(D=D.split(";"),D.indexOf("")!==-1))return!0;for(var W=0;W<D.length;W++){var H=D[W].toLowerCase();if(H&&C.substr(-H.length).toLowerCase()===H)return!0}return!1}function _(C,O,D){return!C.isSymbolicLink()&&!C.isFile()?!1:q(O,D)}function h(C,O,D){A.stat(C,function(W,H){D(W,W?!1:_(H,C,O))})}function B(C,O){return _(A.statSync(C),C,O)}}),p0=zT((T,R)=>{R.exports=q,q.sync=_;var A=YR("fs");function q(C,O,D){A.stat(C,function(W,H){D(W,W?!1:h(H,O))})}function _(C,O){return h(A.statSync(C),O)}function h(C,O){return C.isFile()&&B(C,O)}function B(C,O){var{mode:D,uid:W,gid:H}=C,J=O.uid!==void 0?O.uid:process.getuid&&process.getuid(),i=O.gid!==void 0?O.gid:process.getgid&&process.getgid(),y=parseInt("100",8),$=parseInt("010",8),E=parseInt("001",8),j=y|$,b=D&E||D&$&&H===i||D&y&&W===J||D&j&&J===0;return b}}),n0=zT((T,R)=>{YR("fs");var A;process.platform==="win32"||global.TESTING_WINDOWS?A=r0():A=p0(),R.exports=q,q.sync=_;function q(h,B,C){if(typeof B=="function"&&(C=B,B={}),!C){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(O,D){q(h,B||{},function(W,H){W?D(W):O(H)})})}A(h,B||{},function(O,D){O&&(O.code==="EACCES"||B&&B.ignoreErrors)&&(O=null,D=!1),C(O,D)})}function _(h,B){try{return A.sync(h,B||{})}catch(C){if(B&&B.ignoreErrors||C.code==="EACCES")return!1;throw C}}}),s0=zT((T,R)=>{var A=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",q=YR("path"),_=A?";":":",h=n0(),B=(W)=>Object.assign(new Error(`not found: ${W}`),{code:"ENOENT"}),C=(W,H)=>{let J=H.colon||_,i=W.match(/\//)||A&&W.match(/\\/)?[""]:[...A?[process.cwd()]:[],...(H.path||process.env.PATH||"").split(J)],y=A?H.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",$=A?y.split(J):[""];return A&&W.indexOf(".")!==-1&&$[0]!==""&&$.unshift(""),{pathEnv:i,pathExt:$,pathExtExe:y}},O=(W,H,J)=>{typeof H=="function"&&(J=H,H={}),H||(H={});let{pathEnv:i,pathExt:y,pathExtExe:$}=C(W,H),E=[],j=(Q)=>new Promise((I,N)=>{if(Q===i.length)return H.all&&E.length?I(E):N(B(W));let g=i[Q],z=/^".*"$/.test(g)?g.slice(1,-1):g,M=q.join(z,W),HT=!z&&/^\.[\\\/]/.test(W)?W.slice(0,2)+M:M;I(b(HT,Q,0))}),b=(Q,I,N)=>new Promise((g,z)=>{if(N===y.length)return g(j(I+1));let M=y[N];h(Q+M,{pathExt:$},(HT,LR)=>{if(!HT&&LR)if(H.all)E.push(Q+M);else return g(Q+M);return g(b(Q,I,N+1))})});return J?j(0).then((Q)=>J(null,Q),J):j(0)},D=(W,H)=>{H=H||{};let{pathEnv:J,pathExt:i,pathExtExe:y}=C(W,H),$=[];for(let E=0;E<J.length;E++){let j=J[E],b=/^".*"$/.test(j)?j.slice(1,-1):j,Q=q.join(b,W),I=!b&&/^\.[\\\/]/.test(W)?W.slice(0,2)+Q:Q;for(let N=0;N<i.length;N++){let g=I+i[N];try{if(h.sync(g,{pathExt:y}))if(H.all)$.push(g);else return g}catch{}}}if(H.all&&$.length)return $;if(H.nothrow)return null;throw B(W)};R.exports=O,O.sync=D}),t0=zT((T,R)=>{var A=(q={})=>{let _=q.env||process.env;return(q.platform||process.platform)!=="win32"?"PATH":Object.keys(_).reverse().find((h)=>h.toUpperCase()==="PATH")||"Path"};R.exports=A,R.exports.default=A}),e0=zT((T,R)=>{var A=YR("path"),q=s0(),_=t0();function h(C,O){let D=C.options.env||process.env,W=process.cwd(),H=C.options.cwd!=null,J=H&&process.chdir!==void 0&&!process.chdir.disabled;if(J)try{process.chdir(C.options.cwd)}catch{}let i;try{i=q.sync(C.command,{path:D[_({env:D})],pathExt:O?A.delimiter:void 0})}catch{}finally{J&&process.chdir(W)}return i&&(i=A.resolve(H?C.options.cwd:"",i)),i}function B(C){return h(C)||h(C,!0)}R.exports=B}),T5=zT((T,R)=>{var A=/([()\][%!^"`<>&|;, *?])/g;function q(h){return h=h.replace(A,"^$1"),h}function _(h,B){return h=`${h}`,h=h.replace(/(\\*)"/g,"$1$1\\\""),h=h.replace(/(\\*)$/,"$1$1"),h=`"${h}"`,h=h.replace(A,"^$1"),B&&(h=h.replace(A,"^$1")),h}R.exports.command=q,R.exports.argument=_}),R5=zT((T,R)=>{R.exports=/^#!(.*)/}),A5=zT((T,R)=>{var A=R5();R.exports=(q="")=>{let _=q.match(A);if(!_)return null;let[h,B]=_[0].replace(/#! ?/,"").split(" "),C=h.split("/").pop();return C==="env"?B:B?`${C} ${B}`:C}}),q5=zT((T,R)=>{var A=YR("fs"),q=A5();function _(h){let B=Buffer.alloc(150),C;try{C=A.openSync(h,"r"),A.readSync(C,B,0,150,0),A.closeSync(C)}catch{}return q(B.toString())}R.exports=_}),_5=zT((T,R)=>{var A=YR("path"),q=e0(),_=T5(),h=q5(),B=process.platform==="win32",C=/\.(?:com|exe)$/i,O=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function D(J){J.file=q(J);let i=J.file&&h(J.file);return i?(J.args.unshift(J.file),J.command=i,q(J)):J.file}function W(J){if(!B)return J;let i=D(J),y=!C.test(i);if(J.options.forceShell||y){let $=O.test(i);J.command=A.normalize(J.command),J.command=_.command(J.command),J.args=J.args.map((j)=>_.argument(j,$));let E=[J.command].concat(J.args).join(" ");J.args=["/d","/s","/c",`"${E}"`],J.command=process.env.comspec||"cmd.exe",J.options.windowsVerbatimArguments=!0}return J}function H(J,i,y){i&&!Array.isArray(i)&&(y=i,i=null),i=i?i.slice(0):[],y=Object.assign({},y);let $={command:J,args:i,options:y,file:void 0,original:{command:J,args:i}};return y.shell?$:W($)}R.exports=H}),h5=zT((T,R)=>{var A=process.platform==="win32";function q(C,O){return Object.assign(new Error(`${O} ${C.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${O} ${C.command}`,path:C.command,spawnargs:C.args})}function _(C,O){if(!A)return;let D=C.emit;C.emit=function(W,H){if(W==="exit"){let J=h(H,O);if(J)return D.call(C,"error",J)}return D.apply(C,arguments)}}function h(C,O){return A&&C===1&&!O.file?q(O.original,"spawn"):null}function B(C,O){return A&&C===1&&!O.file?q(O.original,"spawnSync"):null}R.exports={hookChildProcess:_,verifyENOENT:h,verifyENOENTSync:B,notFoundError:q}}),B5=zT((T,R)=>{var A=YR("child_process"),q=_5(),_=h5();function h(C,O,D){let W=q(C,O,D),H=A.spawn(W.command,W.args,W.options);return _.hookChildProcess(H,W),H}function B(C,O,D){let W=q(C,O,D),H=A.spawnSync(W.command,W.args,W.options);return H.error=H.error||_.verifyENOENTSync(H.status,W),H}R.exports=h,R.exports.spawn=h,R.exports.sync=B,R.exports._parse=q,R.exports._enoent=_}),C5=/^path$/i,RH={key:"PATH",value:""};function D5(T){for(let R in T){if(!Object.prototype.hasOwnProperty.call(T,R)||!C5.test(R))continue;let A=T[R];return A?{key:R,value:A}:RH}return RH}function O5(T,R){let A=R.value.split(iW),q=T,_;do A.push(m3(q,"node_modules",".bin")),_=q,q=l3(q);while(q!==_);return{key:R.key,value:A.join(iW)}}function W5(T,R){let A={...process.env,...R},q=O5(T,D5(A));return A[q.key]=q.value,A}var H5=(T)=>{let R=T.length,A=new d3,q=()=>{--R===0&&A.emit("end")};for(let _ of T)_.pipe(A,{end:!1}),_.on("end",q);return A},J5=d0(B5()),AH=class extends Error{result;output;get exitCode(){if(this.result.exitCode!==null)return this.result.exitCode}constructor(T,R){super(`Process exited with non-zero status (${T.exitCode})`),this.result=T,this.output=R}},i5={timeout:void 0,persist:!1},y5={windowsHide:!0};function $5(T,R){return{command:v3(T),args:R??[]}}function I5(T){let R=new AbortController;for(let A of T){if(A.aborted)return R.abort(),A;let q=()=>{R.abort(A.reason)};A.addEventListener("abort",q,{signal:R.signal})}return R.signal}var E5=class{_process;_aborted=!1;_options;_command;_args;_resolveClose;_processClosed;_thrownError;get process(){return this._process}get pid(){return this._process?.pid}get exitCode(){if(this._process&&this._process.exitCode!==null)return this._process.exitCode}constructor(T,R,A){this._options={...i5,...A},this._command=T,this._args=R??[],this._processClosed=new Promise((q)=>{this._resolveClose=q})}kill(T){return this._process?.kill(T)===!0}get aborted(){return this._aborted}get killed(){return this._process?.killed===!0}pipe(T,R,A){return F5(T,R,{...A,stdin:this})}async*[Symbol.asyncIterator](){let T=this._process;if(!T)return;let R=[];this._streamErr&&R.push(this._streamErr),this._streamOut&&R.push(this._streamOut);let A=H5(R),q=DH.createInterface({input:A});for await(let _ of q)yield _.toString();if(await this._processClosed,T.removeAllListeners(),this._thrownError)throw this._thrownError;if(this._options?.throwOnError&&this.exitCode!==0&&this.exitCode!==void 0)throw new AH(this)}async _waitForOutput(){let T=this._process;if(!T)throw new Error("No process was started");let R="",A="";if(this._streamOut)for await(let _ of this._streamOut)A+=_.toString();if(this._streamErr)for await(let _ of this._streamErr)R+=_.toString();if(await this._processClosed,this._options?.stdin&&await this._options.stdin,T.removeAllListeners(),this._thrownError)throw this._thrownError;let q={stderr:R,stdout:A,exitCode:this.exitCode};if(this._options.throwOnError&&this.exitCode!==0&&this.exitCode!==void 0)throw new AH(this,q);return q}then(T,R){return this._waitForOutput().then(T,R)}_streamOut;_streamErr;spawn(){let T=o3(),R=this._options,A={...y5,...R.nodeOptions},q=[];this._resetState(),R.timeout!==void 0&&q.push(AbortSignal.timeout(R.timeout)),R.signal!==void 0&&q.push(R.signal),R.persist===!0&&(A.detached=!0),q.length>0&&(A.signal=I5(q)),A.env=W5(T,A.env);let{command:_,args:h}=$5(this._command,this._args),B=J5._parse(_,h,A),C=w3(B.command,B.args,B.options);if(C.stderr&&(this._streamErr=C.stderr),C.stdout&&(this._streamOut=C.stdout),this._process=C,C.once("error",this._onError),C.once("close",this._onClose),R.stdin!==void 0&&C.stdin&&R.stdin.process){let{stdout:O}=R.stdin.process;O&&O.pipe(C.stdin)}}_resetState(){this._aborted=!1,this._processClosed=new Promise((T)=>{this._resolveClose=T}),this._thrownError=void 0}_onError=(T)=>{if(T.name==="AbortError"&&(!(T.cause instanceof Error)||T.cause.name!=="TimeoutError")){this._aborted=!0;return}this._thrownError=T};_onClose=()=>{this._resolveClose&&this._resolveClose()}},uH=(T,R,A)=>{let q=new E5(T,R,A);return q.spawn(),q},F5=uH;var B9={},C9={},qH;function j5(){if(qH)return C9;qH=1,Object.defineProperty(C9,"__esModule",{value:!0}),C9.sync=C9.isexe=void 0;let T=OH,R=WH,A=async(B,C={})=>{let{ignoreErrors:O=!1}=C;try{return _(await R.stat(B),C)}catch(D){let W=D;if(O||W.code==="EACCES")return!1;throw W}};C9.isexe=A;let q=(B,C={})=>{let{ignoreErrors:O=!1}=C;try{return _(T.statSync(B),C)}catch(D){let W=D;if(O||W.code==="EACCES")return!1;throw W}};C9.sync=q;let _=(B,C)=>B.isFile()&&h(B,C),h=(B,C)=>{let O=C.uid??process.getuid?.(),D=C.groups??process.getgroups?.()??[],W=C.gid??process.getgid?.()??D[0];if(O===void 0||W===void 0)throw new Error("cannot get uid or gid");let H=new Set([W,...D]),J=B.mode,i=B.uid,y=B.gid,$=parseInt("100",8),E=parseInt("010",8),j=parseInt("001",8),b=$|E;return!!(J&j||J&E&&H.has(y)||J&$&&i===O||J&b&&O===0)};return C9}var D9={},_H;function b5(){if(_H)return D9;_H=1,Object.defineProperty(D9,"__esModule",{value:!0}),D9.sync=D9.isexe=void 0;let T=OH,R=WH,A=async(B,C={})=>{let{ignoreErrors:O=!1}=C;try{return h(await R.stat(B),B,C)}catch(D){let W=D;if(O||W.code==="EACCES")return!1;throw W}};D9.isexe=A;let q=(B,C={})=>{let{ignoreErrors:O=!1}=C;try{return h(T.statSync(B),B,C)}catch(D){let W=D;if(O||W.code==="EACCES")return!1;throw W}};D9.sync=q;let _=(B,C)=>{let{pathExt:O=process.env.PATHEXT||""}=C,D=O.split(";");if(D.indexOf("")!==-1)return!0;for(let W=0;W<D.length;W++){let H=D[W].toLowerCase(),J=B.substring(B.length-H.length).toLowerCase();if(H&&J===H)return!0}return!1},h=(B,C,O)=>B.isFile()&&_(C,O);return D9}var ZB={},hH;function u5(){if(hH)return ZB;return hH=1,Object.defineProperty(ZB,"__esModule",{value:!0}),ZB}var BH;function Q5(){if(BH)return B9;return BH=1,function(T){var R=B9.__createBinding||(Object.create?function(D,W,H,J){if(J===void 0)J=H;var i=Object.getOwnPropertyDescriptor(W,H);if(!i||("get"in i?!W.__esModule:i.writable||i.configurable))i={enumerable:!0,get:function(){return W[H]}};Object.defineProperty(D,J,i)}:function(D,W,H,J){if(J===void 0)J=H;D[J]=W[H]}),A=B9.__setModuleDefault||(Object.create?function(D,W){Object.defineProperty(D,"default",{enumerable:!0,value:W})}:function(D,W){D.default=W}),q=B9.__importStar||function(D){if(D&&D.__esModule)return D;var W={};if(D!=null){for(var H in D)if(H!=="default"&&Object.prototype.hasOwnProperty.call(D,H))R(W,D,H)}return A(W,D),W},_=B9.__exportStar||function(D,W){for(var H in D)if(H!=="default"&&!Object.prototype.hasOwnProperty.call(W,H))R(W,D,H)};Object.defineProperty(T,"__esModule",{value:!0}),T.sync=T.isexe=T.posix=T.win32=void 0;let h=q(j5());T.posix=h;let B=q(b5());T.win32=B,_(u5(),T);let O=(process.env._ISEXE_TEST_PLATFORM_||process.platform)==="win32"?B:h;T.isexe=O.isexe,T.sync=O.sync}(B9),B9}var UB,CH;function N5(){if(CH)return UB;CH=1;let{isexe:T,sync:R}=Q5(),{join:A,delimiter:q,sep:_,posix:h}=V3,B=process.platform==="win32",C=new RegExp(`[${h.sep}${_===h.sep?"":_}]`.replace(/(\\)/g,"\\$1")),O=new RegExp(`^\\.${C.source}`),D=(y)=>Object.assign(new Error(`not found: ${y}`),{code:"ENOENT"}),W=(y,{path:$=process.env.PATH,pathExt:E=process.env.PATHEXT,delimiter:j=q})=>{let b=y.match(C)?[""]:[...B?[process.cwd()]:[],...($||"").split(j)];if(B){let Q=E||[".EXE",".CMD",".BAT",".COM"].join(j),I=Q.split(j).flatMap((N)=>[N,N.toLowerCase()]);if(y.includes(".")&&I[0]!=="")I.unshift("");return{pathEnv:b,pathExt:I,pathExtExe:Q}}return{pathEnv:b,pathExt:[""]}},H=(y,$)=>{let E=/^".*"$/.test(y)?y.slice(1,-1):y;return(!E&&O.test($)?$.slice(0,2):"")+A(E,$)},J=async(y,$={})=>{let{pathEnv:E,pathExt:j,pathExtExe:b}=W(y,$),Q=[];for(let I of E){let N=H(I,y);for(let g of j){let z=N+g;if(await T(z,{pathExt:b,ignoreErrors:!0})){if(!$.all)return z;Q.push(z)}}}if($.all&&Q.length)return Q;if($.nothrow)return null;throw D(y)},i=(y,$={})=>{let{pathEnv:E,pathExt:j,pathExtExe:b}=W(y,$),Q=[];for(let I of E){let N=H(I,y);for(let g of j){let z=N+g;if(R(z,{pathExt:b,ignoreErrors:!0})){if(!$.all)return z;Q.push(z)}}}if($.all&&Q.length)return Q;if($.nothrow)return null;throw D(y)};return UB=J,J.sync=i,UB}var k5=N5(),a5=SB(k5),K5=c3(s3.tmpdir(),"antfu-ni");function QH(T){return a5.sync(T,{nothrow:!0})!==null}async function YB({autoInstall:T,programmatic:R,cwd:A}={}){let{name:q,agent:_,version:h}=await U0({cwd:A,onUnknown:(B)=>{if(!R)console.warn("[ni] Unknown packageManager:",B);return}})||{};if(q&&!QH(q)&&!R){if(!T){if(console.warn(`[ni] Detected ${q} but it doesn't seem to be installed.
`),cR.env.CI)cR.exit(1);let B=xA(q,IH[q]),{tryInstall:C}=await g0({name:"tryInstall",type:"confirm",message:`Would you like to globally install ${B}?`});if(!C)cR.exit(1)}await uH("npm",["i","-g",`${q}${h?`@${h}`:""}`],{nodeOptions:{stdio:"inherit",cwd:A},throwOnError:!0})}return _}var vK=cR.env.NI_CONFIG_FILE,G5=cR.platform==="win32"?cR.env.USERPROFILE:cR.env.HOME,mK=O9.join(G5||"~/",".nirc");async function Pq(){let T=await YB({programmatic:!0});if(T==="yarn@berry")return"yarn";if(T==="pnpm@6")return"pnpm";if(T==="bun")return"bun";return T??"npm"}import t from"node:fs";import{existsSync as NH}from"node:fs";import TR from"node:path";function FT(T){let R=TR.join(process.cwd(),T);return t.existsSync(R)}function W9(){if(wR())return"resources/css/app.css";if(FT("src")&&!t.existsSync("artisan")&&uT())return"src/app/globals.css";if(FT("app")&&uT()&&!t.existsSync("artisan"))return"app/globals.css";if(FT("app")&&!t.existsSync("artisan")&&RR())return"app/tailwind.css";if(FT("src")&&!t.existsSync("artisan")&&!RR()&&!uT())return"src/index.css";return"src/index.css"}function V9(){if(wR())return"resources/js/components";if(FT("src")&&!t.existsSync("artisan")&&uT())return"src/components";if(FT("app")&&uT()&&!t.existsSync("artisan"))return"components";if(FT("app")&&!t.existsSync("artisan")&&RR())return"app/components";if(FT("src")&&!t.existsSync("artisan")&&!RR()&&!uT())return"src/components";return"components"}function wB(){if(wR())return"resources/js/utils";if(FT("src")&&!t.existsSync("artisan")&&uT())return"src/utils";if(FT("app")&&uT()&&!t.existsSync("artisan"))return"utils";if(FT("app")&&!t.existsSync("artisan")&&RR())return"app/utils";if(FT("src")&&!t.existsSync("artisan")&&!RR()&&!uT())return"src/utils";return"utils"}function uT(){return t.existsSync("next.config.ts")||t.existsSync("next.config.js")||t.existsSync("next.config.mjs")}function kH(T=process.cwd()){let R=["node_modules","vendor",".git",".svn",".hg","dist","build","out","target",".next",".vercel",".idea",".vscode",".cache",".npm",".yarn","tmp","logs","coverage",".nyc_output"];if(t.existsSync(TR.join(T,"tsconfig.json")))return!0;return t.readdirSync(T,{withFileTypes:!0}).filter((q)=>q.isDirectory()&&!R.includes(q.name)).map((q)=>TR.join(T,q.name)).some((q)=>t.existsSync(TR.join(q,"tsconfig.json")))}function RR(){let T=TR.join(process.cwd(),"package.json");if(NH(T)){let R=JSON.parse(t.readFileSync(T,"utf8")),{dependencies:A={},devDependencies:q={}}=R;return"@remix-run/react"in A||"@remix-run/react"in q}return!1}function uR(T){let R=TR.join(process.cwd(),"package.json");if(t.existsSync(R)){let A=JSON.parse(t.readFileSync(R,"utf8")),{dependencies:q={},devDependencies:_={}}=A,h=q.tailwindcss||_.tailwindcss;if(h){let B=h.replace(/^\D*/,"");return Number.parseInt(B.split(".")[0],10)===T}}return!1}function VB(){let T=TR.join(process.cwd(),"package.json");if(NH(T)){let R=JSON.parse(t.readFileSync(T,"utf8")),{dependencies:A={},devDependencies:q={}}=R;return"tailwindcss"in A||"tailwindcss"in q}return!1}function wR(){return t.existsSync(TR.resolve(process.cwd(),"artisan"))}function aH(){let T=TR.join(process.cwd(),"justd.json");if(!t.existsSync(T)){hT(`${rR("justd.json not found")}. Please run ${m("npx justd-cli@latest init")} to initialize the project.`);return}return JSON.parse(t.readFileSync(T,"utf-8")).ui||`${V9()}/ui`}var KH=TR.resolve(process.cwd(),"justd.json"),GH=()=>{return t.existsSync("package.json")||uT()||wR()||RR()||VB()},v9=(T,R)=>{if(T==="javascript")return R.replace(".ts",".js");return R};import $7,{writeFileSync as I7}from"node:fs";import s9 from"node:fs";import eq from"node:path";var VR=(T)=>T.name==="up"||T.name==="k"||T.ctrl&&T.name==="p",m9=(T)=>T.name==="down"||T.name==="j"||T.ctrl&&T.name==="n",gH=(T)=>T.name==="space",Yq=(T)=>T.name==="backspace",wq=(T)=>"123456789".includes(T.name),vR=(T)=>T.name==="enter"||T.name==="return";class vB extends Error{name="AbortPromptError";message="Prompt was aborted";constructor(T){super();this.cause=T?.cause}}class mB extends Error{name="CancelPromptError";message="Prompt was canceled"}class lB extends Error{name="ExitPromptError"}class oB extends Error{name="HookError"}class H9 extends Error{name="ValidationError"}import{AsyncResource as cH}from"node:async_hooks";import{AsyncLocalStorage as g5,AsyncResource as L5}from"node:async_hooks";var LH=new g5;function x5(T){return{rl:T,hooks:[],hooksCleanup:[],hooksEffect:[],index:0,handleChange(){}}}function xH(T,R){let A=x5(T);return LH.run(A,()=>{function q(_){A.handleChange=()=>{A.index=0,_()},A.handleChange()}return R(q)})}function J9(){let T=LH.getStore();if(!T)throw new oB("[Inquirer] Hook functions can only be called from within a prompt");return T}function dB(){return J9().rl}function rB(T){let R=(...A)=>{let q=J9(),_=!1,h=q.handleChange;q.handleChange=()=>{_=!0};let B=T(...A);if(_)h();return q.handleChange=h,B};return L5.bind(R)}function l9(T){let R=J9(),{index:A}=R,q={get(){return R.hooks[A]},set(h){R.hooks[A]=h},initialized:A in R.hooks},_=T(q);return R.index++,_}function fH(){J9().handleChange()}var i9={queue(T){let R=J9(),{index:A}=R;R.hooksEffect.push(()=>{R.hooksCleanup[A]?.();let q=T(dB());if(q!=null&&typeof q!=="function")throw new H9("useEffect return value must be a cleanup function or nothing.");R.hooksCleanup[A]=q})},run(){let T=J9();rB(()=>{T.hooksEffect.forEach((R)=>{R()}),T.hooksEffect.length=0})()},clearAll(){let T=J9();T.hooksCleanup.forEach((R)=>{R?.()}),T.hooksEffect.length=0,T.hooksCleanup.length=0}};function DT(T){return l9((R)=>{let A=(_)=>{if(R.get()!==_)R.set(_),fH()};if(R.initialized)return[R.get(),A];let q=typeof T==="function"?T():T;return R.set(q),[q,A]})}function y9(T,R){l9((A)=>{let q=A.get();if(!Array.isArray(q)||R.some((h,B)=>!Object.is(h,q[B])))i9.queue(T);A.set(R)})}var YT=ET(fA(),1);import AR from"node:process";function X5(){if(AR.platform!=="win32")return AR.env.TERM!=="linux";return Boolean(AR.env.WT_SESSION)||Boolean(AR.env.TERMINUS_SUBLIME)||AR.env.ConEmuTask==="{cmd::Cmder}"||AR.env.TERM_PROGRAM==="Terminus-Sublime"||AR.env.TERM_PROGRAM==="vscode"||AR.env.TERM==="xterm-256color"||AR.env.TERM==="alacritty"||AR.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var XH={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"",squareDarkShade:"",squareMediumShade:"",squareLightShade:"",squareTop:"",squareBottom:"",squareLeft:"",squareRight:"",squareCenter:"",bullet:"",dot:"",ellipsis:"",pointerSmall:"",triangleUp:"",triangleUpSmall:"",triangleDown:"",triangleDownSmall:"",triangleLeftSmall:"",triangleRightSmall:"",home:"",heart:"",musicNote:"",musicNoteBeamed:"",arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",arrowLeftRight:"",arrowUpDown:"",almostEqual:"",notEqual:"",lessOrEqual:"",greaterOrEqual:"",identical:"",infinity:"",subscriptZero:"",subscriptOne:"",subscriptTwo:"",subscriptThree:"",subscriptFour:"",subscriptFive:"",subscriptSix:"",subscriptSeven:"",subscriptEight:"",subscriptNine:"",oneHalf:"",oneThird:"",oneQuarter:"",oneFifth:"",oneSixth:"",oneEighth:"",twoThirds:"",twoFifths:"",threeQuarters:"",threeFifths:"",threeEighths:"",fourFifths:"",fiveSixths:"",fiveEighths:"",sevenEighths:"",line:"",lineBold:"",lineDouble:"",lineDashed0:"",lineDashed1:"",lineDashed2:"",lineDashed3:"",lineDashed4:"",lineDashed5:"",lineDashed6:"",lineDashed7:"",lineDashed8:"",lineDashed9:"",lineDashed10:"",lineDashed11:"",lineDashed12:"",lineDashed13:"",lineDashed14:"",lineDashed15:"",lineVertical:"",lineVerticalBold:"",lineVerticalDouble:"",lineVerticalDashed0:"",lineVerticalDashed1:"",lineVerticalDashed2:"",lineVerticalDashed3:"",lineVerticalDashed4:"",lineVerticalDashed5:"",lineVerticalDashed6:"",lineVerticalDashed7:"",lineVerticalDashed8:"",lineVerticalDashed9:"",lineVerticalDashed10:"",lineVerticalDashed11:"",lineDownLeft:"",lineDownLeftArc:"",lineDownBoldLeftBold:"",lineDownBoldLeft:"",lineDownLeftBold:"",lineDownDoubleLeftDouble:"",lineDownDoubleLeft:"",lineDownLeftDouble:"",lineDownRight:"",lineDownRightArc:"",lineDownBoldRightBold:"",lineDownBoldRight:"",lineDownRightBold:"",lineDownDoubleRightDouble:"",lineDownDoubleRight:"",lineDownRightDouble:"",lineUpLeft:"",lineUpLeftArc:"",lineUpBoldLeftBold:"",lineUpBoldLeft:"",lineUpLeftBold:"",lineUpDoubleLeftDouble:"",lineUpDoubleLeft:"",lineUpLeftDouble:"",lineUpRight:"",lineUpRightArc:"",lineUpBoldRightBold:"",lineUpBoldRight:"",lineUpRightBold:"",lineUpDoubleRightDouble:"",lineUpDoubleRight:"",lineUpRightDouble:"",lineUpDownLeft:"",lineUpBoldDownBoldLeftBold:"",lineUpBoldDownBoldLeft:"",lineUpDownLeftBold:"",lineUpBoldDownLeftBold:"",lineUpDownBoldLeftBold:"",lineUpDownBoldLeft:"",lineUpBoldDownLeft:"",lineUpDoubleDownDoubleLeftDouble:"",lineUpDoubleDownDoubleLeft:"",lineUpDownLeftDouble:"",lineUpDownRight:"",lineUpBoldDownBoldRightBold:"",lineUpBoldDownBoldRight:"",lineUpDownRightBold:"",lineUpBoldDownRightBold:"",lineUpDownBoldRightBold:"",lineUpDownBoldRight:"",lineUpBoldDownRight:"",lineUpDoubleDownDoubleRightDouble:"",lineUpDoubleDownDoubleRight:"",lineUpDownRightDouble:"",lineDownLeftRight:"",lineDownBoldLeftBoldRightBold:"",lineDownLeftBoldRightBold:"",lineDownBoldLeftRight:"",lineDownBoldLeftBoldRight:"",lineDownBoldLeftRightBold:"",lineDownLeftRightBold:"",lineDownLeftBoldRight:"",lineDownDoubleLeftDoubleRightDouble:"",lineDownDoubleLeftRight:"",lineDownLeftDoubleRightDouble:"",lineUpLeftRight:"",lineUpBoldLeftBoldRightBold:"",lineUpLeftBoldRightBold:"",lineUpBoldLeftRight:"",lineUpBoldLeftBoldRight:"",lineUpBoldLeftRightBold:"",lineUpLeftRightBold:"",lineUpLeftBoldRight:"",lineUpDoubleLeftDoubleRightDouble:"",lineUpDoubleLeftRight:"",lineUpLeftDoubleRightDouble:"",lineUpDownLeftRight:"",lineUpBoldDownBoldLeftBoldRightBold:"",lineUpDownBoldLeftBoldRightBold:"",lineUpBoldDownLeftBoldRightBold:"",lineUpBoldDownBoldLeftRightBold:"",lineUpBoldDownBoldLeftBoldRight:"",lineUpBoldDownLeftRight:"",lineUpDownBoldLeftRight:"",lineUpDownLeftBoldRight:"",lineUpDownLeftRightBold:"",lineUpBoldDownBoldLeftRight:"",lineUpDownLeftBoldRightBold:"",lineUpBoldDownLeftBoldRight:"",lineUpBoldDownLeftRightBold:"",lineUpDownBoldLeftBoldRight:"",lineUpDownBoldLeftRightBold:"",lineUpDoubleDownDoubleLeftDoubleRightDouble:"",lineUpDoubleDownDoubleLeftRight:"",lineUpDownLeftDoubleRightDouble:"",lineCross:"",lineBackslash:"",lineSlash:""},ZH={tick:"",info:"",warning:"",cross:"",squareSmall:"",squareSmallFilled:"",circle:"",circleFilled:"",circleDotted:"",circleDouble:"",circleCircle:"",circleCross:"",circlePipe:"",radioOn:"",radioOff:"",checkboxOn:"",checkboxOff:"",checkboxCircleOn:"",checkboxCircleOff:"",pointer:"",triangleUpOutline:"",triangleLeft:"",triangleRight:"",lozenge:"",lozengeOutline:"",hamburger:"",smiley:"",mustache:"",star:"",play:"",nodejs:"",oneSeventh:"",oneNinth:"",oneTenth:""},Z5={tick:"",info:"i",warning:"",cross:"",squareSmall:"",squareSmallFilled:"",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"()",circleCross:"()",circlePipe:"()",radioOn:"(*)",radioOff:"( )",checkboxOn:"[]",checkboxOff:"[ ]",checkboxCircleOn:"()",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"",triangleLeft:"",triangleRight:"",lozenge:"",lozengeOutline:"",hamburger:"",smiley:"",mustache:"",star:"",play:"",nodejs:"",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},U5={...XH,...ZH},M5={...XH,...Z5},S5=X5(),c5=S5?U5:M5,qR=c5,MG=Object.entries(ZH);var UH={prefix:{idle:YT.default.blue("?"),done:YT.default.green(qR.tick)},spinner:{interval:80,frames:["","","","","","","","","",""].map((T)=>YT.default.yellow(T))},style:{answer:YT.default.cyan,message:YT.default.bold,error:(T)=>YT.default.red(`> ${T}`),defaultAnswer:(T)=>YT.default.dim(`(${T})`),help:YT.default.dim,highlight:YT.default.cyan,key:(T)=>YT.default.cyan(YT.default.bold(`<${T}>`))}};function MH(T){if(typeof T!=="object"||T===null)return!1;let R=T;while(Object.getPrototypeOf(R)!==null)R=Object.getPrototypeOf(R);return Object.getPrototypeOf(T)===R}function SH(...T){let R={};for(let A of T)for(let[q,_]of Object.entries(A)){let h=R[q];R[q]=MH(h)&&MH(_)?SH(h,_):_}return R}function rT(...T){let R=[UH,...T.filter((A)=>A!=null)];return SH(...R)}function QR({status:T="idle",theme:R}){let[A,q]=DT(!1),[_,h]=DT(0),{prefix:B,spinner:C}=rT(R);if(y9(()=>{if(T==="loading"){let D,W=-1,H=setTimeout(cH.bind(()=>{q(!0),D=setInterval(cH.bind(()=>{W=W+1,h(W%C.frames.length)}),C.interval)}),300);return()=>{clearTimeout(H),clearInterval(D)}}else q(!1)},[T]),A)return C.frames[_];return typeof B==="string"?B:B[T==="loading"?"idle":T]??B.idle}function $9(T,R){return l9((A)=>{let q=A.get();if(!q||q.dependencies.length!==R.length||q.dependencies.some((_,h)=>_!==R[h])){let _=T();return A.set({value:_,dependencies:R}),_}return q.value})}function _R(T){return DT({current:T})[0]}function NR(T){let R=_R(T);R.current=T,y9((A)=>{let q=!1,_=rB((h,B)=>{if(q)return;R.current(B,A)});return A.input.on("keypress",_),()=>{q=!0,A.input.removeListener("keypress",_)}},[])}var i6=ET(YH(),1),y6=ET(J6(),1);function ZA(T,R){return T.split(`
`).flatMap((A)=>y6.default(A,R,{trim:!1,hard:!0}).split(`
`).map((q)=>q.trimEnd())).join(`
`)}function lq(){return i6.default({defaultWidth:80,output:dB().output})}function B2(T,R){return ZA(T,R).split(`
`)}function C2(T,R){let A=R.length,q=(T%A+A)%A;return[...R.slice(q),...R.slice(0,q)]}function $6({items:T,width:R,renderItem:A,active:q,position:_,pageSize:h}){let B=T.map((y,$)=>({item:y,index:$,isActive:$===q})),C=C2(q-_,B).slice(0,h),O=(y)=>C[y]==null?[]:B2(A(C[y]),R),D=Array.from({length:h}),W=O(_).slice(0,h),H=_+W.length<=h?_:h-W.length;D.splice(H,W.length,...W);let J=H+W.length,i=_+1;while(J<h&&i<C.length){for(let y of O(i))if(D[J++]=y,J>=h)break;i++}J=H-1,i=_-1;while(J>=0&&i>=0){for(let y of O(i).reverse())if(D[J--]=y,J<0)break;i--}return D.filter((y)=>typeof y==="string")}function I6({active:T,pageSize:R,total:A}){let q=Math.floor(R/2);if(A<=R||T<q)return T;if(T>=A-q)return T+R-A;return q}function E6({active:T,lastActive:R,total:A,pageSize:q,pointer:_}){if(A<=q)return T;if(R<T&&T-R<q)return Math.min(Math.floor(q/2),_+T-R);return _}function UA({items:T,active:R,renderItem:A,pageSize:q,loop:_=!0}){let h=_R({position:0,lastActive:0}),B=_?E6({active:R,lastActive:h.current.lastActive,total:T.length,pageSize:q,pointer:h.current.position}):I6({active:R,total:T.length,pageSize:q});return h.current.position=B,h.current.lastActive=R,$6({items:T,width:lq(),renderItem:A,active:R,position:B,pageSize:q}).join(`
`)}var L6=ET(b6(),1);import*as g6 from"node:readline";import{AsyncResource as y2}from"node:async_hooks";var I9=[];I9.push("SIGHUP","SIGINT","SIGTERM");if(process.platform!=="win32")I9.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");if(process.platform==="linux")I9.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var oq=(T)=>!!T&&typeof T==="object"&&typeof T.removeListener==="function"&&typeof T.emit==="function"&&typeof T.reallyExit==="function"&&typeof T.listeners==="function"&&typeof T.kill==="function"&&typeof T.pid==="number"&&typeof T.on==="function",AC=Symbol.for("signal-exit emitter"),qC=globalThis,O2=Object.defineProperty.bind(Object);class u6{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(qC[AC])return qC[AC];O2(qC,AC,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(T,R){this.listeners[T].push(R)}removeListener(T,R){let A=this.listeners[T],q=A.indexOf(R);if(q===-1)return;if(q===0&&A.length===1)A.length=0;else A.splice(q,1)}emit(T,R,A){if(this.emitted[T])return!1;this.emitted[T]=!0;let q=!1;for(let _ of this.listeners[T])q=_(R,A)===!0||q;if(T==="exit")q=this.emit("afterExit",R,A)||q;return q}}class hC{}var W2=(T)=>{return{onExit(R,A){return T.onExit(R,A)},load(){return T.load()},unload(){return T.unload()}}};class Q6 extends hC{onExit(){return()=>{}}load(){}unload(){}}class N6 extends hC{#q=_C.platform==="win32"?"SIGINT":"SIGHUP";#A=new u6;#T;#h;#J;#R={};#B=!1;constructor(T){super();this.#T=T,this.#R={};for(let R of I9)this.#R[R]=()=>{let A=this.#T.listeners(R),{count:q}=this.#A,_=T;if(typeof _.__signal_exit_emitter__==="object"&&typeof _.__signal_exit_emitter__.count==="number")q+=_.__signal_exit_emitter__.count;if(A.length===q){this.unload();let h=this.#A.emit("exit",null,R),B=R==="SIGHUP"?this.#q:R;if(!h)T.kill(T.pid,B)}};this.#J=T.reallyExit,this.#h=T.emit}onExit(T,R){if(!oq(this.#T))return()=>{};if(this.#B===!1)this.load();let A=R?.alwaysLast?"afterExit":"exit";return this.#A.on(A,T),()=>{if(this.#A.removeListener(A,T),this.#A.listeners.exit.length===0&&this.#A.listeners.afterExit.length===0)this.unload()}}load(){if(this.#B)return;this.#B=!0,this.#A.count+=1;for(let T of I9)try{let R=this.#R[T];if(R)this.#T.on(T,R)}catch(R){}this.#T.emit=(T,...R)=>{return this.#i(T,...R)},this.#T.reallyExit=(T)=>{return this.#_(T)}}unload(){if(!this.#B)return;this.#B=!1,I9.forEach((T)=>{let R=this.#R[T];if(!R)throw new Error("Listener not defined for signal: "+T);try{this.#T.removeListener(T,R)}catch(A){}}),this.#T.emit=this.#h,this.#T.reallyExit=this.#J,this.#A.count-=1}#_(T){if(!oq(this.#T))return 0;return this.#T.exitCode=T||0,this.#A.emit("exit",this.#T.exitCode,null),this.#J.call(this.#T,this.#T.exitCode)}#i(T,...R){let A=this.#h;if(T==="exit"&&oq(this.#T)){if(typeof R[0]==="number")this.#T.exitCode=R[0];let q=A.call(this.#T,T,...R);return this.#A.emit("exit",this.#T.exitCode,null),q}else return A.call(this.#T,T,...R)}}var _C=globalThis.process,{onExit:dq,load:Kg,unload:Gg}=W2(oq(_C)?new N6(_C):new Q6);var G6=ET(Vq(),1),mR=ET(pq(),1);var a6=(T)=>T.split(`
`).length,i2=(T)=>T.split(`
`).pop()??"";function K6(T){return T>0?mR.default.cursorDown(T):""}class nq{rl;height=0;extraLinesUnderPrompt=0;cursorPos;constructor(T){this.rl=T,this.rl=T,this.cursorPos=T.getCursorPos()}write(T){this.rl.output.unmute(),this.rl.output.write(T),this.rl.output.mute()}render(T,R=""){let A=i2(T),q=G6.default(A),_=q;if(this.rl.line.length>0)_=_.slice(0,-this.rl.line.length);this.rl.setPrompt(_),this.cursorPos=this.rl.getCursorPos();let h=lq();if(T=ZA(T,h),R=ZA(R,h),q.length%h===0)T+=`
`;let B=T+(R?`
`+R:""),O=Math.floor(q.length/h)-this.cursorPos.rows+(R?a6(R):0);if(O>0)B+=mR.default.cursorUp(O);B+=mR.default.cursorTo(this.cursorPos.cols),this.write(K6(this.extraLinesUnderPrompt)+mR.default.eraseLines(this.height)+B),this.extraLinesUnderPrompt=O,this.height=a6(B)}checkCursorPos(){let T=this.rl.getCursorPos();if(T.cols!==this.cursorPos.cols)this.write(mR.default.cursorTo(T.cols)),this.cursorPos=T}done({clearContent:T}){this.rl.setPrompt("");let R=K6(this.extraLinesUnderPrompt);R+=T?mR.default.eraseLines(this.height):`
`,R+=mR.default.cursorShow,this.write(R),this.rl.close()}}class CC extends Promise{static withResolver(){let T,R;return{promise:new Promise((q,_)=>{T=q,R=_}),resolve:T,reject:R}}}function $2(){let T=Error.prepareStackTrace;try{let R=[];return Error.prepareStackTrace=(A,q)=>{let _=q.slice(1);return R=_,_},new Error().stack,R}finally{Error.prepareStackTrace=T}}function kR(T){let A=$2()[1]?.getFileName?.();return(_,h={})=>{let{input:B=process.stdin,signal:C}=h,O=new Set,D=new L6.default;D.pipe(h.output??process.stdout);let W=g6.createInterface({terminal:!0,input:B,output:D}),H=new nq(W),{promise:J,resolve:i,reject:y}=CC.withResolver(),$=()=>y(new mB);if(C){let j=()=>y(new vB({cause:C.reason}));if(C.aborted)return j(),Object.assign(J,{cancel:$});C.addEventListener("abort",j),O.add(()=>C.removeEventListener("abort",j))}O.add(dq((j,b)=>{y(new lB(`User force closed the prompt with ${j} ${b}`))}));let E=()=>H.checkCursorPos();return W.input.on("keypress",E),O.add(()=>W.input.removeListener("keypress",E)),xH(W,(j)=>{let b=y2.bind(()=>i9.clearAll());return W.on("close",b),O.add(()=>W.removeListener("close",b)),j(()=>{try{let Q=T(_,(g)=>{setImmediate(()=>i(g))});if(Q===void 0)throw new Error(`Prompt functions must return a string.
    at ${A}`);let[I,N]=typeof Q==="string"?[Q]:Q;H.render(I,N),i9.run()}catch(Q){y(Q)}}),Object.assign(J.then((Q)=>{return i9.clearAll(),Q},(Q)=>{throw i9.clearAll(),Q}).finally(()=>{O.forEach((Q)=>Q()),H.done({clearContent:Boolean(h.clearPromptOnDone)}),D.end()}).then(()=>J),{cancel:$})})}}var x6=ET(fA(),1);class wT{separator=x6.default.dim(Array.from({length:15}).join(qR.line));type="separator";constructor(T){if(T)this.separator=T}static isSeparator(T){return Boolean(T&&typeof T==="object"&&"type"in T&&T.type==="separator")}}var sq=ET(fA(),1);var f6=ET(pq(),1);var I2={icon:{checked:sq.default.green(qR.circleFilled),unchecked:qR.circle,cursor:qR.pointer},style:{disabledChoice:(T)=>sq.default.dim(`- ${T}`),renderSelectedChoices:(T)=>T.map((R)=>R.short).join(", "),description:(T)=>sq.default.cyan(T)},helpMode:"auto"};function lR(T){return!wT.isSeparator(T)&&!T.disabled}function DC(T){return lR(T)&&Boolean(T.checked)}function OC(T){return lR(T)?{...T,checked:!T.checked}:T}function E2(T){return function(R){return lR(R)?{...R,checked:T}:R}}function F2(T){return T.map((R)=>{if(wT.isSeparator(R))return R;if(typeof R==="string")return{value:R,name:R,short:R,disabled:!1,checked:!1};let A=R.name??String(R.value);return{value:R.value,name:A,short:R.short??A,description:R.description,disabled:R.disabled??!1,checked:R.checked??!1}})}var SA=kR((T,R)=>{let{instructions:A,pageSize:q=7,loop:_=!0,required:h,validate:B=()=>!0}=T,C=rT(I2,T.theme),O=_R(!0),[D,W]=DT("idle"),H=QR({status:D,theme:C}),[J,i]=DT(F2(T.choices)),y=$9(()=>{let S=J.findIndex(lR),o=J.findLastIndex(lR);if(S===-1)throw new H9("[checkbox prompt] No selectable choices. All choices are disabled.");return{first:S,last:o}},[J]),[$,E]=DT(y.first),[j,b]=DT(!0),[Q,I]=DT();NR(async(S)=>{if(vR(S)){let o=J.filter(DC),RT=await B([...o]);if(h&&!J.some(DC))I("At least one choice must be selected");else if(RT===!0)W("done"),R(o.map((CR)=>CR.value));else I(RT||"You must select a valid value")}else if(VR(S)||m9(S)){if(_||VR(S)&&$!==y.first||m9(S)&&$!==y.last){let o=VR(S)?-1:1,RT=$;do RT=(RT+o+J.length)%J.length;while(!lR(J[RT]));E(RT)}}else if(gH(S))I(void 0),b(!1),i(J.map((o,RT)=>RT===$?OC(o):o));else if(S.name==="a"){let o=J.some((RT)=>lR(RT)&&!RT.checked);i(J.map(E2(o)))}else if(S.name==="i")i(J.map(OC));else if(wq(S)){let o=Number(S.name)-1,RT=J[o];if(RT!=null&&lR(RT))E(o),i(J.map((CR,DR)=>DR===o?OC(CR):CR))}});let N=C.style.message(T.message,D),g,z=UA({items:J,active:$,renderItem({item:S,isActive:o}){if(wT.isSeparator(S))return` ${S.separator}`;if(S.disabled){let xR=typeof S.disabled==="string"?S.disabled:"(disabled)";return C.style.disabledChoice(`${S.name} ${xR}`)}if(o)g=S.description;let RT=S.checked?C.icon.checked:C.icon.unchecked,CR=o?C.style.highlight:(xR)=>xR,DR=o?C.icon.cursor:" ";return CR(`${DR}${RT} ${S.name}`)},pageSize:q,loop:_});if(D==="done"){let S=J.filter(DC),o=C.style.answer(C.style.renderSelectedChoices(S,J));return`${H} ${N} ${o}`}let M="",HT="";if(C.helpMode==="always"||C.helpMode==="auto"&&j&&(A===void 0||A)){if(typeof A==="string")M=A;else M=` (Press ${[`${C.style.key("space")} to select`,`${C.style.key("a")} to toggle all`,`${C.style.key("i")} to invert selection`,`and ${C.style.key("enter")} to proceed`].join(", ")})`;if(J.length>q&&(C.helpMode==="always"||C.helpMode==="auto"&&O.current))HT=`
${C.style.help("(Use arrow keys to reveal more choices)")}`,O.current=!1}let LR=g?`
${C.style.description(g)}`:"",v="";if(Q)v=`
${C.style.error(Q)}`;return`${H} ${N}${M}
${z}${HT}${LR}${v}${f6.default.cursorHide}`});function z6(T,R){let A=R!==!1;if(/^(y|yes)/i.test(T))A=!0;else if(/^(n|no)/i.test(T))A=!1;return A}function X6(T){return T?"Yes":"No"}var cA=kR((T,R)=>{let{transformer:A=X6}=T,[q,_]=DT("idle"),[h,B]=DT(""),C=rT(T.theme),O=QR({status:q,theme:C});NR((J,i)=>{if(vR(J)){let y=z6(h,T.default);B(A(y)),_("done"),R(y)}else if(J.name==="tab"){let y=X6(!z6(h,T.default));i.clearLine(0),i.write(y),B(y)}else B(i.line)});let D=h,W="";if(q==="done")D=C.style.answer(h);else W=` ${C.style.defaultAnswer(T.default===!1?"y/N":"Y/n")}`;let H=C.style.message(T.message,q);return`${O} ${H}${W} ${D}`});var j2={validationFailureMode:"keep"},XT=kR((T,R)=>{let{required:A,validate:q=()=>!0}=T,_=rT(j2,T.theme),[h,B]=DT("idle"),[C="",O]=DT(T.default),[D,W]=DT(),[H,J]=DT(""),i=QR({status:h,theme:_});NR(async(b,Q)=>{if(h!=="idle")return;if(vR(b)){let I=H||C;B("loading");let N=A&&!I?"You must provide a value":await q(I);if(N===!0)J(I),B("done"),R(I);else{if(_.validationFailureMode==="clear")J("");else Q.write(H);W(N||"You must provide a valid value"),B("idle")}}else if(Yq(b)&&!H)O(void 0);else if(b.name==="tab"&&!H)O(void 0),Q.clearLine(0),Q.write(C),J(C);else J(Q.line),W(void 0)});let y=_.style.message(T.message,h),$=H;if(typeof T.transformer==="function")$=T.transformer(H,{isFinal:h==="done"});else if(h==="done")$=_.style.answer(H);let E;if(C&&h!=="done"&&!H)E=_.style.defaultAnswer(C);let j="";if(D)j=_.style.error(D);return[[i,y,E,$].filter((b)=>b!==void 0).join(" "),j]});var WC=ET(fA(),1);var Z6=ET(pq(),1);var b2={icon:{cursor:qR.pointer},style:{disabled:(T)=>WC.default.dim(`- ${T}`),description:(T)=>WC.default.cyan(T)},helpMode:"auto"};function n9(T){return!wT.isSeparator(T)&&!T.disabled}function u2(T){return T.map((R)=>{if(wT.isSeparator(R))return R;if(typeof R==="string")return{value:R,name:R,short:R,disabled:!1};let A=R.name??String(R.value);return{value:R.value,name:A,description:R.description,short:R.short??A,disabled:R.disabled??!1}})}var aR=kR((T,R)=>{let{loop:A=!0,pageSize:q=7}=T,_=_R(!0),h=rT(b2,T.theme),[B,C]=DT("idle"),O=QR({status:B,theme:h}),D=_R(),W=$9(()=>u2(T.choices),[T.choices]),H=$9(()=>{let N=W.findIndex(n9),g=W.findLastIndex(n9);if(N===-1)throw new H9("[select prompt] No selectable choices. All choices are disabled.");return{first:N,last:g}},[W]),J=$9(()=>{if(!("default"in T))return-1;return W.findIndex((N)=>n9(N)&&N.value===T.default)},[T.default,W]),[i,y]=DT(J===-1?H.first:J),$=W[i];NR((N,g)=>{if(clearTimeout(D.current),vR(N))C("done"),R($.value);else if(VR(N)||m9(N)){if(g.clearLine(0),A||VR(N)&&i!==H.first||m9(N)&&i!==H.last){let z=VR(N)?-1:1,M=i;do M=(M+z+W.length)%W.length;while(!n9(W[M]));y(M)}}else if(wq(N)){g.clearLine(0);let z=Number(N.name)-1,M=W[z];if(M!=null&&n9(M))y(z)}else if(Yq(N))g.clearLine(0);else{let z=g.line.toLowerCase(),M=W.findIndex((HT)=>{if(wT.isSeparator(HT)||!n9(HT))return!1;return HT.name.toLowerCase().startsWith(z)});if(M!==-1)y(M);D.current=setTimeout(()=>{g.clearLine(0)},700)}}),y9(()=>()=>{clearTimeout(D.current)},[]);let E=h.style.message(T.message,B),j="",b="";if(h.helpMode==="always"||h.helpMode==="auto"&&_.current)if(_.current=!1,W.length>q)b=`
${h.style.help("(Use arrow keys to reveal more choices)")}`;else j=h.style.help("(Use arrow keys)");let Q=UA({items:W,active:i,renderItem({item:N,isActive:g}){if(wT.isSeparator(N))return` ${N.separator}`;if(N.disabled){let HT=typeof N.disabled==="string"?N.disabled:"(disabled)";return h.style.disabled(`${N.name} ${HT}`)}let z=g?h.style.highlight:(HT)=>HT,M=g?h.icon.cursor:" ";return z(`${M} ${N.name}`)},pageSize:q,loop:A});if(B==="done")return`${O} ${E} ${h.style.answer($.short)}`;let I=$.description?`
${h.style.description($.description)}`:"";return`${[O,E,j].filter(Boolean).join(" ")}
${Q}${b}${I}${Z6.default.cursorHide}`});var HC=Symbol("singleComment"),U6=Symbol("multiComment"),Q2=()=>"",N2=(T,R,A)=>T.slice(R,A).replace(/\S/g," "),k2=(T,R)=>{let A=R-1,q=0;while(T[A]==="\\")A-=1,q+=1;return Boolean(q%2)};function PA(T,{whitespace:R=!0,trailingCommas:A=!1}={}){if(typeof T!=="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof T}\``);let q=R?N2:Q2,_=!1,h=!1,B=0,C="",O="",D=-1;for(let W=0;W<T.length;W++){let H=T[W],J=T[W+1];if(!h&&H==='"'){if(!k2(T,W))_=!_}if(_)continue;if(!h&&H+J==="//")C+=T.slice(B,W),B=W,h=HC,W++;else if(h===HC&&H+J===`\r
`){W++,h=!1,C+=q(T,B,W),B=W;continue}else if(h===HC&&H===`
`)h=!1,C+=q(T,B,W),B=W;else if(!h&&H+J==="/*"){C+=T.slice(B,W),B=W,h=U6,W++;continue}else if(h===U6&&H+J==="*/"){W++,h=!1,C+=q(T,B,W+1),B=W+1;continue}else if(A&&!h){if(D!==-1){if(H==="}"||H==="]")C+=T.slice(B,W),O+=q(C,0,1)+C.slice(1),C="",B=W,D=-1;else if(H!==" "&&H!=="\t"&&H!=="\r"&&H!==`
`)C+=T.slice(B,W),B=W,D=-1}else if(H===",")O+=C+T.slice(B,W),C="",B=W,D=W}}return O+C+(h?q(T.slice(B)):T.slice(B))}async function c6(){if(!yT.doesConfigExist())hT("Configuration file justd.json not found. Please run the init command first.");let R=await yT.loadConfig();if(s9.existsSync(R.css)){if(await cA({message:`The specified CSS path '${R.css}' exists. Do you want to use this path?`}))return R.css}else console.warn(`The specified CSS path '${R.css}' does not exist.`);let A=await XT({message:"Please provide a CSS path:",default:W9()});return await yT.updateConfig({css:A}),A}async function P6(T){let A=(T==="typescript"?[eq.join(process.cwd(),"tsconfig.app.json"),eq.join(process.cwd(),"tsconfig.json")]:[eq.join(process.cwd(),"jsconfig.json")]).find((q)=>s9.existsSync(q));if(!A)console.error(T==="typescript"?"Neither tsconfig.app.json nor tsconfig.json was found.":"jsconfig.json was not found."),process.exit(1);try{let q=s9.readFileSync(A,"utf8"),_=PA(q),h=JSON.parse(_);if(!h.compilerOptions)h.compilerOptions={};if(!h.compilerOptions.paths)h.compilerOptions.paths={};let B=T==="typescript"?"ts":"js";h.compilerOptions.paths.ui=[`./${V9()}/ui/index.${B}`],s9.writeFileSync(A,JSON.stringify(h,null,2))}catch(q){hT(`Error updating ${eq.basename(A)}:`,q?.message),process.exit(1)}}var KR=async(T,R)=>{let A=/import\s*{.*}\s*from\s*['"]@\/(.*)['"]/g,q=R.content.replace(A,(h)=>{return h.replace("@/",`${T.alias}/`)});if(!uT())q=q.replace(/['"]use client['"]\s*\n?/g,"");let _;if(wR())_=T.utils.replace(/^resources\/js\//,"");else if(FT("src"))_=T.utils.replace(/^src\//,"");else _=T.utils;if(q=q.replace(/@\/utils\/classes/g,`@/${_}/classes`),T.language==="javascript"){let h=await Promise.resolve().then(() => ET(S6(),1)),{code:B}=h.transform(R.ogFilename,q,{sourcemap:!1,jsx:"preserve"});s9.writeFileSync(R.writePath.replace(".ts",".js"),B,{flag:"w"});return}s9.writeFileSync(R.writePath,q)};import B_ from"node:process";var Y6=(T=0)=>(R)=>`\x1B[${R+T}m`,w6=(T=0)=>(R)=>`\x1B[${38+T};5;${R}m`,V6=(T=0)=>(R,A,q)=>`\x1B[${38+T};2;${R};${A};${q}m`,CT={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},aL=Object.keys(CT.modifier),S2=Object.keys(CT.color),c2=Object.keys(CT.bgColor),KL=[...S2,...c2];function P2(){let T=new Map;for(let[R,A]of Object.entries(CT)){for(let[q,_]of Object.entries(A))CT[q]={open:`\x1B[${_[0]}m`,close:`\x1B[${_[1]}m`},A[q]=CT[q],T.set(_[0],_[1]);Object.defineProperty(CT,R,{value:A,enumerable:!1})}return Object.defineProperty(CT,"codes",{value:T,enumerable:!1}),CT.color.close="\x1B[39m",CT.bgColor.close="\x1B[49m",CT.color.ansi=Y6(),CT.color.ansi256=w6(),CT.color.ansi16m=V6(),CT.bgColor.ansi=Y6(10),CT.bgColor.ansi256=w6(10),CT.bgColor.ansi16m=V6(10),Object.defineProperties(CT,{rgbToAnsi256:{value(R,A,q){if(R===A&&A===q){if(R<8)return 16;if(R>248)return 231;return Math.round((R-8)/247*24)+232}return 16+36*Math.round(R/255*5)+6*Math.round(A/255*5)+Math.round(q/255*5)},enumerable:!1},hexToRgb:{value(R){let A=/[a-f\d]{6}|[a-f\d]{3}/i.exec(R.toString(16));if(!A)return[0,0,0];let[q]=A;if(q.length===3)q=[...q].map((h)=>h+h).join("");let _=Number.parseInt(q,16);return[_>>16&255,_>>8&255,_&255]},enumerable:!1},hexToAnsi256:{value:(R)=>CT.rgbToAnsi256(...CT.hexToRgb(R)),enumerable:!1},ansi256ToAnsi:{value(R){if(R<8)return 30+R;if(R<16)return 90+(R-8);let A,q,_;if(R>=232)A=((R-232)*10+8)/255,q=A,_=A;else{R-=16;let C=R%36;A=Math.floor(R/36)/5,q=Math.floor(C/6)/5,_=C%6/5}let h=Math.max(A,q,_)*2;if(h===0)return 30;let B=30+(Math.round(_)<<2|Math.round(q)<<1|Math.round(A));if(h===2)B+=60;return B},enumerable:!1},rgbToAnsi:{value:(R,A,q)=>CT.ansi256ToAnsi(CT.rgbToAnsi256(R,A,q)),enumerable:!1},hexToAnsi:{value:(R)=>CT.ansi256ToAnsi(CT.hexToAnsi256(R)),enumerable:!1}}),CT}var Y2=P2(),pT=Y2;import JC from"node:process";import w2 from"node:os";import v6 from"node:tty";function VT(T,R=globalThis.Deno?globalThis.Deno.args:JC.argv){let A=T.startsWith("-")?"":T.length===1?"-":"--",q=R.indexOf(A+T),_=R.indexOf("--");return q!==-1&&(_===-1||q<_)}var{env:OT}=JC,T_;if(VT("no-color")||VT("no-colors")||VT("color=false")||VT("color=never"))T_=0;else if(VT("color")||VT("colors")||VT("color=true")||VT("color=always"))T_=1;function V2(){if("FORCE_COLOR"in OT){if(OT.FORCE_COLOR==="true")return 1;if(OT.FORCE_COLOR==="false")return 0;return OT.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(OT.FORCE_COLOR,10),3)}}function v2(T){if(T===0)return!1;return{level:T,hasBasic:!0,has256:T>=2,has16m:T>=3}}function m2(T,{streamIsTTY:R,sniffFlags:A=!0}={}){let q=V2();if(q!==void 0)T_=q;let _=A?T_:q;if(_===0)return 0;if(A){if(VT("color=16m")||VT("color=full")||VT("color=truecolor"))return 3;if(VT("color=256"))return 2}if("TF_BUILD"in OT&&"AGENT_NAME"in OT)return 1;if(T&&!R&&_===void 0)return 0;let h=_||0;if(OT.TERM==="dumb")return h;if(JC.platform==="win32"){let B=w2.release().split(".");if(Number(B[0])>=10&&Number(B[2])>=10586)return Number(B[2])>=14931?3:2;return 1}if("CI"in OT){if(["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some((B)=>(B in OT)))return 3;if(["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((B)=>(B in OT))||OT.CI_NAME==="codeship")return 1;return h}if("TEAMCITY_VERSION"in OT)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(OT.TEAMCITY_VERSION)?1:0;if(OT.COLORTERM==="truecolor")return 3;if(OT.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in OT){let B=Number.parseInt((OT.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(OT.TERM_PROGRAM){case"iTerm.app":return B>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(OT.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(OT.TERM))return 1;if("COLORTERM"in OT)return 1;return h}function m6(T,R={}){let A=m2(T,{streamIsTTY:T&&T.isTTY,...R});return v2(A)}var l2={stdout:m6({isTTY:v6.isatty(1)}),stderr:m6({isTTY:v6.isatty(2)})},l6=l2;function o6(T,R,A){let q=T.indexOf(R);if(q===-1)return T;let _=R.length,h=0,B="";do B+=T.slice(h,q)+R+A,h=q+_,q=T.indexOf(R,h);while(q!==-1);return B+=T.slice(h),B}function d6(T,R,A,q){let _=0,h="";do{let B=T[q-1]==="\r";h+=T.slice(_,B?q-1:q)+R+(B?`\r
`:`
`)+A,_=q+1,q=T.indexOf(`
`,_)}while(q!==-1);return h+=T.slice(_),h}var{stdout:r6,stderr:p6}=l6,iC=Symbol("GENERATOR"),t9=Symbol("STYLER"),wA=Symbol("IS_EMPTY"),n6=["ansi","ansi","ansi256","ansi16m"],e9=Object.create(null),o2=(T,R={})=>{if(R.level&&!(Number.isInteger(R.level)&&R.level>=0&&R.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let A=r6?r6.level:0;T.level=R.level===void 0?A:R.level};var d2=(T)=>{let R=(...A)=>A.join(" ");return o2(R,T),Object.setPrototypeOf(R,VA.prototype),R};function VA(T){return d2(T)}Object.setPrototypeOf(VA.prototype,Function.prototype);for(let[T,R]of Object.entries(pT))e9[T]={get(){let A=R_(this,$C(R.open,R.close,this[t9]),this[wA]);return Object.defineProperty(this,T,{value:A}),A}};e9.visible={get(){let T=R_(this,this[t9],!0);return Object.defineProperty(this,"visible",{value:T}),T}};var yC=(T,R,A,...q)=>{if(T==="rgb"){if(R==="ansi16m")return pT[A].ansi16m(...q);if(R==="ansi256")return pT[A].ansi256(pT.rgbToAnsi256(...q));return pT[A].ansi(pT.rgbToAnsi(...q))}if(T==="hex")return yC("rgb",R,A,...pT.hexToRgb(...q));return pT[A][T](...q)},r2=["rgb","hex","ansi256"];for(let T of r2){e9[T]={get(){let{level:A}=this;return function(...q){let _=$C(yC(T,n6[A],"color",...q),pT.color.close,this[t9]);return R_(this,_,this[wA])}}};let R="bg"+T[0].toUpperCase()+T.slice(1);e9[R]={get(){let{level:A}=this;return function(...q){let _=$C(yC(T,n6[A],"bgColor",...q),pT.bgColor.close,this[t9]);return R_(this,_,this[wA])}}}}var p2=Object.defineProperties(()=>{},{...e9,level:{enumerable:!0,get(){return this[iC].level},set(T){this[iC].level=T}}}),$C=(T,R,A)=>{let q,_;if(A===void 0)q=T,_=R;else q=A.openAll+T,_=R+A.closeAll;return{open:T,close:R,openAll:q,closeAll:_,parent:A}},R_=(T,R,A)=>{let q=(..._)=>n2(q,_.length===1?""+_[0]:_.join(" "));return Object.setPrototypeOf(q,p2),q[iC]=T,q[t9]=R,q[wA]=A,q},n2=(T,R)=>{if(T.level<=0||!R)return T[wA]?"":R;let A=T[t9];if(A===void 0)return R;let{openAll:q,closeAll:_}=A;if(R.includes("\x1B"))while(A!==void 0)R=o6(R,A.close,A.open),A=A.parent;let h=R.indexOf(`
`);if(h!==-1)R=d6(R,_,q,h);return q+R+_};Object.defineProperties(VA.prototype,e9);var s2=VA(),ML=VA({level:p6?p6.level:0});var $T=s2;import R7 from"node:process";import q_ from"node:process";var t2=(T,R,A,q)=>{if(A==="length"||A==="prototype")return;if(A==="arguments"||A==="caller")return;let _=Object.getOwnPropertyDescriptor(T,A),h=Object.getOwnPropertyDescriptor(R,A);if(!e2(_,h)&&q)return;Object.defineProperty(T,A,h)},e2=function(T,R){return T===void 0||T.configurable||T.writable===R.writable&&T.enumerable===R.enumerable&&T.configurable===R.configurable&&(T.writable||T.value===R.value)},T1=(T,R)=>{let A=Object.getPrototypeOf(R);if(A===Object.getPrototypeOf(T))return;Object.setPrototypeOf(T,A)},R1=(T,R)=>`/* Wrapped ${T}*/
${R}`,A1=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),q1=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),_1=(T,R,A)=>{let q=A===""?"":`with ${A.trim()}() `,_=R1.bind(null,q,R.toString());Object.defineProperty(_,"name",q1);let{writable:h,enumerable:B,configurable:C}=A1;Object.defineProperty(T,"toString",{value:_,writable:h,enumerable:B,configurable:C})};function IC(T,R,{ignoreNonConfigurable:A=!1}={}){let{name:q}=T;for(let _ of Reflect.ownKeys(R))t2(T,R,_,A);return T1(T,R),_1(T,R,q),T}var A_=new WeakMap,s6=(T,R={})=>{if(typeof T!=="function")throw new TypeError("Expected a function");let A,q=0,_=T.displayName||T.name||"<anonymous>",h=function(...B){if(A_.set(h,++q),q===1)A=T.apply(this,B),T=void 0;else if(R.throw===!0)throw new Error(`Function \`${_}\` can only be called once`);return A};return IC(h,T),A_.set(h,q),h};s6.callCount=(T)=>{if(!A_.has(T))throw new Error(`The given function \`${T.name}\` is not wrapped by the \`onetime\` package`);return A_.get(T)};var t6=s6;var e6=q_.stderr.isTTY?q_.stderr:q_.stdout.isTTY?q_.stdout:void 0,h1=e6?t6(()=>{dq(()=>{e6.write("\x1B[?25h")},{alwaysLast:!0})}):()=>{},T7=h1;var __=!1,TA={};TA.show=(T=R7.stderr)=>{if(!T.isTTY)return;__=!1,T.write("\x1B[?25h")};TA.hide=(T=R7.stderr)=>{if(!T.isTTY)return;T7(),__=!0,T.write("\x1B[?25l")};TA.toggle=(T,R)=>{if(T!==void 0)__=T;if(__)TA.show(R);else TA.hide(R)};var EC=TA;var lA=ET(FC(),1);import nT from"node:process";function jC(){if(nT.platform!=="win32")return nT.env.TERM!=="linux";return Boolean(nT.env.CI)||Boolean(nT.env.WT_SESSION)||Boolean(nT.env.TERMINUS_SUBLIME)||nT.env.ConEmuTask==="{cmd::Cmder}"||nT.env.TERM_PROGRAM==="Terminus-Sublime"||nT.env.TERM_PROGRAM==="vscode"||nT.env.TERM==="xterm-256color"||nT.env.TERM==="alacritty"||nT.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var C1={info:$T.blue(""),success:$T.green(""),warning:$T.yellow(""),error:$T.red("")},D1={info:$T.blue("i"),success:$T.green(""),warning:$T.yellow(""),error:$T.red("")},O1=jC()?C1:D1,vA=O1;function bC({onlyFirst:T=!1}={}){let A=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(A,T?void 0:"g")}var W1=bC();function mA(T){if(typeof T!=="string")throw new TypeError(`Expected a \`string\`, got \`${typeof T}\``);return T.replace(W1,"")}function h7(T){return T===161||T===164||T===167||T===168||T===170||T===173||T===174||T>=176&&T<=180||T>=182&&T<=186||T>=188&&T<=191||T===198||T===208||T===215||T===216||T>=222&&T<=225||T===230||T>=232&&T<=234||T===236||T===237||T===240||T===242||T===243||T>=247&&T<=250||T===252||T===254||T===257||T===273||T===275||T===283||T===294||T===295||T===299||T>=305&&T<=307||T===312||T>=319&&T<=322||T===324||T>=328&&T<=331||T===333||T===338||T===339||T===358||T===359||T===363||T===462||T===464||T===466||T===468||T===470||T===472||T===474||T===476||T===593||T===609||T===708||T===711||T>=713&&T<=715||T===717||T===720||T>=728&&T<=731||T===733||T===735||T>=768&&T<=879||T>=913&&T<=929||T>=931&&T<=937||T>=945&&T<=961||T>=963&&T<=969||T===1025||T>=1040&&T<=1103||T===1105||T===8208||T>=8211&&T<=8214||T===8216||T===8217||T===8220||T===8221||T>=8224&&T<=8226||T>=8228&&T<=8231||T===8240||T===8242||T===8243||T===8245||T===8251||T===8254||T===8308||T===8319||T>=8321&&T<=8324||T===8364||T===8451||T===8453||T===8457||T===8467||T===8470||T===8481||T===8482||T===8486||T===8491||T===8531||T===8532||T>=8539&&T<=8542||T>=8544&&T<=8555||T>=8560&&T<=8569||T===8585||T>=8592&&T<=8601||T===8632||T===8633||T===8658||T===8660||T===8679||T===8704||T===8706||T===8707||T===8711||T===8712||T===8715||T===8719||T===8721||T===8725||T===8730||T>=8733&&T<=8736||T===8739||T===8741||T>=8743&&T<=8748||T===8750||T>=8756&&T<=8759||T===8764||T===8765||T===8776||T===8780||T===8786||T===8800||T===8801||T>=8804&&T<=8807||T===8810||T===8811||T===8814||T===8815||T===8834||T===8835||T===8838||T===8839||T===8853||T===8857||T===8869||T===8895||T===8978||T>=9312&&T<=9449||T>=9451&&T<=9547||T>=9552&&T<=9587||T>=9600&&T<=9615||T>=9618&&T<=9621||T===9632||T===9633||T>=9635&&T<=9641||T===9650||T===9651||T===9654||T===9655||T===9660||T===9661||T===9664||T===9665||T>=9670&&T<=9672||T===9675||T>=9678&&T<=9681||T>=9698&&T<=9701||T===9711||T===9733||T===9734||T===9737||T===9742||T===9743||T===9756||T===9758||T===9792||T===9794||T===9824||T===9825||T>=9827&&T<=9829||T>=9831&&T<=9834||T===9836||T===9837||T===9839||T===9886||T===9887||T===9919||T>=9926&&T<=9933||T>=9935&&T<=9939||T>=9941&&T<=9953||T===9955||T===9960||T===9961||T>=9963&&T<=9969||T===9972||T>=9974&&T<=9977||T===9979||T===9980||T===9982||T===9983||T===10045||T>=10102&&T<=10111||T>=11094&&T<=11097||T>=12872&&T<=12879||T>=57344&&T<=63743||T>=65024&&T<=65039||T===65533||T>=127232&&T<=127242||T>=127248&&T<=127277||T>=127280&&T<=127337||T>=127344&&T<=127373||T===127375||T===127376||T>=127387&&T<=127404||T>=917760&&T<=917999||T>=983040&&T<=1048573||T>=1048576&&T<=1114109}function B7(T){return T===12288||T>=65281&&T<=65376||T>=65504&&T<=65510}function C7(T){return T>=4352&&T<=4447||T===8986||T===8987||T===9001||T===9002||T>=9193&&T<=9196||T===9200||T===9203||T===9725||T===9726||T===9748||T===9749||T>=9776&&T<=9783||T>=9800&&T<=9811||T===9855||T>=9866&&T<=9871||T===9875||T===9889||T===9898||T===9899||T===9917||T===9918||T===9924||T===9925||T===9934||T===9940||T===9962||T===9970||T===9971||T===9973||T===9978||T===9981||T===9989||T===9994||T===9995||T===10024||T===10060||T===10062||T>=10067&&T<=10069||T===10071||T>=10133&&T<=10135||T===10160||T===10175||T===11035||T===11036||T===11088||T===11093||T>=11904&&T<=11929||T>=11931&&T<=12019||T>=12032&&T<=12245||T>=12272&&T<=12287||T>=12289&&T<=12350||T>=12353&&T<=12438||T>=12441&&T<=12543||T>=12549&&T<=12591||T>=12593&&T<=12686||T>=12688&&T<=12773||T>=12783&&T<=12830||T>=12832&&T<=12871||T>=12880&&T<=42124||T>=42128&&T<=42182||T>=43360&&T<=43388||T>=44032&&T<=55203||T>=63744&&T<=64255||T>=65040&&T<=65049||T>=65072&&T<=65106||T>=65108&&T<=65126||T>=65128&&T<=65131||T>=94176&&T<=94180||T===94192||T===94193||T>=94208&&T<=100343||T>=100352&&T<=101589||T>=101631&&T<=101640||T>=110576&&T<=110579||T>=110581&&T<=110587||T===110589||T===110590||T>=110592&&T<=110882||T===110898||T>=110928&&T<=110930||T===110933||T>=110948&&T<=110951||T>=110960&&T<=111355||T>=119552&&T<=119638||T>=119648&&T<=119670||T===126980||T===127183||T===127374||T>=127377&&T<=127386||T>=127488&&T<=127490||T>=127504&&T<=127547||T>=127552&&T<=127560||T===127568||T===127569||T>=127584&&T<=127589||T>=127744&&T<=127776||T>=127789&&T<=127797||T>=127799&&T<=127868||T>=127870&&T<=127891||T>=127904&&T<=127946||T>=127951&&T<=127955||T>=127968&&T<=127984||T===127988||T>=127992&&T<=128062||T===128064||T>=128066&&T<=128252||T>=128255&&T<=128317||T>=128331&&T<=128334||T>=128336&&T<=128359||T===128378||T===128405||T===128406||T===128420||T>=128507&&T<=128591||T>=128640&&T<=128709||T===128716||T>=128720&&T<=128722||T>=128725&&T<=128727||T>=128732&&T<=128735||T===128747||T===128748||T>=128756&&T<=128764||T>=128992&&T<=129003||T===129008||T>=129292&&T<=129338||T>=129340&&T<=129349||T>=129351&&T<=129535||T>=129648&&T<=129660||T>=129664&&T<=129673||T>=129679&&T<=129734||T>=129742&&T<=129756||T>=129759&&T<=129769||T>=129776&&T<=129784||T>=131072&&T<=196605||T>=196608&&T<=262141}function H1(T){if(!Number.isSafeInteger(T))throw new TypeError(`Expected a code point, got \`${typeof T}\`.`)}function D7(T,{ambiguousAsWide:R=!1}={}){if(H1(T),B7(T)||C7(T)||R&&h7(T))return 2;return 1}var H7=ET(W7(),1),J1=new Intl.Segmenter,i1=/^\p{Default_Ignorable_Code_Point}$/u;function uC(T,R={}){if(typeof T!=="string"||T.length===0)return 0;let{ambiguousIsNarrow:A=!0,countAnsiEscapeCodes:q=!1}=R;if(!q)T=mA(T);if(T.length===0)return 0;let _=0,h={ambiguousAsWide:!A};for(let{segment:B}of J1.segment(T)){let C=B.codePointAt(0);if(C<=31||C>=127&&C<=159)continue;if(C>=8203&&C<=8207||C===65279)continue;if(C>=768&&C<=879||C>=6832&&C<=6911||C>=7616&&C<=7679||C>=8400&&C<=8447||C>=65056&&C<=65071)continue;if(C>=55296&&C<=57343)continue;if(C>=65024&&C<=65039)continue;if(i1.test(B))continue;if(H7.default().test(B)){_+=2;continue}_+=D7(C,h)}return _}function QC({stream:T=process.stdout}={}){return Boolean(T&&T.isTTY&&process.env.TERM!=="dumb"&&!("CI"in process.env))}import J7 from"node:process";function NC(){let{env:T}=J7,{TERM:R,TERM_PROGRAM:A}=T;if(J7.platform!=="win32")return R!=="linux";return Boolean(T.WT_SESSION)||Boolean(T.TERMINUS_SUBLIME)||T.ConEmuTask==="{cmd::Cmder}"||A==="Terminus-Sublime"||A==="vscode"||R==="xterm-256color"||R==="alacritty"||R==="rxvt-unicode"||R==="rxvt-unicode-256color"||T.TERMINAL_EMULATOR==="JetBrains-JediTerm"}import BR from"node:process";var y1=3;class i7{#q=0;start(){if(this.#q++,this.#q===1)this.#A()}stop(){if(this.#q<=0)throw new Error("`stop` called more times than `start`");if(this.#q--,this.#q===0)this.#T()}#A(){if(BR.platform==="win32"||!BR.stdin.isTTY)return;BR.stdin.setRawMode(!0),BR.stdin.on("data",this.#h),BR.stdin.resume()}#T(){if(!BR.stdin.isTTY)return;BR.stdin.off("data",this.#h),BR.stdin.pause(),BR.stdin.setRawMode(!1)}#h(T){if(T[0]===y1)BR.emit("SIGINT")}}var $1=new i7,kC=$1;var I1=ET(FC(),1);class y7{#q=0;#A=!1;#T=0;#h=-1;#J=0;#R;#B;#_;#i;#$;#O;#W;#H;#I;#C;#D;color;constructor(T){if(typeof T==="string")T={text:T};if(this.#R={color:"cyan",stream:B_.stderr,discardStdin:!0,hideCursor:!0,...T},this.color=this.#R.color,this.spinner=this.#R.spinner,this.#$=this.#R.interval,this.#_=this.#R.stream,this.#O=typeof this.#R.isEnabled==="boolean"?this.#R.isEnabled:QC({stream:this.#_}),this.#W=typeof this.#R.isSilent==="boolean"?this.#R.isSilent:!1,this.text=this.#R.text,this.prefixText=this.#R.prefixText,this.suffixText=this.#R.suffixText,this.indent=this.#R.indent,B_.env.NODE_ENV==="test")this._stream=this.#_,this._isEnabled=this.#O,Object.defineProperty(this,"_linesToClear",{get(){return this.#q},set(R){this.#q=R}}),Object.defineProperty(this,"_frameIndex",{get(){return this.#h}}),Object.defineProperty(this,"_lineCount",{get(){return this.#T}})}get indent(){return this.#H}set indent(T=0){if(!(T>=0&&Number.isInteger(T)))throw new Error("The `indent` option must be an integer from 0 and up");this.#H=T,this.#y()}get interval(){return this.#$??this.#B.interval??100}get spinner(){return this.#B}set spinner(T){if(this.#h=-1,this.#$=void 0,typeof T==="object"){if(T.frames===void 0)throw new Error("The given spinner must have a `frames` property");this.#B=T}else if(!NC())this.#B=lA.default.line;else if(T===void 0)this.#B=lA.default.dots;else if(T!=="default"&&lA.default[T])this.#B=lA.default[T];else throw new Error(`There is no built-in spinner named '${T}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return this.#I}set text(T=""){this.#I=T,this.#y()}get prefixText(){return this.#C}set prefixText(T=""){this.#C=T,this.#y()}get suffixText(){return this.#D}set suffixText(T=""){this.#D=T,this.#y()}get isSpinning(){return this.#i!==void 0}#E(T=this.#C,R=" "){if(typeof T==="string"&&T!=="")return T+R;if(typeof T==="function")return T()+R;return""}#F(T=this.#D,R=" "){if(typeof T==="string"&&T!=="")return R+T;if(typeof T==="function")return R+T();return""}#y(){let T=this.#_.columns??80,R=this.#E(this.#C,"-"),A=this.#F(this.#D,"-"),q=" ".repeat(this.#H)+R+"--"+this.#I+"--"+A;this.#T=0;for(let _ of mA(q).split(`
`))this.#T+=Math.max(1,Math.ceil(uC(_,{countAnsiEscapeCodes:!0})/T))}get isEnabled(){return this.#O&&!this.#W}set isEnabled(T){if(typeof T!=="boolean")throw new TypeError("The `isEnabled` option must be a boolean");this.#O=T}get isSilent(){return this.#W}set isSilent(T){if(typeof T!=="boolean")throw new TypeError("The `isSilent` option must be a boolean");this.#W=T}frame(){let T=Date.now();if(this.#h===-1||T-this.#J>=this.interval)this.#h=++this.#h%this.#B.frames.length,this.#J=T;let{frames:R}=this.#B,A=R[this.#h];if(this.color)A=$T[this.color](A);let q=typeof this.#C==="string"&&this.#C!==""?this.#C+" ":"",_=typeof this.text==="string"?" "+this.text:"",h=typeof this.#D==="string"&&this.#D!==""?" "+this.#D:"";return q+A+_+h}clear(){if(!this.#O||!this.#_.isTTY)return this;this.#_.cursorTo(0);for(let T=0;T<this.#q;T++){if(T>0)this.#_.moveCursor(0,-1);this.#_.clearLine(1)}if(this.#H||this.lastIndent!==this.#H)this.#_.cursorTo(this.#H);return this.lastIndent=this.#H,this.#q=0,this}render(){if(this.#W)return this;return this.clear(),this.#_.write(this.frame()),this.#q=this.#T,this}start(T){if(T)this.text=T;if(this.#W)return this;if(!this.#O){if(this.text)this.#_.write(`- ${this.text}
`);return this}if(this.isSpinning)return this;if(this.#R.hideCursor)EC.hide(this.#_);if(this.#R.discardStdin&&B_.stdin.isTTY)this.#A=!0,kC.start();return this.render(),this.#i=setInterval(this.render.bind(this),this.interval),this}stop(){if(!this.#O)return this;if(clearInterval(this.#i),this.#i=void 0,this.#h=0,this.clear(),this.#R.hideCursor)EC.show(this.#_);if(this.#R.discardStdin&&B_.stdin.isTTY&&this.#A)kC.stop(),this.#A=!1;return this}succeed(T){return this.stopAndPersist({symbol:vA.success,text:T})}fail(T){return this.stopAndPersist({symbol:vA.error,text:T})}warn(T){return this.stopAndPersist({symbol:vA.warning,text:T})}info(T){return this.stopAndPersist({symbol:vA.info,text:T})}stopAndPersist(T={}){if(this.#W)return this;let R=T.prefixText??this.#C,A=this.#E(R," "),q=T.symbol??" ",_=T.text??this.text,B=typeof _==="string"?(q?" ":"")+_:"",C=T.suffixText??this.#D,O=this.#F(C," "),D=A+q+B+O+`
`;return this.stop(),this.#_.write(D),this}}function ZT(T){return new y7(T)}var aC=["zinc","gray","slate","neutral","stone"];async function KC(T,R){let A=ZT("Looking up possibilities...").start(),q=aC;A.stop();let _=R.yes?"zinc":await aR({message:"Pick your desired base gray:",choices:q.map((C)=>({name:C,value:C})),pageSize:15}),h=await fetch(GC(_));if(!h.ok)throw new Error(`Failed to fetch color: ${h.statusText}`);let B=await h.text();return I7(T,B,{flag:"w"}),_}async function E7(T,R){if(uR(3))hT(`This CLI supports ${m("Justd 2.x")}, built with ${m("Tailwind v4")}. However, you're currently using ${m("Tailwind v3")}.`),process.exit(1);if(!await yT.doesConfigExist())hT(`${$8("justd.json not found")}. ${UT(`Please run ${m("npx justd-cli@latest init")} to initialize the project.`)}`),process.exit(1);let q=await yT.loadConfig(),h=JSON.parse($7.readFileSync(KH,"utf8")).css||W9();if(!T)h=await c6();let B=!0;if(!T){if(B=await cA({message:`You will overwrite the current theme "${m(q.gray)}" with ${R?m(R):"others"}?`}),!B){console.info("Theme change canceled.");return}}let C=R||await KC(h,{yes:!1});if(C){let O=C.replace(".css",""),W=await(await fetch(GC(O))).text();I7(h,W,{flag:"w"}),await yT.updateConfig({gray:O,css:h}),console.info(` The gray changed to '${m(O)}'`)}else console.info("No gray selected.")}var gC="https://raw.githubusercontent.com/irsyadadl/justd",E1=uR(3)?"1.x":"2.x",LC=E1,F1=`${gC}/refs/heads/${LC}/resources/styles/themes`,GC=(T)=>{if(!aC.includes(T))hT(`Invalid gray provided: ${T}`),process.exit(1);let R=`${F1}/${T}.css`;if(!R)hT("Failed to get the gray url"),process.exit(1);return R},E9=(T)=>{let R=`${gC}/${LC}/components/ui/${T}.tsx`;if(!R)throw new Error("REPO_URL environment variable is not set");return R},oA=(T)=>{let R=`${gC}/refs/heads/${LC}/utils/${T}`;if(!R)throw new Error("REPO_URL environment variable is not set");return R};var j1=["field","dropdown","dialog"];async function j7(T,R,A=new Set){if(A.has(R))return;let q=aH(),_=C_.join(process.cwd(),q,`index.${T.language==="javascript"?"js":"ts"}`),h="export * from './primitive';",B=`export * from './${R}';`,C=[];if(vT.existsSync(_))C=vT.readFileSync(_,"utf-8").split(`
`).map((D)=>D.trim()).filter((D)=>D!=="");if(C=C.filter((D)=>{let H=D.match(/export \* from '\.\/(.+)';/)?.[1];return H!=="primitive"&&!BA.includes(H??"")}),!C.includes(B))C.push(B);C=[h,...C.sort()],vT.writeFileSync(_,`${C.join(`
`)}
`,{flag:"w"}),A.add(R);let O=dR.find((D)=>D.name===R);if(O?.children)for(let D of O.children)await j7(T,D.name,A)}async function D_(T){let R=ZT("Checking.").start(),{component:A,overwrite:q,successMessage:_}=T;if(!await yT.doesConfigExist()){R.fail(`${rR("justd.json not found")}. ${UT(`Please run ${m("npx justd-cli@latest init")} to initialize the project.`)}`);return}let B=await yT.loadConfig();R.stop();let C=["primitive"],O=A?A.split(" "):[];if(O.length===0){let $=dR.filter((E)=>!C.includes(E.name)).sort((E,j)=>E.name.localeCompare(j.name)).map((E)=>({name:E.name,value:E.name}));O=await SA({required:!0,message:"Select components to add:",choices:$,pageSize:17,loop:!1})}let D=await Pq(),W=D==="npm"?"i ":"add ",H=[],J=new Set,i=new Set;try{R.start("Checking.");for(let $ of O){if(BA.includes($)||j1.includes($))continue;let E=E9($);if(!(await fetch(E)).ok)hT(`Component '${$}' not found at ${E}`),process.exit(1)}R.succeed("Checking.")}catch($){R.fail("Error looking up the component.");return}R.start("Installing dependencies.");try{let $=C_.join(B.utils,`classes.${B.language==="javascript"?"js":"ts"}`);if(!vT.existsSync($)){if(!vT.existsSync(B.utils))vT.mkdirSync(B.utils,{recursive:!0});let Q=await(await fetch(oA("classes.ts"))).text();await KR(B,{ogFilename:"classes.ts",writePath:$,content:Q}),H.push($)}if(await Promise.resolve(O.some((b)=>["popover","dialog","sidebar","navbar","command-menu","number-field"].includes(b)))){let b=C_.join(B.utils,`use-media-query.${B.language==="javascript"?"js":"ts"}`);if(!vT.existsSync(b)){let I=await(await fetch(oA("use-media-query.ts"))).text();await KR(B,{ogFilename:"use-media-query.ts",writePath:b,content:I}),H.push(b)}}for(let b of O)try{let Q=dR.find((N)=>N.name===b);if(!Q){F8(`Component '${m(b)}' not found in local resources.`);continue}let I=h9(B,b);if(vT.existsSync(I)&&!q){J.add(I);continue}if(BA.includes(b)&&Q.children)for(let N of Q.children)await xC(B,{componentName:N.name,packageManager:D,action:W,processed:i,allComponents:dR,overwrite:q,isChild:!0,createdFiles:H,existingFiles:J});else await xC(B,{componentName:b,packageManager:D,action:W,processed:i,allComponents:dR,overwrite:q,isChild:!1,createdFiles:H,existingFiles:J});await j7(B,b)}catch(Q){console.error(rR(`Error processing '${b}'.`))}let E=dR.filter((b)=>!C.includes(b.name)&&!BA.includes(b.name)).map((b)=>b.name);if(O.length===E.length)for(let b of Object.keys(Rq))await Rq(b,D,W);else for(let b of O)await Rq(b,D,W);R.succeed()}catch($){R.fail("Failed to install dependencies. Please check the logs for more information.");return}let y=H.length===1?"file":"files";if(H.length>0){let $=q?"Overwrite":"Created";if(_)R.succeed(`Updated ${H.length} ${y}:`);else R.succeed(`${$} ${H.length} ${y}:`);H.forEach((E)=>console.info(`  - ${E}`))}if(J.size>0&&!q)console.info($T.yellow(` ${J.size} ${y} already existed:`)),Array.from(J).forEach(($)=>console.info(`  - ${$}`))}async function xC(T,R){if(R.processed.has(R.componentName))return;let A=h9(T,R.componentName);if(vT.existsSync(A))if(R.overwrite&&!R.isChild)vT.rmSync(A,{recursive:!0,force:!0}),await F7(T,R.componentName),R.createdFiles.push(h9(T,R.componentName));else{R.existingFiles.add(h9(T,R.componentName));return}else await F7(T,R.componentName),R.createdFiles.push(h9(T,R.componentName));let q=R.allComponents.find((_)=>_.name===R.componentName);if(q?.children)for(let _ of q.children)await xC(T,{...R,componentName:_.name});R.processed.add(R.componentName)}async function F7(T,R){let A=h9(T,R),q=C_.dirname(A);if(!vT.existsSync(q))vT.mkdirSync(q,{recursive:!0});let _=E9(R);try{let h=await fetch(_);if(!h.ok)hT(`Failed to fetch component: ${h.statusText}`),process.exit(1);let B=await h.text();await KR(T,{writePath:A,ogFilename:`${R}.tsx`,content:B})}catch(h){console.log(h),hT(`Error writing component: ${R}`),process.exit(1)}}import k7 from"node:fs";import K7 from"node:path";function GR(){}GR.prototype={diff:function T(R,A){var q,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=_.callback;if(typeof _==="function")h=_,_={};this.options=_;var B=this;function C(I){if(h)return setTimeout(function(){h(void 0,I)},0),!0;else return I}R=this.castInput(R),A=this.castInput(A),R=this.removeEmpty(this.tokenize(R)),A=this.removeEmpty(this.tokenize(A));var O=A.length,D=R.length,W=1,H=O+D;if(_.maxEditLength)H=Math.min(H,_.maxEditLength);var J=(q=_.timeout)!==null&&q!==void 0?q:1/0,i=Date.now()+J,y=[{oldPos:-1,lastComponent:void 0}],$=this.extractCommon(y[0],A,R,0);if(y[0].oldPos+1>=D&&$+1>=O)return C([{value:this.join(A),count:A.length}]);var E=-1/0,j=1/0;function b(){for(var I=Math.max(E,-W);I<=Math.min(j,W);I+=2){var N=void 0,g=y[I-1],z=y[I+1];if(g)y[I-1]=void 0;var M=!1;if(z){var HT=z.oldPos-I;M=z&&0<=HT&&HT<O}var LR=g&&g.oldPos+1<D;if(!M&&!LR){y[I]=void 0;continue}if(!LR||M&&g.oldPos+1<z.oldPos)N=B.addToPath(z,!0,void 0,0);else N=B.addToPath(g,void 0,!0,1);if($=B.extractCommon(N,A,R,I),N.oldPos+1>=D&&$+1>=O)return C(b1(B,N.lastComponent,A,R,B.useLongestToken));else{if(y[I]=N,N.oldPos+1>=D)j=Math.min(j,I-1);if($+1>=O)E=Math.max(E,I+1)}}W++}if(h)(function I(){setTimeout(function(){if(W>H||Date.now()>i)return h();if(!b())I()},0)})();else while(W<=H&&Date.now()<=i){var Q=b();if(Q)return Q}},addToPath:function T(R,A,q,_){var h=R.lastComponent;if(h&&h.added===A&&h.removed===q)return{oldPos:R.oldPos+_,lastComponent:{count:h.count+1,added:A,removed:q,previousComponent:h.previousComponent}};else return{oldPos:R.oldPos+_,lastComponent:{count:1,added:A,removed:q,previousComponent:h}}},extractCommon:function T(R,A,q,_){var h=A.length,B=q.length,C=R.oldPos,O=C-_,D=0;while(O+1<h&&C+1<B&&this.equals(A[O+1],q[C+1]))O++,C++,D++;if(D)R.lastComponent={count:D,previousComponent:R.lastComponent};return R.oldPos=C,O},equals:function T(R,A){if(this.options.comparator)return this.options.comparator(R,A);else return R===A||this.options.ignoreCase&&R.toLowerCase()===A.toLowerCase()},removeEmpty:function T(R){var A=[];for(var q=0;q<R.length;q++)if(R[q])A.push(R[q]);return A},castInput:function T(R){return R},tokenize:function T(R){return R.split("")},join:function T(R){return R.join("")}};function b1(T,R,A,q,_){var h=[],B;while(R)h.push(R),B=R.previousComponent,delete R.previousComponent,R=B;h.reverse();var C=0,O=h.length,D=0,W=0;for(;C<O;C++){var H=h[C];if(!H.removed){if(!H.added&&_){var J=A.slice(D,D+H.count);J=J.map(function($,E){var j=q[W+E];return j.length>$.length?j:$}),H.value=T.join(J)}else H.value=T.join(A.slice(D,D+H.count));if(D+=H.count,!H.added)W+=H.count}else if(H.value=T.join(q.slice(W,W+H.count)),W+=H.count,C&&h[C-1].added){var i=h[C-1];h[C-1]=h[C],h[C]=i}}var y=h[O-1];if(O>1&&typeof y.value==="string"&&(y.added||y.removed)&&T.equals("",y.value))h[O-2].value+=y.value,h.pop();return h}var Tf=new GR;var b7=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,u7=/\S/,Q7=new GR;Q7.equals=function(T,R){if(this.options.ignoreCase)T=T.toLowerCase(),R=R.toLowerCase();return T===R||this.options.ignoreWhitespace&&!u7.test(T)&&!u7.test(R)};Q7.tokenize=function(T){var R=T.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(var A=0;A<R.length-1;A++)if(!R[A+1]&&R[A+2]&&b7.test(R[A])&&b7.test(R[A+2]))R[A]+=R[A+2],R.splice(A+1,2),A--;return R};var XC=new GR;XC.tokenize=function(T){if(this.options.stripTrailingCr)T=T.replace(/\r\n/g,`
`);var R=[],A=T.split(/(\n|\r\n)/);if(!A[A.length-1])A.pop();for(var q=0;q<A.length;q++){var _=A[q];if(q%2&&!this.options.newlineIsToken)R[R.length-1]+=_;else{if(this.options.ignoreWhitespace)_=_.trim();R.push(_)}}return R};function N7(T,R,A){return XC.diff(T,R,A)}var u1=new GR;u1.tokenize=function(T){return T.split(/(\S.+?[.!?])(?=\s+|$)/)};var Q1=new GR;Q1.tokenize=function(T){return T.split(/([{}:;,]|\s+)/)};function O_(T){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")O_=function(R){return typeof R};else O_=function(R){return R&&typeof Symbol==="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};return O_(T)}var N1=Object.prototype.toString,dA=new GR;dA.useLongestToken=!0;dA.tokenize=XC.tokenize;dA.castInput=function(T){var R=this.options,A=R.undefinedReplacement,q=R.stringifyReplacer,_=q===void 0?function(h,B){return typeof B==="undefined"?A:B}:q;return typeof T==="string"?T:JSON.stringify(fC(T,null,null,_),_,"  ")};dA.equals=function(T,R){return GR.prototype.equals.call(dA,T.replace(/,([\r\n])/g,"$1"),R.replace(/,([\r\n])/g,"$1"))};function fC(T,R,A,q,_){if(R=R||[],A=A||[],q)T=q(_,T);var h;for(h=0;h<R.length;h+=1)if(R[h]===T)return A[h];var B;if(N1.call(T)==="[object Array]"){R.push(T),B=new Array(T.length),A.push(B);for(h=0;h<T.length;h+=1)B[h]=fC(T[h],R,A,q,_);return R.pop(),A.pop(),B}if(T&&T.toJSON)T=T.toJSON();if(O_(T)==="object"&&T!==null){R.push(T),B={},A.push(B);var C=[],O;for(O in T)if(T.hasOwnProperty(O))C.push(O);C.sort();for(h=0;h<C.length;h+=1)O=C[h],B[O]=fC(T[O],R,A,q,O);R.pop(),A.pop()}else B=T;return B}var zC=new GR;zC.tokenize=function(T){return T.slice()};zC.join=zC.removeEmpty=function(T){return T};var k1=(T,R)=>{return K7.join(T.ui,`${R}.tsx`)},a1=async(T)=>{let R=E9(T),A=await fetch(R);if(!A.ok)throw new Error(`Failed to fetch component: ${A.statusText}`);return A.text()},a7=(T)=>{return T.replace(/['"]use client['"];/g,"").replace(/['"]use client['"]\n/g,"").replace(/"/g,"'").replace(/,\s*([\]}])/g,"$1").replace(/\s*;\s*$/gm,"").replace(/\r?\n/g,`
`).replace(/\s*\n\s*/g,`
`).replace(/\t/g,"  ").replace(/\s*{\s*/g,"{").replace(/\s*}\s*/g,"}").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/(\w+):\s*'([^']*)'/g,(R,A,q)=>{let _=q.split(" ").sort().join(" ");return`${A}: '${_}'`}).replace(/(\d+):\s*'([^']*)'/g,(R,A,q)=>{let _=q.split(" ").sort().join(" ");return`${A}: '${_}'`}).replace(/,\s*}/g,"}").replace(/>\s*\n\s*</g,"><").replace(/<([^>]+)\s*\n\s*([^>]+)>/g,(R,A,q)=>`<${A} ${q}>`).replace(/(\w+)<\s*\n\s*/g,(R,A)=>`${A}<`).replace(/\(([^)]+)\)\s*=>/g,(R,A)=>{return`(${A.replace(/\s*\n\s*/g," ").trim()}) =>`}).replace(/className:\s*'([^']+)'/g,(R,A)=>{return`className: '${A.split(" ").sort().join(" ")}'`}).replace(/(<[^>]+)\s+([a-zA-Z-]+)=/g,"$1 $2=").trim()};var K1=(T,R)=>{let A=a7(T),q=a7(R);return N7(A,q).filter((h)=>h.added||h.removed)},G7=async(...T)=>{try{let R=ZT("Checking.").start();if(!await yT.doesConfigExist()){R.fail(`${rR("justd.json not found")}. ${UT(`Please run ${m("npx justd-cli@latest init")} to initialize the project.`)}`);return}let q=await yT.loadConfig(),_=q.ui,h=["index"],B=k7.readdirSync(_).filter((D)=>D.endsWith(".tsx")).map((D)=>K7.basename(D,".tsx")).filter((D)=>!h.includes(D));if(T.length>0)B=B.filter((D)=>T.includes(D));let C=[],O=[];for(let D of B){let W=k1(q,D),H=k7.readFileSync(W,"utf-8");try{let J=await a1(D);if(K1(H,J).length>0)C.push(D);else O.push(D)}catch(J){}}if(R.succeed("Checking."),console.log($T.green(`
Up-to-date components:`)),O.forEach((D)=>console.log($T.green(` ${D}`))),console.log(`
`),console.log($T.yellow("Changed components:")),C.forEach((D)=>console.log($T.red(`- ${D}`))),console.log(`
`),C.length>0){let D=await SA({message:"Select components to update",pageSize:15,choices:[...C.map((W)=>({title:W,value:W}))],initial:C});await D_({component:D.join(" "),overwrite:!0,successMessage:"Updating components..."})}else console.log($T.green(" All components are up to date."))}catch(R){console.error($T.red("Error checking differences:"),R.message)}};var G1=hA.version;function g7(T){T.command("help [command]").description("Show help information").action((R)=>{if(console.log(`CLI Tool v${G1}
`),R){let A=T.commands.find((q)=>q.name()===R);if(A)A.outputHelp();else console.log(`Command "${R}" not found.`)}else T.outputHelp()})}import QT,{writeFileSync as z1}from"node:fs";import{spawn as X1}from"node:child_process";import r from"node:path";import{fileURLToPath as Z1}from"node:url";import L1 from"node:fs";import RA from"node:process";import L7 from"node:fs";function x7(T){return L7.existsSync(T)&&L7.lstatSync(T).isDirectory()}async function ZC(T){let{spawnSync:R}=await import("node:child_process");return R(T,["--version"],{shell:!0,stdio:"ignore"}).status===0}var f7=async(T,R,A,q)=>{let _=["composer","create-project","laravel/laravel",R,"&&","cd",R,"&&"],h=T==="bun"?"bun.lockb":T==="pnpm"?"pnpm-lock.yaml":T==="yarn"?"yarn.lock":null;if(h)_.push(`node -e "require('fs').writeFileSync('${h}', '')"`,"&&");if(_.push("composer","require","laravel/breeze","--dev","&&","php","artisan","breeze:install","react","--ssr",A==="typescript"?"--typescript":"","--eslint","--no-interaction"),q?.usePest)_.push("--pest");return _},z7=async(T,R,A,q)=>{let h=["npx create-next-app@latest",R,"--tailwind","--turbopack","--eslint",A==="typescript"?"--ts":"--js","--app","--import-alias='@/*'",T==="bun"?"--use-bun":T==="yarn"?"--use-yarn":T==="pnpm"?"--use-pnpm":"--use-npm"];if(q?.useSrc)h.push("--src-dir");else h.push("--no-src-dir");return h},X7=async(T,R)=>{return["npx","create-remix@latest","--yes",`--package-manager=${T}`,R]},Z7=async(T,R)=>{switch(T){case"bun":return["bun","create","vite","--template","react-ts",R];case"yarn":return["yarn","create","vite","--template","react-ts",R];case"pnpm":return["pnpm","create","vite","--template","react-ts",R];default:return["npm","create","vite@latest","--template","react-ts",R]}};import{spawn as g1}from"node:child_process";async function gR(T,R){let A=ZT(R).start();return new Promise((q,_)=>{let h=g1(T[0],T.slice(1),{stdio:"ignore",shell:!0});h.on("error",(B)=>{A.fail(`Error: ${B.message}`),_(B)}),h.on("close",(B)=>{if(B!==0)A.fail(`Command failed: ${T.join(" ")}`),_(new Error(`Command failed: ${T.join(" ")}`));else A.succeed(R),q()})})}function U7(T){return T==="bun"?["bun","add","tailwindcss","postcss","autoprefixer","-d"]:T==="yarn"?["yarn","add","-D","tailwindcss","postcss","autoprefixer"]:T==="pnpm"?["pnpm","add","-D","tailwindcss","postcss","autoprefixer"]:["npm","install","-D","tailwindcss","postcss","autoprefixer"]}async function M7(T){await gR(T==="bun"?["bun","add","-d","@biomejs/biome"]:T==="yarn"?["yarn","add","-D","@biomejs/biome"]:T==="pnpm"?["pnpm","add","-D","@biomejs/biome"]:["npm","install","-D","@biomejs/biome"],"Setting up Biome."),await gR(["npx","biome","init"],"Initializing Biome.")}var zf=RA.env.NODE_ENV==="production",rA={laravel:{name:"Laravel",createCommand:(T,R,A,q)=>f7(T,R,A,q)},next:{name:"Next.js",createCommand:(T,R,A,q)=>z7(T,R,A,q)},remix:{name:"Remix",createCommand:(T,R)=>X7(T,R)},vite:{name:"Vite",createCommand:(T,R)=>Z7(T,R)}};async function S7(T,R){if(["y","yes"].includes(T.trim().toLowerCase())){let A=R==="javascript"?Object.keys(rA).filter((J)=>["laravel","next"].includes(J)):Object.keys(rA),q=await aR({message:"Which framework do you want to use?",choices:A.map((J)=>({name:rA[J].name,value:J}))}),_=await XT({message:"What should your project be named?",default:"app",validate:(J)=>J.trim()!==""||"Project name cannot be empty."});if(x7(_))console.info(""),hT(`The directory '${_}' already exists. Please choose a different name or remove the existing directory.`),RA.exit(1);let h={};if(q==="laravel"){let J=await aR({message:"Which testing framework do you want to use?",choices:[{name:"Pest",value:"pest"},{name:"PHPUnit",value:"phpunit"}]});if(h.usePest=J==="pest",!await ZC("composer"))console.info(""),hT(`Composer is not installed on your system. 
Please install Composer to proceed with the Laravel setup.`),RA.exit(1)}if(q==="next"){let J=await XT({message:`Do you want to use the src folder? (Y/${UT("n")})`,default:"Yes",validate:(i)=>{let y=i.trim().toLowerCase();return["y","n","yes","no","Yes","No"].includes(y)||"Please answer yes or no."}});h.useSrc=["y","yes"].includes(J.trim().toLowerCase())}let B=await XT({message:`Do you want to use Tailwind version 4? (Y/${UT("n")})`,default:"Yes",validate:(J)=>{let i=J.trim().toLowerCase();return["y","n","yes","no"].includes(i)||"Please answer yes or no."}}),C=await XT({message:`Do you want to use Biome for this project? (Y/${UT("n")})`,default:"Yes",validate:(J)=>{let i=J.trim().toLowerCase();return["y","n","yes","no"].includes(i)||"Please answer yes or no."}}),O=await aR({message:"Which package manager do you want to use?",choices:[{name:"Bun",value:"bun"},{name:"Yarn",value:"yarn"},{name:"npm",value:"npm"},{name:"pnpm",value:"pnpm"}],default:"bun"});if(O!=="npm"){if(!await ZC(O))hT(`${O} is not installed on your system. Please install ${O} to proceed.`),RA.exit(1)}let D=await rA[q].createCommand(O,_,R,h);if(await gR(D,`Creating ${rA[q].name} project.`),L1.mkdirSync(_,{recursive:!0}),RA.chdir(_),q==="vite")await gR(U7(O),"Setting up Tailwind CSS."),await gR(["npx","tailwindcss","init","-p"],"Initializing Tailwind CSS.");if(B)await gR(["npx","@tailwindcss/upgrade@next","--force"],"Upgrading to Tailwind CSS v4.");if(["y","yes"].includes(C.trim().toLowerCase()))await M7(O);if(await gR(["npx","justd-cli@latest","init",R==="typescript"?"--ts":"--js","--force","--yes"],"Finishing."),console.info(`
Project setup is now complete.`),q==="laravel")console.info(`Start your development server by running: ${m(`cd ${_} && composer run dev`)}
`);else console.info(`Start your development server by running: ${m(`cd ${_} && npm run dev`)}
`);console.info("Ready to customize your project?"),console.info(`Add new components by running: ${m("npx justd-cli@latest add")}`)}else RA.exit(0)}import{execSync as x1}from"node:child_process";import f1 from"node:fs";function c7(){if(!f1.existsSync(".git"))return!1;try{return x1("git status --porcelain",{encoding:"utf-8"}).trim()!==""}catch(T){return!T?.toString?.().includes("not a git repository")}}var U1=Z1(import.meta.url),M1=r.dirname(U1),NT=r.resolve(M1,"../src/resources/stubs");async function P7(T){let R=T.language;if(!GH()){let S=(await XT({message:`No setup project detected. Do you want to start a new project? (Y/${UT("n")})`,default:"Yes",validate:(o)=>{let RT=o.trim().toLowerCase();return["y","n","yes","no"].includes(RT)||"Please answer yes or no."}})).trim().toLowerCase();if(S==="y"||S==="yes"||S==="n"||S==="no"){R=await aR({message:"What language do you want to use?",choices:[{name:"Typescript",value:"typescript"},{name:"Javascript",value:"javascript"}],default:"typescript"}),await S7(S,R);return}}if(!R)R=kH()?"typescript":"javascript";if(!T.force){let v=ZT("Checking.").start();if(c7())v.stop(),hT("Git directory is not clean. Please stash or commit your changes before running the init command."),E8(`You may use the ${m("--force")} flag to silence this warning and perform the initialization anyway.`),process.exit(1);v.stop()}let A=ZT("Initializing.").start();if(!VB()){A.fail("The tailwindcss package is not installed. Please install before running the init command."),A.stop();return}setTimeout(()=>{A.color="yellow",A.text="Loading rainbows"},1000),await new Promise((v)=>setTimeout(v,1000));let _,h,B,C,O,D,W;if(A.succeed("Initializing."),T.yes)_=V9(),B=r.join(_,"ui"),W=wB(),C=W9();else _=await XT({message:"Components folder:",default:V9(),validate:(v)=>v.trim()!==""||"Path cannot be empty. Please enter a valid path."}),B=r.join(_,"ui"),W=await XT({message:"Utils folder:",default:wB(),validate:(v)=>v.trim()!==""||"Path cannot be empty. Please enter a valid path."}),C=await XT({message:"Where would you like to place the CSS file?",default:W9(),validate:(v)=>v.trim()!==""||"Path cannot be empty. Please enter a valid path."});if(uT()&&FT("src"))h=r.join(NT,"1.x/tailwind.config.src.next.stub"),O=r.join(NT,"next/theme-provider.stub"),D=r.join(NT,"next/providers.stub");else if(uT()&&!FT("src"))h=r.join(NT,"1.x/tailwind.config.next.stub"),O=r.join(NT,"next/theme-provider.stub"),D=r.join(NT,"next/providers.stub");else if(wR())h=r.join(NT,"1.x/tailwind.config.laravel.stub"),O=r.join(NT,"laravel/theme-provider.stub"),D=r.join(NT,"laravel/providers.stub");else if(RR())h=r.join(NT,"1.x/tailwind.config.vite.stub"),O=r.join(NT,"remix/theme-provider.stub"),D=r.join(NT,"remix/providers.stub");else h=r.join(NT,"1.x/tailwind.config.vite.stub"),O=r.join(NT,"next/theme-provider.stub"),D=r.join(NT,"next/providers.stub");if(uR(3)){let v=QT.existsSync("tailwind.config.js")?"tailwind.config.js":"tailwind.config.ts";try{let S=QT.readFileSync(h,"utf8");QT.writeFileSync(v,S,{flag:"w"})}catch(S){A.fail(`Failed to write Tailwind config to ${v}: ${S.message}`)}}if(!QT.existsSync(W))QT.mkdirSync(W,{recursive:!0});if(!QT.existsSync(B))QT.mkdirSync(B,{recursive:!0});async function H(){let v=R==="typescript",o=(v?[r.join(process.cwd(),"tsconfig.app.json"),r.join(process.cwd(),"tsconfig.json")]:[r.join(process.cwd(),"jsconfig.json")]).find((DR)=>QT.existsSync(DR));if(!o)console.error(v?"Neither tsconfig.app.json nor tsconfig.json was found.":"jsconfig.json was not found."),process.exit(1);let RT;try{let DR=QT.readFileSync(o,"utf8"),xR=PA(DR);RT=JSON.parse(xR)}catch{console.error(`Error reading ${o} file. Please check if it exists and is valid JSON.`),process.exit(1)}if(!RT.compilerOptions)RT.compilerOptions={};if(!("paths"in RT.compilerOptions)){RT.compilerOptions.paths={"@/*":["./src/*"]};let xR=ZT(`Updating ${r.basename(o)} with paths...`).start();try{let UC=JSON.stringify(RT,null,2);QT.writeFileSync(o,UC),xR.succeed(`Paths added to ${r.basename(o)}.`)}catch(UC){xR.fail(`Failed to write to ${r.basename(o)}.`),process.exit(1)}}await P6(v?"typescript":"javascript");let CR=RT.compilerOptions.paths;if(CR)return Object.keys(CR)[0].replace("/*","");process.exit(1)}let J=await H();if(uR(3)){let v=QT.readFileSync(r.join(NT,"1.x/zinc.css"),"utf8");z1(C,v,{flag:"w"})}let i=uR(3)?"zinc.css":await KC(C,T),y={ui:B,utils:W,gray:i?.replace(".css",""),css:C,alias:J||void 0,language:R},$=await Pq(),E=["react-aria-components","justd-icons"].join(" "),j=["tailwind-variants","tailwind-merge","tailwindcss-animate"].join(" ");if(uR(3))j+=" tailwindcss-react-aria-components";if(uT())j+=" next-themes";if(RR())j+=" remix-themes";let b=await yT.createConfig(y).catch((v)=>{v("Error writing to justd.json:",v?.message),process.exit(1)}),Q=$==="npm"?"i":"add",I=`${$} ${Q} ${E} && ${$} ${Q} -D ${j}  --silent`;A.start("Installing dependencies.");let N=X1(I,{stdio:["ignore","ignore","ignore"],shell:!0});await new Promise((v)=>{N.on("close",()=>{v()})});let g=E9("primitive"),z=await fetch(g);if(!z.ok)throw new Error(`Failed to fetch component: ${z.statusText}`);let M=await z.text();await KR(b,{writePath:r.join(B,"primitive.tsx"),ogFilename:"primitive.tsx",content:M}),QT.writeFileSync(r.join(B,v9(R,"index.ts")),"export * from './primitive';",{flag:"w"});let LR=await(await fetch(oA("classes.ts"))).text();if(await KR(b,{writePath:r.join(W,"classes.ts"),ogFilename:"classes.ts",content:LR}),O){let v=QT.readFileSync(O,"utf8");if(await KR(b,{ogFilename:"theme-provider.tsx",writePath:r.join(_,"theme-provider.tsx"),content:v}),D){let S=QT.readFileSync(D,"utf8");await KR(b,{ogFilename:"providers.tsx",writePath:r.join(_,"providers.tsx"),content:S})}}if(A.succeed("Installing dependencies."),A.start("Configuring."),await new Promise((v)=>setTimeout(v,1000)),A.succeed("Configuring."),!QT.existsSync(B))QT.mkdirSync(B,{recursive:!0});if(A.succeed(`UI folder created at ${m(`${B}`)}`),A.succeed(`Primitive file saved to ${m(`${B}/${v9(R,"providers.tsx")}`)}`),A.succeed(`Classes file saved to ${m(`${W}/${v9(R,"classes.ts")}`)}`),O)A.succeed(`Theme Provider file saved to ${m(`"${_}/${v9(R,"theme-provider.ts")}"`)}`),A.succeed(`Providers file saved to ${m(`"${_}/${v9(R,"providers.tsx")}"`)}`);A.start(`Configuration saved to ${m('"justd.json"')}`),await new Promise((v)=>setTimeout(v,500)),A.succeed(`Configuration saved to ${m("justd.json")}`),A.succeed("Installation complete."),console.info(`

Not sure what to do next?`),console.info(`Visit our documentation at: ${m("https://getjustd.com")}`),console.info(`
Now try to add some components to your project`),console.info(`by running: ${m("npx justd-cli@latest add")}`),A.stop()}var S1=hA.version,Y7=process.argv.slice(2);if(Y7.includes("--version")||Y7.includes("-v"))console.log(hA.version),process.exit(0);WR.version(S1,"-v, --version","Output the version number").description("CLI Tool Description");WR.command("init").option("--force","Force initialization without checking Git").option("-y, --yes","Skip prompts and use default values").option("-l, --language <language>","Language of the project (typescript or javascript)").option("--ts","Use TypeScript for the project").option("--js","Use JavaScript for the project").action((T)=>{let R=T.language;if(T.ts)R="typescript";if(T.js)R="javascript";P7({...T,language:R})});WR.command("add [components...]").option("--skip <type>","Skip").option("-o, --overwrite","Override existing components").action(async(T,R)=>{await D_({component:T.join(" "),...R})});WR.command("change-gray [name]").description("Change the current gray").option("-y, --yes","Skip confirmation prompt").action(async(T,R)=>{await E7(R.yes,T)});WR.command("theme").description("Open theme customization page").action(async()=>{await W8("https://getjustd.com/themes")});WR.command("diff [components...]").description("Show differences between local and remote components").action(async(T)=>{await G7(...T)});g7(WR);WR.parse(process.argv);
