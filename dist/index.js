#!/usr/bin/env node
import{createRequire as u4}from"node:module";var F4=Object.create;var{getPrototypeOf:b4,defineProperty:W8,getOwnPropertyNames:Q4}=Object;var N4=Object.prototype.hasOwnProperty;var XT=(T,R,A)=>{A=T!=null?F4(b4(T)):{};let q=R||!T||!T.__esModule?W8(A,"default",{value:T,enumerable:!0}):A;for(let _ of Q4(T))if(!N4.call(q,_))W8(q,_,{get:()=>T[_],enumerable:!0});return q};var BT=(T,R)=>()=>(R||T((R={exports:{}}).exports,R),R.exports);var S=u4(import.meta.url);var kA=BT((k4)=>{class M_ extends Error{constructor(T,R,A){super(A);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=R,this.exitCode=T,this.nestedError=void 0}}class H8 extends M_{constructor(T){super(1,"commander.invalidArgument",T);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}k4.CommanderError=M_;k4.InvalidArgumentError=H8});var Fq=BT((g4)=>{var{InvalidArgumentError:G4}=kA();class J8{constructor(T,R){switch(this.description=R||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,T[0]){case"<":this.required=!0,this._name=T.slice(1,-1);break;case"[":this.required=!1,this._name=T.slice(1,-1);break;default:this.required=!0,this._name=T;break}if(this._name.length>3&&this._name.slice(-3)==="...")this.variadic=!0,this._name=this._name.slice(0,-3)}name(){return this._name}_concatValue(T,R){if(R===this.defaultValue||!Array.isArray(R))return[T];return R.concat(T)}default(T,R){return this.defaultValue=T,this.defaultValueDescription=R,this}argParser(T){return this.parseArg=T,this}choices(T){return this.argChoices=T.slice(),this.parseArg=(R,A)=>{if(!this.argChoices.includes(R))throw new G4(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(R,A);return R},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function L4(T){let R=T.name()+(T.variadic===!0?"...":"");return T.required?"<"+R+">":"["+R+"]"}g4.Argument=J8;g4.humanReadableArgName=L4});var S_=BT((Z4)=>{var{humanReadableArgName:X4}=Fq();class y8{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(T){this.helpWidth=this.helpWidth??T.helpWidth??80}visibleCommands(T){let R=T.commands.filter((q)=>!q._hidden),A=T._getHelpCommand();if(A&&!A._hidden)R.push(A);if(this.sortSubcommands)R.sort((q,_)=>{return q.name().localeCompare(_.name())});return R}compareOptions(T,R){let A=(q)=>{return q.short?q.short.replace(/^-/,""):q.long.replace(/^--/,"")};return A(T).localeCompare(A(R))}visibleOptions(T){let R=T.options.filter((q)=>!q.hidden),A=T._getHelpOption();if(A&&!A.hidden){let q=A.short&&T._findOption(A.short),_=A.long&&T._findOption(A.long);if(!q&&!_)R.push(A);else if(A.long&&!_)R.push(T.createOption(A.long,A.description));else if(A.short&&!q)R.push(T.createOption(A.short,A.description))}if(this.sortOptions)R.sort(this.compareOptions);return R}visibleGlobalOptions(T){if(!this.showGlobalOptions)return[];let R=[];for(let A=T.parent;A;A=A.parent){let q=A.options.filter((_)=>!_.hidden);R.push(...q)}if(this.sortOptions)R.sort(this.compareOptions);return R}visibleArguments(T){if(T._argsDescription)T.registeredArguments.forEach((R)=>{R.description=R.description||T._argsDescription[R.name()]||""});if(T.registeredArguments.find((R)=>R.description))return T.registeredArguments;return[]}subcommandTerm(T){let R=T.registeredArguments.map((A)=>X4(A)).join(" ");return T._name+(T._aliases[0]?"|"+T._aliases[0]:"")+(T.options.length?" [options]":"")+(R?" "+R:"")}optionTerm(T){return T.flags}argumentTerm(T){return T.name()}longestSubcommandTermLength(T,R){return R.visibleCommands(T).reduce((A,q)=>{return Math.max(A,this.displayWidth(R.styleSubcommandTerm(R.subcommandTerm(q))))},0)}longestOptionTermLength(T,R){return R.visibleOptions(T).reduce((A,q)=>{return Math.max(A,this.displayWidth(R.styleOptionTerm(R.optionTerm(q))))},0)}longestGlobalOptionTermLength(T,R){return R.visibleGlobalOptions(T).reduce((A,q)=>{return Math.max(A,this.displayWidth(R.styleOptionTerm(R.optionTerm(q))))},0)}longestArgumentTermLength(T,R){return R.visibleArguments(T).reduce((A,q)=>{return Math.max(A,this.displayWidth(R.styleArgumentTerm(R.argumentTerm(q))))},0)}commandUsage(T){let R=T._name;if(T._aliases[0])R=R+"|"+T._aliases[0];let A="";for(let q=T.parent;q;q=q.parent)A=q.name()+" "+A;return A+R+" "+T.usage()}commandDescription(T){return T.description()}subcommandDescription(T){return T.summary()||T.description()}optionDescription(T){let R=[];if(T.argChoices)R.push(`choices: ${T.argChoices.map((A)=>JSON.stringify(A)).join(", ")}`);if(T.defaultValue!==void 0){if(T.required||T.optional||T.isBoolean()&&typeof T.defaultValue==="boolean")R.push(`default: ${T.defaultValueDescription||JSON.stringify(T.defaultValue)}`)}if(T.presetArg!==void 0&&T.optional)R.push(`preset: ${JSON.stringify(T.presetArg)}`);if(T.envVar!==void 0)R.push(`env: ${T.envVar}`);if(R.length>0)return`${T.description} (${R.join(", ")})`;return T.description}argumentDescription(T){let R=[];if(T.argChoices)R.push(`choices: ${T.argChoices.map((A)=>JSON.stringify(A)).join(", ")}`);if(T.defaultValue!==void 0)R.push(`default: ${T.defaultValueDescription||JSON.stringify(T.defaultValue)}`);if(R.length>0){let A=`(${R.join(", ")})`;if(T.description)return`${T.description} ${A}`;return A}return T.description}formatHelp(T,R){let A=R.padWidth(T,R),q=R.helpWidth??80;function _(W,H){return R.formatItem(W,A,H,R)}let h=[`${R.styleTitle("Usage:")} ${R.styleUsage(R.commandUsage(T))}`,""],B=R.commandDescription(T);if(B.length>0)h=h.concat([R.boxWrap(R.styleCommandDescription(B),q),""]);let C=R.visibleArguments(T).map((W)=>{return _(R.styleArgumentTerm(R.argumentTerm(W)),R.styleArgumentDescription(R.argumentDescription(W)))});if(C.length>0)h=h.concat([R.styleTitle("Arguments:"),...C,""]);let O=R.visibleOptions(T).map((W)=>{return _(R.styleOptionTerm(R.optionTerm(W)),R.styleOptionDescription(R.optionDescription(W)))});if(O.length>0)h=h.concat([R.styleTitle("Options:"),...O,""]);if(R.showGlobalOptions){let W=R.visibleGlobalOptions(T).map((H)=>{return _(R.styleOptionTerm(R.optionTerm(H)),R.styleOptionDescription(R.optionDescription(H)))});if(W.length>0)h=h.concat([R.styleTitle("Global Options:"),...W,""])}let D=R.visibleCommands(T).map((W)=>{return _(R.styleSubcommandTerm(R.subcommandTerm(W)),R.styleSubcommandDescription(R.subcommandDescription(W)))});if(D.length>0)h=h.concat([R.styleTitle("Commands:"),...D,""]);return h.join(`
`)}displayWidth(T){return i8(T).length}styleTitle(T){return T}styleUsage(T){return T.split(" ").map((R)=>{if(R==="[options]")return this.styleOptionText(R);if(R==="[command]")return this.styleSubcommandText(R);if(R[0]==="["||R[0]==="<")return this.styleArgumentText(R);return this.styleCommandText(R)}).join(" ")}styleCommandDescription(T){return this.styleDescriptionText(T)}styleOptionDescription(T){return this.styleDescriptionText(T)}styleSubcommandDescription(T){return this.styleDescriptionText(T)}styleArgumentDescription(T){return this.styleDescriptionText(T)}styleDescriptionText(T){return T}styleOptionTerm(T){return this.styleOptionText(T)}styleSubcommandTerm(T){return T.split(" ").map((R)=>{if(R==="[options]")return this.styleOptionText(R);if(R[0]==="["||R[0]==="<")return this.styleArgumentText(R);return this.styleSubcommandText(R)}).join(" ")}styleArgumentTerm(T){return this.styleArgumentText(T)}styleOptionText(T){return T}styleArgumentText(T){return T}styleSubcommandText(T){return T}styleCommandText(T){return T}padWidth(T,R){return Math.max(R.longestOptionTermLength(T,R),R.longestGlobalOptionTermLength(T,R),R.longestSubcommandTermLength(T,R),R.longestArgumentTermLength(T,R))}preformatted(T){return/\n[^\S\r\n]/.test(T)}formatItem(T,R,A,q){let h=" ".repeat(2);if(!A)return h+T;let B=T.padEnd(R+T.length-q.displayWidth(T)),C=2,D=(this.helpWidth??80)-R-C-2,W;if(D<this.minWidthToWrap||q.preformatted(A))W=A;else W=q.boxWrap(A,D).replace(/\n/g,`
`+" ".repeat(R+C));return h+B+" ".repeat(C)+W.replace(/\n/g,`
${h}`)}boxWrap(T,R){if(R<this.minWidthToWrap)return T;let A=T.split(/\r\n|\n/),q=/[\s]*[^\s]+/g,_=[];return A.forEach((h)=>{let B=h.match(q);if(B===null){_.push("");return}let C=[B.shift()],O=this.displayWidth(C[0]);B.forEach((D)=>{let W=this.displayWidth(D);if(O+W<=R){C.push(D),O+=W;return}_.push(C.join(""));let H=D.trimStart();C=[H],O=this.displayWidth(H)}),_.push(C.join(""))}),_.join(`
`)}}function i8(T){let R=/\x1b\[\d*(;\d*)*m/g;return T.replace(R,"")}Z4.Help=y8;Z4.stripColor=i8});var P_=BT((P4)=>{var{InvalidArgumentError:M4}=kA();class I8{constructor(T,R){this.flags=T,this.description=R||"",this.required=T.includes("<"),this.optional=T.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(T),this.mandatory=!1;let A=S4(T);if(this.short=A.shortFlag,this.long=A.longFlag,this.negate=!1,this.long)this.negate=this.long.startsWith("--no-");this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(T,R){return this.defaultValue=T,this.defaultValueDescription=R,this}preset(T){return this.presetArg=T,this}conflicts(T){return this.conflictsWith=this.conflictsWith.concat(T),this}implies(T){let R=T;if(typeof T==="string")R={[T]:!0};return this.implied=Object.assign(this.implied||{},R),this}env(T){return this.envVar=T,this}argParser(T){return this.parseArg=T,this}makeOptionMandatory(T=!0){return this.mandatory=!!T,this}hideHelp(T=!0){return this.hidden=!!T,this}_concatValue(T,R){if(R===this.defaultValue||!Array.isArray(R))return[T];return R.concat(T)}choices(T){return this.argChoices=T.slice(),this.parseArg=(R,A)=>{if(!this.argChoices.includes(R))throw new M4(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(R,A);return R},this}name(){if(this.long)return this.long.replace(/^--/,"");return this.short.replace(/^-/,"")}attributeName(){if(this.negate)return $8(this.name().replace(/^no-/,""));return $8(this.name())}is(T){return this.short===T||this.long===T}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class E8{constructor(T){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,T.forEach((R)=>{if(R.negate)this.negativeOptions.set(R.attributeName(),R);else this.positiveOptions.set(R.attributeName(),R)}),this.negativeOptions.forEach((R,A)=>{if(this.positiveOptions.has(A))this.dualOptions.add(A)})}valueFromOption(T,R){let A=R.attributeName();if(!this.dualOptions.has(A))return!0;let q=this.negativeOptions.get(A).presetArg,_=q!==void 0?q:!1;return R.negate===(_===T)}}function $8(T){return T.split("-").reduce((R,A)=>{return R+A[0].toUpperCase()+A.slice(1)})}function S4(T){let R,A,q=/^-[^-]$/,_=/^--[^-]/,h=T.split(/[ |,]+/).concat("guard");if(q.test(h[0]))R=h.shift();if(_.test(h[0]))A=h.shift();if(/^-[^-][^-]/.test(h[0]))throw new Error(`invalid Option flags, short option is dash and single character: '${T}'`);if(R&&q.test(h[0]))throw new Error(`invalid Option flags, more than one short flag: '${T}'`);if(A&&_.test(h[0]))throw new Error(`invalid Option flags, more than one long flag: '${T}'`);if(!(R||A)||h[0].startsWith("-"))throw new Error(`invalid Option flags: '${T}'`);return{shortFlag:R,longFlag:A}}P4.Option=I8;P4.DualOptions=E8});var j8=BT((v4)=>{function w4(T,R){if(Math.abs(T.length-R.length)>3)return Math.max(T.length,R.length);let A=[];for(let q=0;q<=T.length;q++)A[q]=[q];for(let q=0;q<=R.length;q++)A[0][q]=q;for(let q=1;q<=R.length;q++)for(let _=1;_<=T.length;_++){let h=1;if(T[_-1]===R[q-1])h=0;else h=1;if(A[_][q]=Math.min(A[_-1][q]+1,A[_][q-1]+1,A[_-1][q-1]+h),_>1&&q>1&&T[_-1]===R[q-2]&&T[_-2]===R[q-1])A[_][q]=Math.min(A[_][q],A[_-2][q-2]+1)}return A[T.length][R.length]}function V4(T,R){if(!R||R.length===0)return"";R=Array.from(new Set(R));let A=T.startsWith("--");if(A)T=T.slice(2),R=R.map((B)=>B.slice(2));let q=[],_=3,h=0.4;if(R.forEach((B)=>{if(B.length<=1)return;let C=w4(T,B),O=Math.max(T.length,B.length);if((O-C)/O>h){if(C<_)_=C,q=[B];else if(C===_)q.push(B)}}),q.sort((B,C)=>B.localeCompare(C)),A)q=q.map((B)=>`--${B}`);if(q.length>1)return`
(Did you mean one of ${q.join(", ")}?)`;if(q.length===1)return`
(Did you mean ${q[0]}?)`;return""}v4.suggestSimilar=V4});var N8=BT((s4)=>{var l4=S("node:events").EventEmitter,Y_=S("node:child_process"),zR=S("node:path"),bq=S("node:fs"),_T=S("node:process"),{Argument:d4,humanReadableArgName:o4}=Fq(),{CommanderError:c_}=kA(),{Help:r4,stripColor:p4}=S_(),{Option:F8,DualOptions:n4}=P_(),{suggestSimilar:b8}=j8();class V_ extends l4{constructor(T){super();this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=T||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:(R)=>_T.stdout.write(R),writeErr:(R)=>_T.stderr.write(R),outputError:(R,A)=>A(R),getOutHelpWidth:()=>_T.stdout.isTTY?_T.stdout.columns:void 0,getErrHelpWidth:()=>_T.stderr.isTTY?_T.stderr.columns:void 0,getOutHasColors:()=>w_()??(_T.stdout.isTTY&&_T.stdout.hasColors?.()),getErrHasColors:()=>w_()??(_T.stderr.isTTY&&_T.stderr.hasColors?.()),stripColor:(R)=>p4(R)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(T){return this._outputConfiguration=T._outputConfiguration,this._helpOption=T._helpOption,this._helpCommand=T._helpCommand,this._helpConfiguration=T._helpConfiguration,this._exitCallback=T._exitCallback,this._storeOptionsAsProperties=T._storeOptionsAsProperties,this._combineFlagAndOptionalValue=T._combineFlagAndOptionalValue,this._allowExcessArguments=T._allowExcessArguments,this._enablePositionalOptions=T._enablePositionalOptions,this._showHelpAfterError=T._showHelpAfterError,this._showSuggestionAfterError=T._showSuggestionAfterError,this}_getCommandAndAncestors(){let T=[];for(let R=this;R;R=R.parent)T.push(R);return T}command(T,R,A){let q=R,_=A;if(typeof q==="object"&&q!==null)_=q,q=null;_=_||{};let[,h,B]=T.match(/([^ ]+) *(.*)/),C=this.createCommand(h);if(q)C.description(q),C._executableHandler=!0;if(_.isDefault)this._defaultCommandName=C._name;if(C._hidden=!!(_.noHelp||_.hidden),C._executableFile=_.executableFile||null,B)C.arguments(B);if(this._registerCommand(C),C.parent=this,C.copyInheritedSettings(this),q)return this;return C}createCommand(T){return new V_(T)}createHelp(){return Object.assign(new r4,this.configureHelp())}configureHelp(T){if(T===void 0)return this._helpConfiguration;return this._helpConfiguration=T,this}configureOutput(T){if(T===void 0)return this._outputConfiguration;return Object.assign(this._outputConfiguration,T),this}showHelpAfterError(T=!0){if(typeof T!=="string")T=!!T;return this._showHelpAfterError=T,this}showSuggestionAfterError(T=!0){return this._showSuggestionAfterError=!!T,this}addCommand(T,R){if(!T._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);if(R=R||{},R.isDefault)this._defaultCommandName=T._name;if(R.noHelp||R.hidden)T._hidden=!0;return this._registerCommand(T),T.parent=this,T._checkForBrokenPassThrough(),this}createArgument(T,R){return new d4(T,R)}argument(T,R,A,q){let _=this.createArgument(T,R);if(typeof A==="function")_.default(q).argParser(A);else _.default(A);return this.addArgument(_),this}arguments(T){return T.trim().split(/ +/).forEach((R)=>{this.argument(R)}),this}addArgument(T){let R=this.registeredArguments.slice(-1)[0];if(R&&R.variadic)throw new Error(`only the last argument can be variadic '${R.name()}'`);if(T.required&&T.defaultValue!==void 0&&T.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${T.name()}'`);return this.registeredArguments.push(T),this}helpCommand(T,R){if(typeof T==="boolean")return this._addImplicitHelpCommand=T,this;T=T??"help [command]";let[,A,q]=T.match(/([^ ]+) *(.*)/),_=R??"display help for command",h=this.createCommand(A);if(h.helpOption(!1),q)h.arguments(q);if(_)h.description(_);return this._addImplicitHelpCommand=!0,this._helpCommand=h,this}addHelpCommand(T,R){if(typeof T!=="object")return this.helpCommand(T,R),this;return this._addImplicitHelpCommand=!0,this._helpCommand=T,this}_getHelpCommand(){if(this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))){if(this._helpCommand===void 0)this.helpCommand(void 0,void 0);return this._helpCommand}return null}hook(T,R){let A=["preSubcommand","preAction","postAction"];if(!A.includes(T))throw new Error(`Unexpected value for event passed to hook : '${T}'.
Expecting one of '${A.join("', '")}'`);if(this._lifeCycleHooks[T])this._lifeCycleHooks[T].push(R);else this._lifeCycleHooks[T]=[R];return this}exitOverride(T){if(T)this._exitCallback=T;else this._exitCallback=(R)=>{if(R.code!=="commander.executeSubCommandAsync")throw R};return this}_exit(T,R,A){if(this._exitCallback)this._exitCallback(new c_(T,R,A));_T.exit(T)}action(T){let R=(A)=>{let q=this.registeredArguments.length,_=A.slice(0,q);if(this._storeOptionsAsProperties)_[q]=this;else _[q]=this.opts();return _.push(this),T.apply(this,_)};return this._actionHandler=R,this}createOption(T,R){return new F8(T,R)}_callParseArg(T,R,A,q){try{return T.parseArg(R,A)}catch(_){if(_.code==="commander.invalidArgument"){let h=`${q} ${_.message}`;this.error(h,{exitCode:_.exitCode,code:_.code})}throw _}}_registerOption(T){let R=T.short&&this._findOption(T.short)||T.long&&this._findOption(T.long);if(R){let A=T.long&&this._findOption(T.long)?T.long:T.short;throw new Error(`Cannot add option '${T.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${A}'
-  already used by option '${R.flags}'`)}this.options.push(T)}_registerCommand(T){let R=(q)=>{return[q.name()].concat(q.aliases())},A=R(T).find((q)=>this._findCommand(q));if(A){let q=R(this._findCommand(A)).join("|"),_=R(T).join("|");throw new Error(`cannot add command '${_}' as already have command '${q}'`)}this.commands.push(T)}addOption(T){this._registerOption(T);let R=T.name(),A=T.attributeName();if(T.negate){let _=T.long.replace(/^--no-/,"--");if(!this._findOption(_))this.setOptionValueWithSource(A,T.defaultValue===void 0?!0:T.defaultValue,"default")}else if(T.defaultValue!==void 0)this.setOptionValueWithSource(A,T.defaultValue,"default");let q=(_,h,B)=>{if(_==null&&T.presetArg!==void 0)_=T.presetArg;let C=this.getOptionValue(A);if(_!==null&&T.parseArg)_=this._callParseArg(T,_,C,h);else if(_!==null&&T.variadic)_=T._concatValue(_,C);if(_==null)if(T.negate)_=!1;else if(T.isBoolean()||T.optional)_=!0;else _="";this.setOptionValueWithSource(A,_,B)};if(this.on("option:"+R,(_)=>{let h=`error: option '${T.flags}' argument '${_}' is invalid.`;q(_,h,"cli")}),T.envVar)this.on("optionEnv:"+R,(_)=>{let h=`error: option '${T.flags}' value '${_}' from env '${T.envVar}' is invalid.`;q(_,h,"env")});return this}_optionEx(T,R,A,q,_){if(typeof R==="object"&&R instanceof F8)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let h=this.createOption(R,A);if(h.makeOptionMandatory(!!T.mandatory),typeof q==="function")h.default(_).argParser(q);else if(q instanceof RegExp){let B=q;q=(C,O)=>{let D=B.exec(C);return D?D[0]:O},h.default(_).argParser(q)}else h.default(q);return this.addOption(h)}option(T,R,A,q){return this._optionEx({},T,R,A,q)}requiredOption(T,R,A,q){return this._optionEx({mandatory:!0},T,R,A,q)}combineFlagAndOptionalValue(T=!0){return this._combineFlagAndOptionalValue=!!T,this}allowUnknownOption(T=!0){return this._allowUnknownOption=!!T,this}allowExcessArguments(T=!0){return this._allowExcessArguments=!!T,this}enablePositionalOptions(T=!0){return this._enablePositionalOptions=!!T,this}passThroughOptions(T=!0){return this._passThroughOptions=!!T,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(T=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!T,this}getOptionValue(T){if(this._storeOptionsAsProperties)return this[T];return this._optionValues[T]}setOptionValue(T,R){return this.setOptionValueWithSource(T,R,void 0)}setOptionValueWithSource(T,R,A){if(this._storeOptionsAsProperties)this[T]=R;else this._optionValues[T]=R;return this._optionValueSources[T]=A,this}getOptionValueSource(T){return this._optionValueSources[T]}getOptionValueSourceWithGlobals(T){let R;return this._getCommandAndAncestors().forEach((A)=>{if(A.getOptionValueSource(T)!==void 0)R=A.getOptionValueSource(T)}),R}_prepareUserArgs(T,R){if(T!==void 0&&!Array.isArray(T))throw new Error("first parameter to parse must be array or undefined");if(R=R||{},T===void 0&&R.from===void 0){if(_T.versions?.electron)R.from="electron";let q=_T.execArgv??[];if(q.includes("-e")||q.includes("--eval")||q.includes("-p")||q.includes("--print"))R.from="eval"}if(T===void 0)T=_T.argv;this.rawArgs=T.slice();let A;switch(R.from){case void 0:case"node":this._scriptPath=T[1],A=T.slice(2);break;case"electron":if(_T.defaultApp)this._scriptPath=T[1],A=T.slice(2);else A=T.slice(1);break;case"user":A=T.slice(0);break;case"eval":A=T.slice(1);break;default:throw new Error(`unexpected parse option { from: '${R.from}' }`)}if(!this._name&&this._scriptPath)this.nameFromFilename(this._scriptPath);return this._name=this._name||"program",A}parse(T,R){this._prepareForParse();let A=this._prepareUserArgs(T,R);return this._parseCommand([],A),this}async parseAsync(T,R){this._prepareForParse();let A=this._prepareUserArgs(T,R);return await this._parseCommand([],A),this}_prepareForParse(){if(this._savedState===null)this.saveStateBeforeParse();else this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(T,R,A){if(bq.existsSync(T))return;let q=R?`searched for local subcommand relative to directory '${R}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",_=`'${T}' does not exist
 - if '${A}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${q}`;throw new Error(_)}_executeSubCommand(T,R){R=R.slice();let A=!1,q=[".js",".ts",".tsx",".mjs",".cjs"];function _(D,W){let H=zR.resolve(D,W);if(bq.existsSync(H))return H;if(q.includes(zR.extname(W)))return;let J=q.find((y)=>bq.existsSync(`${H}${y}`));if(J)return`${H}${J}`;return}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let h=T._executableFile||`${this._name}-${T._name}`,B=this._executableDir||"";if(this._scriptPath){let D;try{D=bq.realpathSync(this._scriptPath)}catch{D=this._scriptPath}B=zR.resolve(zR.dirname(D),B)}if(B){let D=_(B,h);if(!D&&!T._executableFile&&this._scriptPath){let W=zR.basename(this._scriptPath,zR.extname(this._scriptPath));if(W!==this._name)D=_(B,`${W}-${T._name}`)}h=D||h}A=q.includes(zR.extname(h));let C;if(_T.platform!=="win32")if(A)R.unshift(h),R=Q8(_T.execArgv).concat(R),C=Y_.spawn(_T.argv[0],R,{stdio:"inherit"});else C=Y_.spawn(h,R,{stdio:"inherit"});else this._checkForMissingExecutable(h,B,T._name),R.unshift(h),R=Q8(_T.execArgv).concat(R),C=Y_.spawn(_T.execPath,R,{stdio:"inherit"});if(!C.killed)["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((W)=>{_T.on(W,()=>{if(C.killed===!1&&C.exitCode===null)C.kill(W)})});let O=this._exitCallback;C.on("close",(D)=>{if(D=D??1,!O)_T.exit(D);else O(new c_(D,"commander.executeSubCommandAsync","(close)"))}),C.on("error",(D)=>{if(D.code==="ENOENT")this._checkForMissingExecutable(h,B,T._name);else if(D.code==="EACCES")throw new Error(`'${h}' not executable`);if(!O)_T.exit(1);else{let W=new c_(1,"commander.executeSubCommandAsync","(error)");W.nestedError=D,O(W)}}),this.runningCommand=C}_dispatchSubcommand(T,R,A){let q=this._findCommand(T);if(!q)this.help({error:!0});q._prepareForParse();let _;return _=this._chainOrCallSubCommandHook(_,q,"preSubcommand"),_=this._chainOrCall(_,()=>{if(q._executableHandler)this._executeSubCommand(q,R.concat(A));else return q._parseCommand(R,A)}),_}_dispatchHelpCommand(T){if(!T)this.help();let R=this._findCommand(T);if(R&&!R._executableHandler)R.help();return this._dispatchSubcommand(T,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){if(this.registeredArguments.forEach((T,R)=>{if(T.required&&this.args[R]==null)this.missingArgument(T.name())}),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)return;if(this.args.length>this.registeredArguments.length)this._excessArguments(this.args)}_processArguments(){let T=(A,q,_)=>{let h=q;if(q!==null&&A.parseArg){let B=`error: command-argument value '${q}' is invalid for argument '${A.name()}'.`;h=this._callParseArg(A,q,_,B)}return h};this._checkNumberOfArguments();let R=[];this.registeredArguments.forEach((A,q)=>{let _=A.defaultValue;if(A.variadic){if(q<this.args.length){if(_=this.args.slice(q),A.parseArg)_=_.reduce((h,B)=>{return T(A,B,h)},A.defaultValue)}else if(_===void 0)_=[]}else if(q<this.args.length){if(_=this.args[q],A.parseArg)_=T(A,_,A.defaultValue)}R[q]=_}),this.processedArgs=R}_chainOrCall(T,R){if(T&&T.then&&typeof T.then==="function")return T.then(()=>R());return R()}_chainOrCallHooks(T,R){let A=T,q=[];if(this._getCommandAndAncestors().reverse().filter((_)=>_._lifeCycleHooks[R]!==void 0).forEach((_)=>{_._lifeCycleHooks[R].forEach((h)=>{q.push({hookedCommand:_,callback:h})})}),R==="postAction")q.reverse();return q.forEach((_)=>{A=this._chainOrCall(A,()=>{return _.callback(_.hookedCommand,this)})}),A}_chainOrCallSubCommandHook(T,R,A){let q=T;if(this._lifeCycleHooks[A]!==void 0)this._lifeCycleHooks[A].forEach((_)=>{q=this._chainOrCall(q,()=>{return _(this,R)})});return q}_parseCommand(T,R){let A=this.parseOptions(R);if(this._parseOptionsEnv(),this._parseOptionsImplied(),T=T.concat(A.operands),R=A.unknown,this.args=T.concat(R),T&&this._findCommand(T[0]))return this._dispatchSubcommand(T[0],T.slice(1),R);if(this._getHelpCommand()&&T[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(T[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(R),this._dispatchSubcommand(this._defaultCommandName,T,R);if(this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName)this.help({error:!0});this._outputHelpIfRequested(A.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let q=()=>{if(A.unknown.length>0)this.unknownOption(A.unknown[0])},_=`command:${this.name()}`;if(this._actionHandler){q(),this._processArguments();let h;if(h=this._chainOrCallHooks(h,"preAction"),h=this._chainOrCall(h,()=>this._actionHandler(this.processedArgs)),this.parent)h=this._chainOrCall(h,()=>{this.parent.emit(_,T,R)});return h=this._chainOrCallHooks(h,"postAction"),h}if(this.parent&&this.parent.listenerCount(_))q(),this._processArguments(),this.parent.emit(_,T,R);else if(T.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",T,R);if(this.listenerCount("command:*"))this.emit("command:*",T,R);else if(this.commands.length)this.unknownCommand();else q(),this._processArguments()}else if(this.commands.length)q(),this.help({error:!0});else q(),this._processArguments()}_findCommand(T){if(!T)return;return this.commands.find((R)=>R._name===T||R._aliases.includes(T))}_findOption(T){return this.options.find((R)=>R.is(T))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((T)=>{T.options.forEach((R)=>{if(R.mandatory&&T.getOptionValue(R.attributeName())===void 0)T.missingMandatoryOptionValue(R)})})}_checkForConflictingLocalOptions(){let T=this.options.filter((A)=>{let q=A.attributeName();if(this.getOptionValue(q)===void 0)return!1;return this.getOptionValueSource(q)!=="default"});T.filter((A)=>A.conflictsWith.length>0).forEach((A)=>{let q=T.find((_)=>A.conflictsWith.includes(_.attributeName()));if(q)this._conflictingOption(A,q)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((T)=>{T._checkForConflictingLocalOptions()})}parseOptions(T){let R=[],A=[],q=R,_=T.slice();function h(C){return C.length>1&&C[0]==="-"}let B=null;while(_.length){let C=_.shift();if(C==="--"){if(q===A)q.push(C);q.push(..._);break}if(B&&!h(C)){this.emit(`option:${B.name()}`,C);continue}if(B=null,h(C)){let O=this._findOption(C);if(O){if(O.required){let D=_.shift();if(D===void 0)this.optionMissingArgument(O);this.emit(`option:${O.name()}`,D)}else if(O.optional){let D=null;if(_.length>0&&!h(_[0]))D=_.shift();this.emit(`option:${O.name()}`,D)}else this.emit(`option:${O.name()}`);B=O.variadic?O:null;continue}}if(C.length>2&&C[0]==="-"&&C[1]!=="-"){let O=this._findOption(`-${C[1]}`);if(O){if(O.required||O.optional&&this._combineFlagAndOptionalValue)this.emit(`option:${O.name()}`,C.slice(2));else this.emit(`option:${O.name()}`),_.unshift(`-${C.slice(2)}`);continue}}if(/^--[^=]+=/.test(C)){let O=C.indexOf("="),D=this._findOption(C.slice(0,O));if(D&&(D.required||D.optional)){this.emit(`option:${D.name()}`,C.slice(O+1));continue}}if(h(C))q=A;if((this._enablePositionalOptions||this._passThroughOptions)&&R.length===0&&A.length===0){if(this._findCommand(C)){if(R.push(C),_.length>0)A.push(..._);break}else if(this._getHelpCommand()&&C===this._getHelpCommand().name()){if(R.push(C),_.length>0)R.push(..._);break}else if(this._defaultCommandName){if(A.push(C),_.length>0)A.push(..._);break}}if(this._passThroughOptions){if(q.push(C),_.length>0)q.push(..._);break}q.push(C)}return{operands:R,unknown:A}}opts(){if(this._storeOptionsAsProperties){let T={},R=this.options.length;for(let A=0;A<R;A++){let q=this.options[A].attributeName();T[q]=q===this._versionOptionName?this._version:this[q]}return T}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((T,R)=>Object.assign(T,R.opts()),{})}error(T,R){if(this._outputConfiguration.outputError(`${T}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError==="string")this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`);else if(this._showHelpAfterError)this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0});let A=R||{},q=A.exitCode||1,_=A.code||"commander.error";this._exit(q,_,T)}_parseOptionsEnv(){this.options.forEach((T)=>{if(T.envVar&&T.envVar in _T.env){let R=T.attributeName();if(this.getOptionValue(R)===void 0||["default","config","env"].includes(this.getOptionValueSource(R)))if(T.required||T.optional)this.emit(`optionEnv:${T.name()}`,_T.env[T.envVar]);else this.emit(`optionEnv:${T.name()}`)}})}_parseOptionsImplied(){let T=new n4(this.options),R=(A)=>{return this.getOptionValue(A)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(A))};this.options.filter((A)=>A.implied!==void 0&&R(A.attributeName())&&T.valueFromOption(this.getOptionValue(A.attributeName()),A)).forEach((A)=>{Object.keys(A.implied).filter((q)=>!R(q)).forEach((q)=>{this.setOptionValueWithSource(q,A.implied[q],"implied")})})}missingArgument(T){let R=`error: missing required argument '${T}'`;this.error(R,{code:"commander.missingArgument"})}optionMissingArgument(T){let R=`error: option '${T.flags}' argument missing`;this.error(R,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(T){let R=`error: required option '${T.flags}' not specified`;this.error(R,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(T,R){let A=(h)=>{let B=h.attributeName(),C=this.getOptionValue(B),O=this.options.find((W)=>W.negate&&B===W.attributeName()),D=this.options.find((W)=>!W.negate&&B===W.attributeName());if(O&&(O.presetArg===void 0&&C===!1||O.presetArg!==void 0&&C===O.presetArg))return O;return D||h},q=(h)=>{let B=A(h),C=B.attributeName();if(this.getOptionValueSource(C)==="env")return`environment variable '${B.envVar}'`;return`option '${B.flags}'`},_=`error: ${q(T)} cannot be used with ${q(R)}`;this.error(_,{code:"commander.conflictingOption"})}unknownOption(T){if(this._allowUnknownOption)return;let R="";if(T.startsWith("--")&&this._showSuggestionAfterError){let q=[],_=this;do{let h=_.createHelp().visibleOptions(_).filter((B)=>B.long).map((B)=>B.long);q=q.concat(h),_=_.parent}while(_&&!_._enablePositionalOptions);R=b8(T,q)}let A=`error: unknown option '${T}'${R}`;this.error(A,{code:"commander.unknownOption"})}_excessArguments(T){if(this._allowExcessArguments)return;let R=this.registeredArguments.length,A=R===1?"":"s",_=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${R} argument${A} but got ${T.length}.`;this.error(_,{code:"commander.excessArguments"})}unknownCommand(){let T=this.args[0],R="";if(this._showSuggestionAfterError){let q=[];this.createHelp().visibleCommands(this).forEach((_)=>{if(q.push(_.name()),_.alias())q.push(_.alias())}),R=b8(T,q)}let A=`error: unknown command '${T}'${R}`;this.error(A,{code:"commander.unknownCommand"})}version(T,R,A){if(T===void 0)return this._version;this._version=T,R=R||"-V, --version",A=A||"output the version number";let q=this.createOption(R,A);return this._versionOptionName=q.attributeName(),this._registerOption(q),this.on("option:"+q.name(),()=>{this._outputConfiguration.writeOut(`${T}
`),this._exit(0,"commander.version",T)}),this}description(T,R){if(T===void 0&&R===void 0)return this._description;if(this._description=T,R)this._argsDescription=R;return this}summary(T){if(T===void 0)return this._summary;return this._summary=T,this}alias(T){if(T===void 0)return this._aliases[0];let R=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler)R=this.commands[this.commands.length-1];if(T===R._name)throw new Error("Command alias can't be the same as its name");let A=this.parent?._findCommand(T);if(A){let q=[A.name()].concat(A.aliases()).join("|");throw new Error(`cannot add alias '${T}' to command '${this.name()}' as already have command '${q}'`)}return R._aliases.push(T),this}aliases(T){if(T===void 0)return this._aliases;return T.forEach((R)=>this.alias(R)),this}usage(T){if(T===void 0){if(this._usage)return this._usage;let R=this.registeredArguments.map((A)=>{return o4(A)});return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?R:[]).join(" ")}return this._usage=T,this}name(T){if(T===void 0)return this._name;return this._name=T,this}nameFromFilename(T){return this._name=zR.basename(T,zR.extname(T)),this}executableDir(T){if(T===void 0)return this._executableDir;return this._executableDir=T,this}helpInformation(T){let R=this.createHelp(),A=this._getOutputContext(T);R.prepareContext({error:A.error,helpWidth:A.helpWidth,outputHasColors:A.hasColors});let q=R.formatHelp(this,R);if(A.hasColors)return q;return this._outputConfiguration.stripColor(q)}_getOutputContext(T){T=T||{};let R=!!T.error,A,q,_;if(R)A=(B)=>this._outputConfiguration.writeErr(B),q=this._outputConfiguration.getErrHasColors(),_=this._outputConfiguration.getErrHelpWidth();else A=(B)=>this._outputConfiguration.writeOut(B),q=this._outputConfiguration.getOutHasColors(),_=this._outputConfiguration.getOutHelpWidth();return{error:R,write:(B)=>{if(!q)B=this._outputConfiguration.stripColor(B);return A(B)},hasColors:q,helpWidth:_}}outputHelp(T){let R;if(typeof T==="function")R=T,T=void 0;let A=this._getOutputContext(T),q={error:A.error,write:A.write,command:this};this._getCommandAndAncestors().reverse().forEach((h)=>h.emit("beforeAllHelp",q)),this.emit("beforeHelp",q);let _=this.helpInformation({error:A.error});if(R){if(_=R(_),typeof _!=="string"&&!Buffer.isBuffer(_))throw new Error("outputHelp callback must return a string or a Buffer")}if(A.write(_),this._getHelpOption()?.long)this.emit(this._getHelpOption().long);this.emit("afterHelp",q),this._getCommandAndAncestors().forEach((h)=>h.emit("afterAllHelp",q))}helpOption(T,R){if(typeof T==="boolean"){if(T)this._helpOption=this._helpOption??void 0;else this._helpOption=null;return this}return T=T??"-h, --help",R=R??"display help for command",this._helpOption=this.createOption(T,R),this}_getHelpOption(){if(this._helpOption===void 0)this.helpOption(void 0,void 0);return this._helpOption}addHelpOption(T){return this._helpOption=T,this}help(T){this.outputHelp(T);let R=Number(_T.exitCode??0);if(R===0&&T&&typeof T!=="function"&&T.error)R=1;this._exit(R,"commander.help","(outputHelp)")}addHelpText(T,R){let A=["beforeAll","before","after","afterAll"];if(!A.includes(T))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${A.join("', '")}'`);let q=`${T}Help`;return this.on(q,(_)=>{let h;if(typeof R==="function")h=R({error:_.error,command:_.command});else h=R;if(h)_.write(`${h}
`)}),this}_outputHelpIfRequested(T){let R=this._getHelpOption();if(R&&T.find((q)=>R.is(q)))this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)")}}function Q8(T){return T.map((R)=>{if(!R.startsWith("--inspect"))return R;let A,q="127.0.0.1",_="9229",h;if((h=R.match(/^(--inspect(-brk)?)$/))!==null)A=h[1];else if((h=R.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null)if(A=h[1],/^\d+$/.test(h[3]))_=h[3];else q=h[3];else if((h=R.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null)A=h[1],q=h[3],_=h[4];if(A&&_!=="0")return`${A}=${q}:${parseInt(_)+1}`;return R})}function w_(){if(_T.env.NO_COLOR||_T.env.FORCE_COLOR==="0"||_T.env.FORCE_COLOR==="false")return!1;if(_T.env.FORCE_COLOR||_T.env.CLICOLOR_FORCE!==void 0)return!0;return}s4.Command=V_;s4.useColor=w_});var K8=BT((AJ)=>{var{Argument:u8}=Fq(),{Command:v_}=N8(),{CommanderError:TJ,InvalidArgumentError:k8}=kA(),{Help:RJ}=S_(),{Option:a8}=P_();AJ.program=new v_;AJ.createCommand=(T)=>new v_(T);AJ.createOption=(T,R)=>new a8(T,R);AJ.createArgument=(T,R)=>new u8(T,R);AJ.Command=v_;AJ.Option=a8;AJ.Argument=u8;AJ.Help=RJ;AJ.CommanderError=TJ;AJ.InvalidArgumentError=k8;AJ.InvalidOptionArgumentError=k8});var w8=BT((xI,Ah)=>{var uq=process||{},Y8=uq.argv||[],Nq=uq.env||{},VJ=!(!!Nq.NO_COLOR||Y8.includes("--no-color"))&&(!!Nq.FORCE_COLOR||Y8.includes("--color")||uq.platform==="win32"||(uq.stdout||{}).isTTY&&Nq.TERM!=="dumb"||!!Nq.CI),vJ=(T,R,A=T)=>(q)=>{let _=""+q,h=_.indexOf(R,T.length);return~h?T+mJ(_,R,A,h)+R:T+_+R},mJ=(T,R,A,q)=>{let _="",h=0;do _+=T.substring(h,q)+A,h=q+R.length,q=T.indexOf(R,h);while(~q);return _+T.substring(h)},c8=(T=VJ)=>{let R=T?vJ:()=>String;return{isColorSupported:T,reset:R("\x1B[0m","\x1B[0m"),bold:R("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:R("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:R("\x1B[3m","\x1B[23m"),underline:R("\x1B[4m","\x1B[24m"),inverse:R("\x1B[7m","\x1B[27m"),hidden:R("\x1B[8m","\x1B[28m"),strikethrough:R("\x1B[9m","\x1B[29m"),black:R("\x1B[30m","\x1B[39m"),red:R("\x1B[31m","\x1B[39m"),green:R("\x1B[32m","\x1B[39m"),yellow:R("\x1B[33m","\x1B[39m"),blue:R("\x1B[34m","\x1B[39m"),magenta:R("\x1B[35m","\x1B[39m"),cyan:R("\x1B[36m","\x1B[39m"),white:R("\x1B[37m","\x1B[39m"),gray:R("\x1B[90m","\x1B[39m"),bgBlack:R("\x1B[40m","\x1B[49m"),bgRed:R("\x1B[41m","\x1B[49m"),bgGreen:R("\x1B[42m","\x1B[49m"),bgYellow:R("\x1B[43m","\x1B[49m"),bgBlue:R("\x1B[44m","\x1B[49m"),bgMagenta:R("\x1B[45m","\x1B[49m"),bgCyan:R("\x1B[46m","\x1B[49m"),bgWhite:R("\x1B[47m","\x1B[49m"),blackBright:R("\x1B[90m","\x1B[39m"),redBright:R("\x1B[91m","\x1B[39m"),greenBright:R("\x1B[92m","\x1B[39m"),yellowBright:R("\x1B[93m","\x1B[39m"),blueBright:R("\x1B[94m","\x1B[39m"),magentaBright:R("\x1B[95m","\x1B[39m"),cyanBright:R("\x1B[96m","\x1B[39m"),whiteBright:R("\x1B[97m","\x1B[39m"),bgBlackBright:R("\x1B[100m","\x1B[49m"),bgRedBright:R("\x1B[101m","\x1B[49m"),bgGreenBright:R("\x1B[102m","\x1B[49m"),bgYellowBright:R("\x1B[103m","\x1B[49m"),bgBlueBright:R("\x1B[104m","\x1B[49m"),bgMagentaBright:R("\x1B[105m","\x1B[49m"),bgCyanBright:R("\x1B[106m","\x1B[49m"),bgWhiteBright:R("\x1B[107m","\x1B[49m")}};Ah.exports=c8();Ah.exports.createColors=c8});var eA=BT(($L,B6)=>{var O2=S("node:tty"),W2=O2?.WriteStream?.prototype?.hasColors?.()??!1,r=(T,R)=>{if(!W2)return(_)=>_;let A=`\x1B[${T}m`,q=`\x1B[${R}m`;return(_)=>{let h=_+"",B=h.indexOf(q);if(B===-1)return A+h+q;let C=A,O=0;while(B!==-1)C+=h.slice(O,B)+A,O=B+q.length,B=h.indexOf(q,O);return C+=h.slice(O)+q,C}},l={};l.reset=r(0,0);l.bold=r(1,22);l.dim=r(2,22);l.italic=r(3,23);l.underline=r(4,24);l.overline=r(53,55);l.inverse=r(7,27);l.hidden=r(8,28);l.strikethrough=r(9,29);l.black=r(30,39);l.red=r(31,39);l.green=r(32,39);l.yellow=r(33,39);l.blue=r(34,39);l.magenta=r(35,39);l.cyan=r(36,39);l.white=r(37,39);l.gray=r(90,39);l.bgBlack=r(40,49);l.bgRed=r(41,49);l.bgGreen=r(42,49);l.bgYellow=r(43,49);l.bgBlue=r(44,49);l.bgMagenta=r(45,49);l.bgCyan=r(46,49);l.bgWhite=r(47,49);l.bgGray=r(100,49);l.redBright=r(91,39);l.greenBright=r(92,39);l.yellowBright=r(93,39);l.blueBright=r(94,39);l.magentaBright=r(95,39);l.cyanBright=r(96,39);l.whiteBright=r(97,39);l.bgRedBright=r(101,49);l.bgGreenBright=r(102,49);l.bgYellowBright=r(103,49);l.bgBlueBright=r(104,49);l.bgMagentaBright=r(105,49);l.bgCyanBright=r(106,49);l.bgWhiteBright=r(107,49);B6.exports=l});var i6=BT((ML,y6)=>{y6.exports=j2;function E2(T){let R={defaultWidth:0,output:process.stdout,tty:S("tty")};if(!T)return R;return Object.keys(R).forEach(function(A){if(!T[A])T[A]=R[A]}),T}function j2(T){let R=E2(T);if(R.output.getWindowSize)return R.output.getWindowSize()[0]||R.defaultWidth;if(R.tty.getWindowSize)return R.tty.getWindowSize()[1]||R.defaultWidth;if(R.output.columns)return R.output.columns;if(process.env.CLI_WIDTH){let A=parseInt(process.env.CLI_WIDTH,10);if(!isNaN(A)&&A!==0)return A}return R.defaultWidth}});var I6=BT((SL,$6)=>{$6.exports=({onlyFirst:T=!1}={})=>{let R=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(R,T?void 0:"g")}});var J_=BT((PL,E6)=>{var F2=I6();E6.exports=(T)=>typeof T==="string"?T.replace(F2(),""):T});var F6=BT((YL,QC)=>{var j6=(T)=>{if(Number.isNaN(T))return!1;if(T>=4352&&(T<=4447||T===9001||T===9002||11904<=T&&T<=12871&&T!==12351||12880<=T&&T<=19903||19968<=T&&T<=42182||43360<=T&&T<=43388||44032<=T&&T<=55203||63744<=T&&T<=64255||65040<=T&&T<=65049||65072<=T&&T<=65131||65281<=T&&T<=65376||65504<=T&&T<=65510||110592<=T&&T<=110593||127488<=T&&T<=127569||131072<=T&&T<=262141))return!0;return!1};QC.exports=j6;QC.exports.default=j6});var Q6=BT((cL,b6)=>{b6.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var u6=BT((wL,NC)=>{var b2=J_(),Q2=F6(),N2=Q6(),N6=(T)=>{if(typeof T!=="string"||T.length===0)return 0;if(T=b2(T),T.length===0)return 0;T=T.replace(N2(),"  ");let R=0;for(let A=0;A<T.length;A++){let q=T.codePointAt(A);if(q<=31||q>=127&&q<=159)continue;if(q>=768&&q<=879)continue;if(q>65535)A++;R+=Q2(q)?2:1}return R};NC.exports=N6;NC.exports.default=N6});var a6=BT((VL,k6)=>{k6.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var uC=BT((vL,G6)=>{var Tq=a6(),K6={};for(let T of Object.keys(Tq))K6[Tq[T]]=T;var U={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};G6.exports=U;for(let T of Object.keys(U)){if(!("channels"in U[T]))throw new Error("missing channels property: "+T);if(!("labels"in U[T]))throw new Error("missing channel labels property: "+T);if(U[T].labels.length!==U[T].channels)throw new Error("channel and label counts mismatch: "+T);let{channels:R,labels:A}=U[T];delete U[T].channels,delete U[T].labels,Object.defineProperty(U[T],"channels",{value:R}),Object.defineProperty(U[T],"labels",{value:A})}U.rgb.hsl=function(T){let R=T[0]/255,A=T[1]/255,q=T[2]/255,_=Math.min(R,A,q),h=Math.max(R,A,q),B=h-_,C,O;if(h===_)C=0;else if(R===h)C=(A-q)/B;else if(A===h)C=2+(q-R)/B;else if(q===h)C=4+(R-A)/B;if(C=Math.min(C*60,360),C<0)C+=360;let D=(_+h)/2;if(h===_)O=0;else if(D<=0.5)O=B/(h+_);else O=B/(2-h-_);return[C,O*100,D*100]};U.rgb.hsv=function(T){let R,A,q,_,h,B=T[0]/255,C=T[1]/255,O=T[2]/255,D=Math.max(B,C,O),W=D-Math.min(B,C,O),H=function(J){return(D-J)/6/W+0.5};if(W===0)_=0,h=0;else{if(h=W/D,R=H(B),A=H(C),q=H(O),B===D)_=q-A;else if(C===D)_=0.3333333333333333+R-q;else if(O===D)_=0.6666666666666666+A-R;if(_<0)_+=1;else if(_>1)_-=1}return[_*360,h*100,D*100]};U.rgb.hwb=function(T){let R=T[0],A=T[1],q=T[2],_=U.rgb.hsl(T)[0],h=0.00392156862745098*Math.min(R,Math.min(A,q));return q=1-0.00392156862745098*Math.max(R,Math.max(A,q)),[_,h*100,q*100]};U.rgb.cmyk=function(T){let R=T[0]/255,A=T[1]/255,q=T[2]/255,_=Math.min(1-R,1-A,1-q),h=(1-R-_)/(1-_)||0,B=(1-A-_)/(1-_)||0,C=(1-q-_)/(1-_)||0;return[h*100,B*100,C*100,_*100]};function u2(T,R){return(T[0]-R[0])**2+(T[1]-R[1])**2+(T[2]-R[2])**2}U.rgb.keyword=function(T){let R=K6[T];if(R)return R;let A=1/0,q;for(let _ of Object.keys(Tq)){let h=Tq[_],B=u2(T,h);if(B<A)A=B,q=_}return q};U.keyword.rgb=function(T){return Tq[T]};U.rgb.xyz=function(T){let R=T[0]/255,A=T[1]/255,q=T[2]/255;R=R>0.04045?((R+0.055)/1.055)**2.4:R/12.92,A=A>0.04045?((A+0.055)/1.055)**2.4:A/12.92,q=q>0.04045?((q+0.055)/1.055)**2.4:q/12.92;let _=R*0.4124+A*0.3576+q*0.1805,h=R*0.2126+A*0.7152+q*0.0722,B=R*0.0193+A*0.1192+q*0.9505;return[_*100,h*100,B*100]};U.rgb.lab=function(T){let R=U.rgb.xyz(T),A=R[0],q=R[1],_=R[2];A/=95.047,q/=100,_/=108.883,A=A>0.008856?A**0.3333333333333333:7.787*A+0.13793103448275862,q=q>0.008856?q**0.3333333333333333:7.787*q+0.13793103448275862,_=_>0.008856?_**0.3333333333333333:7.787*_+0.13793103448275862;let h=116*q-16,B=500*(A-q),C=200*(q-_);return[h,B,C]};U.hsl.rgb=function(T){let R=T[0]/360,A=T[1]/100,q=T[2]/100,_,h,B;if(A===0)return B=q*255,[B,B,B];if(q<0.5)_=q*(1+A);else _=q+A-q*A;let C=2*q-_,O=[0,0,0];for(let D=0;D<3;D++){if(h=R+0.3333333333333333*-(D-1),h<0)h++;if(h>1)h--;if(6*h<1)B=C+(_-C)*6*h;else if(2*h<1)B=_;else if(3*h<2)B=C+(_-C)*(0.6666666666666666-h)*6;else B=C;O[D]=B*255}return O};U.hsl.hsv=function(T){let R=T[0],A=T[1]/100,q=T[2]/100,_=A,h=Math.max(q,0.01);q*=2,A*=q<=1?q:2-q,_*=h<=1?h:2-h;let B=(q+A)/2,C=q===0?2*_/(h+_):2*A/(q+A);return[R,C*100,B*100]};U.hsv.rgb=function(T){let R=T[0]/60,A=T[1]/100,q=T[2]/100,_=Math.floor(R)%6,h=R-Math.floor(R),B=255*q*(1-A),C=255*q*(1-A*h),O=255*q*(1-A*(1-h));switch(q*=255,_){case 0:return[q,O,B];case 1:return[C,q,B];case 2:return[B,q,O];case 3:return[B,C,q];case 4:return[O,B,q];case 5:return[q,B,C]}};U.hsv.hsl=function(T){let R=T[0],A=T[1]/100,q=T[2]/100,_=Math.max(q,0.01),h,B;B=(2-A)*q;let C=(2-A)*_;return h=A*_,h/=C<=1?C:2-C,h=h||0,B/=2,[R,h*100,B*100]};U.hwb.rgb=function(T){let R=T[0]/360,A=T[1]/100,q=T[2]/100,_=A+q,h;if(_>1)A/=_,q/=_;let B=Math.floor(6*R),C=1-q;if(h=6*R-B,(B&1)!==0)h=1-h;let O=A+h*(C-A),D,W,H;switch(B){default:case 6:case 0:D=C,W=O,H=A;break;case 1:D=O,W=C,H=A;break;case 2:D=A,W=C,H=O;break;case 3:D=A,W=O,H=C;break;case 4:D=O,W=A,H=C;break;case 5:D=C,W=A,H=O;break}return[D*255,W*255,H*255]};U.cmyk.rgb=function(T){let R=T[0]/100,A=T[1]/100,q=T[2]/100,_=T[3]/100,h=1-Math.min(1,R*(1-_)+_),B=1-Math.min(1,A*(1-_)+_),C=1-Math.min(1,q*(1-_)+_);return[h*255,B*255,C*255]};U.xyz.rgb=function(T){let R=T[0]/100,A=T[1]/100,q=T[2]/100,_,h,B;return _=R*3.2406+A*-1.5372+q*-0.4986,h=R*-0.9689+A*1.8758+q*0.0415,B=R*0.0557+A*-0.204+q*1.057,_=_>0.0031308?1.055*_**0.4166666666666667-0.055:_*12.92,h=h>0.0031308?1.055*h**0.4166666666666667-0.055:h*12.92,B=B>0.0031308?1.055*B**0.4166666666666667-0.055:B*12.92,_=Math.min(Math.max(0,_),1),h=Math.min(Math.max(0,h),1),B=Math.min(Math.max(0,B),1),[_*255,h*255,B*255]};U.xyz.lab=function(T){let R=T[0],A=T[1],q=T[2];R/=95.047,A/=100,q/=108.883,R=R>0.008856?R**0.3333333333333333:7.787*R+0.13793103448275862,A=A>0.008856?A**0.3333333333333333:7.787*A+0.13793103448275862,q=q>0.008856?q**0.3333333333333333:7.787*q+0.13793103448275862;let _=116*A-16,h=500*(R-A),B=200*(A-q);return[_,h,B]};U.lab.xyz=function(T){let R=T[0],A=T[1],q=T[2],_,h,B;h=(R+16)/116,_=A/500+h,B=h-q/200;let C=h**3,O=_**3,D=B**3;return h=C>0.008856?C:(h-0.13793103448275862)/7.787,_=O>0.008856?O:(_-0.13793103448275862)/7.787,B=D>0.008856?D:(B-0.13793103448275862)/7.787,_*=95.047,h*=100,B*=108.883,[_,h,B]};U.lab.lch=function(T){let R=T[0],A=T[1],q=T[2],_;if(_=Math.atan2(q,A)*360/2/Math.PI,_<0)_+=360;let B=Math.sqrt(A*A+q*q);return[R,B,_]};U.lch.lab=function(T){let R=T[0],A=T[1],_=T[2]/360*2*Math.PI,h=A*Math.cos(_),B=A*Math.sin(_);return[R,h,B]};U.rgb.ansi16=function(T,R=null){let[A,q,_]=T,h=R===null?U.rgb.hsv(T)[2]:R;if(h=Math.round(h/50),h===0)return 30;let B=30+(Math.round(_/255)<<2|Math.round(q/255)<<1|Math.round(A/255));if(h===2)B+=60;return B};U.hsv.ansi16=function(T){return U.rgb.ansi16(U.hsv.rgb(T),T[2])};U.rgb.ansi256=function(T){let R=T[0],A=T[1],q=T[2];if(R===A&&A===q){if(R<8)return 16;if(R>248)return 231;return Math.round((R-8)/247*24)+232}return 16+36*Math.round(R/255*5)+6*Math.round(A/255*5)+Math.round(q/255*5)};U.ansi16.rgb=function(T){let R=T%10;if(R===0||R===7){if(T>50)R+=3.5;return R=R/10.5*255,[R,R,R]}let A=(~~(T>50)+1)*0.5,q=(R&1)*A*255,_=(R>>1&1)*A*255,h=(R>>2&1)*A*255;return[q,_,h]};U.ansi256.rgb=function(T){if(T>=232){let h=(T-232)*10+8;return[h,h,h]}T-=16;let R,A=Math.floor(T/36)/5*255,q=Math.floor((R=T%36)/6)/5*255,_=R%6/5*255;return[A,q,_]};U.rgb.hex=function(T){let A=(((Math.round(T[0])&255)<<16)+((Math.round(T[1])&255)<<8)+(Math.round(T[2])&255)).toString(16).toUpperCase();return"000000".substring(A.length)+A};U.hex.rgb=function(T){let R=T.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!R)return[0,0,0];let A=R[0];if(R[0].length===3)A=A.split("").map((C)=>{return C+C}).join("");let q=parseInt(A,16),_=q>>16&255,h=q>>8&255,B=q&255;return[_,h,B]};U.rgb.hcg=function(T){let R=T[0]/255,A=T[1]/255,q=T[2]/255,_=Math.max(Math.max(R,A),q),h=Math.min(Math.min(R,A),q),B=_-h,C,O;if(B<1)C=h/(1-B);else C=0;if(B<=0)O=0;else if(_===R)O=(A-q)/B%6;else if(_===A)O=2+(q-R)/B;else O=4+(R-A)/B;return O/=6,O%=1,[O*360,B*100,C*100]};U.hsl.hcg=function(T){let R=T[1]/100,A=T[2]/100,q=A<0.5?2*R*A:2*R*(1-A),_=0;if(q<1)_=(A-0.5*q)/(1-q);return[T[0],q*100,_*100]};U.hsv.hcg=function(T){let R=T[1]/100,A=T[2]/100,q=R*A,_=0;if(q<1)_=(A-q)/(1-q);return[T[0],q*100,_*100]};U.hcg.rgb=function(T){let R=T[0]/360,A=T[1]/100,q=T[2]/100;if(A===0)return[q*255,q*255,q*255];let _=[0,0,0],h=R%1*6,B=h%1,C=1-B,O=0;switch(Math.floor(h)){case 0:_[0]=1,_[1]=B,_[2]=0;break;case 1:_[0]=C,_[1]=1,_[2]=0;break;case 2:_[0]=0,_[1]=1,_[2]=B;break;case 3:_[0]=0,_[1]=C,_[2]=1;break;case 4:_[0]=B,_[1]=0,_[2]=1;break;default:_[0]=1,_[1]=0,_[2]=C}return O=(1-A)*q,[(A*_[0]+O)*255,(A*_[1]+O)*255,(A*_[2]+O)*255]};U.hcg.hsv=function(T){let R=T[1]/100,A=T[2]/100,q=R+A*(1-R),_=0;if(q>0)_=R/q;return[T[0],_*100,q*100]};U.hcg.hsl=function(T){let R=T[1]/100,q=T[2]/100*(1-R)+0.5*R,_=0;if(q>0&&q<0.5)_=R/(2*q);else if(q>=0.5&&q<1)_=R/(2*(1-q));return[T[0],_*100,q*100]};U.hcg.hwb=function(T){let R=T[1]/100,A=T[2]/100,q=R+A*(1-R);return[T[0],(q-R)*100,(1-q)*100]};U.hwb.hcg=function(T){let R=T[1]/100,q=1-T[2]/100,_=q-R,h=0;if(_<1)h=(q-_)/(1-_);return[T[0],_*100,h*100]};U.apple.rgb=function(T){return[T[0]/65535*255,T[1]/65535*255,T[2]/65535*255]};U.rgb.apple=function(T){return[T[0]/255*65535,T[1]/255*65535,T[2]/255*65535]};U.gray.rgb=function(T){return[T[0]/100*255,T[0]/100*255,T[0]/100*255]};U.gray.hsl=function(T){return[0,0,T[0]]};U.gray.hsv=U.gray.hsl;U.gray.hwb=function(T){return[0,100,T[0]]};U.gray.cmyk=function(T){return[0,0,0,T[0]]};U.gray.lab=function(T){return[T[0],0,0]};U.gray.hex=function(T){let R=Math.round(T[0]/100*255)&255,q=((R<<16)+(R<<8)+R).toString(16).toUpperCase();return"000000".substring(q.length)+q};U.rgb.gray=function(T){return[(T[0]+T[1]+T[2])/3/255*100]}});var g6=BT((mL,L6)=>{var y_=uC();function k2(){let T={},R=Object.keys(y_);for(let A=R.length,q=0;q<A;q++)T[R[q]]={distance:-1,parent:null};return T}function a2(T){let R=k2(),A=[T];R[T].distance=0;while(A.length){let q=A.pop(),_=Object.keys(y_[q]);for(let h=_.length,B=0;B<h;B++){let C=_[B],O=R[C];if(O.distance===-1)O.distance=R[q].distance+1,O.parent=q,A.unshift(C)}}return R}function K2(T,R){return function(A){return R(T(A))}}function G2(T,R){let A=[R[T].parent,T],q=y_[R[T].parent][T],_=R[T].parent;while(R[_].parent)A.unshift(R[_].parent),q=K2(y_[R[_].parent][_],q),_=R[_].parent;return q.conversion=A,q}L6.exports=function(T){let R=a2(T),A={},q=Object.keys(R);for(let _=q.length,h=0;h<_;h++){let B=q[h];if(R[B].parent===null)continue;A[B]=G2(B,R)}return A}});var z6=BT((lL,x6)=>{var kC=uC(),L2=g6(),yA={},g2=Object.keys(kC);function x2(T){let R=function(...A){let q=A[0];if(q===void 0||q===null)return q;if(q.length>1)A=q;return T(A)};if("conversion"in T)R.conversion=T.conversion;return R}function z2(T){let R=function(...A){let q=A[0];if(q===void 0||q===null)return q;if(q.length>1)A=q;let _=T(A);if(typeof _==="object")for(let h=_.length,B=0;B<h;B++)_[B]=Math.round(_[B]);return _};if("conversion"in T)R.conversion=T.conversion;return R}g2.forEach((T)=>{yA[T]={},Object.defineProperty(yA[T],"channels",{value:kC[T].channels}),Object.defineProperty(yA[T],"labels",{value:kC[T].labels});let R=L2(T);Object.keys(R).forEach((q)=>{let _=R[q];yA[T][q]=z2(_),yA[T][q].raw=x2(_)})});x6.exports=yA});var S6=BT((dL,M6)=>{var X6=(T,R)=>(...A)=>{return`\x1B[${T(...A)+R}m`},Z6=(T,R)=>(...A)=>{let q=T(...A);return`\x1B[${38+R};5;${q}m`},f6=(T,R)=>(...A)=>{let q=T(...A);return`\x1B[${38+R};2;${q[0]};${q[1]};${q[2]}m`},i_=(T)=>T,U6=(T,R,A)=>[T,R,A],iA=(T,R,A)=>{Object.defineProperty(T,R,{get:()=>{let q=A();return Object.defineProperty(T,R,{value:q,enumerable:!0,configurable:!0}),q},enumerable:!0,configurable:!0})},aC,$A=(T,R,A,q)=>{if(aC===void 0)aC=z6();let _=q?10:0,h={};for(let[B,C]of Object.entries(aC)){let O=B==="ansi16"?"ansi":B;if(B===R)h[O]=T(A,_);else if(typeof C==="object")h[O]=T(C[R],_)}return h};function X2(){let T=new Map,R={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};R.color.gray=R.color.blackBright,R.bgColor.bgGray=R.bgColor.bgBlackBright,R.color.grey=R.color.blackBright,R.bgColor.bgGrey=R.bgColor.bgBlackBright;for(let[A,q]of Object.entries(R)){for(let[_,h]of Object.entries(q))R[_]={open:`\x1B[${h[0]}m`,close:`\x1B[${h[1]}m`},q[_]=R[_],T.set(h[0],h[1]);Object.defineProperty(R,A,{value:q,enumerable:!1})}return Object.defineProperty(R,"codes",{value:T,enumerable:!1}),R.color.close="\x1B[39m",R.bgColor.close="\x1B[49m",iA(R.color,"ansi",()=>$A(X6,"ansi16",i_,!1)),iA(R.color,"ansi256",()=>$A(Z6,"ansi256",i_,!1)),iA(R.color,"ansi16m",()=>$A(f6,"rgb",U6,!1)),iA(R.bgColor,"ansi",()=>$A(X6,"ansi16",i_,!0)),iA(R.bgColor,"ansi256",()=>$A(Z6,"ansi256",i_,!0)),iA(R.bgColor,"ansi16m",()=>$A(f6,"rgb",U6,!0)),R}Object.defineProperty(M6,"exports",{enumerable:!0,get:X2})});var c6=BT((oL,Y6)=>{var Rq=u6(),Z2=J_(),f2=S6(),GC=new Set(["\x1B",""]),P6=(T)=>`${GC.values().next().value}[${T}m`,U2=(T)=>T.split(" ").map((R)=>Rq(R)),KC=(T,R,A)=>{let q=[...R],_=!1,h=Rq(Z2(T[T.length-1]));for(let[B,C]of q.entries()){let O=Rq(C);if(h+O<=A)T[T.length-1]+=C;else T.push(C),h=0;if(GC.has(C))_=!0;else if(_&&C==="m"){_=!1;continue}if(_)continue;if(h+=O,h===A&&B<q.length-1)T.push(""),h=0}if(!h&&T[T.length-1].length>0&&T.length>1)T[T.length-2]+=T.pop()},M2=(T)=>{let R=T.split(" "),A=R.length;while(A>0){if(Rq(R[A-1])>0)break;A--}if(A===R.length)return T;return R.slice(0,A).join(" ")+R.slice(A).join("")},S2=(T,R,A={})=>{if(A.trim!==!1&&T.trim()==="")return"";let q="",_="",h,B=U2(T),C=[""];for(let[O,D]of T.split(" ").entries()){if(A.trim!==!1)C[C.length-1]=C[C.length-1].trimLeft();let W=Rq(C[C.length-1]);if(O!==0){if(W>=R&&(A.wordWrap===!1||A.trim===!1))C.push(""),W=0;if(W>0||A.trim===!1)C[C.length-1]+=" ",W++}if(A.hard&&B[O]>R){let H=R-W,J=1+Math.floor((B[O]-H-1)/R);if(Math.floor((B[O]-1)/R)<J)C.push("");KC(C,D,R);continue}if(W+B[O]>R&&W>0&&B[O]>0){if(A.wordWrap===!1&&W<R){KC(C,D,R);continue}C.push("")}if(W+B[O]>R&&A.wordWrap===!1){KC(C,D,R);continue}C[C.length-1]+=D}if(A.trim!==!1)C=C.map(M2);q=C.join(`
`);for(let[O,D]of[...q].entries()){if(_+=D,GC.has(D)){let H=parseFloat(/\d[^m]*/.exec(q.slice(O,O+4)));h=H===39?null:H}let W=f2.codes.get(Number(h));if(h&&W){if(q[O+1]===`
`)_+=P6(W);else if(D===`
`)_+=P6(h)}}return _};Y6.exports=(T,R,A)=>{return String(T).normalize().replace(/\r\n/g,`
`).split(`
`).map((q)=>S2(q,R,A)).join(`
`)}});var r6=BT((_g,o6)=>{var c2=S("stream");class d6 extends c2{#q=null;constructor(T={}){super(T);this.writable=this.readable=!0,this.muted=!1,this.on("pipe",this._onpipe),this.replace=T.replace,this._prompt=T.prompt||null,this._hadControl=!1}#A(T,R){if(this._dest)return this._dest[T];if(this._src)return this._src[T];return R}#T(T,...R){if(typeof this._dest?.[T]==="function")this._dest[T](...R);if(typeof this._src?.[T]==="function")this._src[T](...R)}get isTTY(){if(this.#q!==null)return this.#q;return this.#A("isTTY",!1)}set isTTY(T){this.#q=T}get rows(){return this.#A("rows")}get columns(){return this.#A("columns")}mute(){this.muted=!0}unmute(){this.muted=!1}_onpipe(T){this._src=T}pipe(T,R){return this._dest=T,super.pipe(T,R)}pause(){if(this._src)return this._src.pause()}resume(){if(this._src)return this._src.resume()}write(T){if(this.muted){if(!this.replace)return!0;if(T.match(/^\u001b/)){if(T.indexOf(this._prompt)===0)T=T.slice(this._prompt.length),T=T.replace(/./g,this.replace),T=this._prompt+T;return this._hadControl=!0,this.emit("data",T)}else{if(this._prompt&&this._hadControl&&T.indexOf(this._prompt)===0)this._hadControl=!1,this.emit("data",this._prompt),T=T.slice(this._prompt.length);T=T.toString().replace(/./g,this.replace)}}this.emit("data",T)}end(T){if(this.muted)if(T&&this.replace)T=T.toString().replace(/./g,this.replace);else T=null;if(T)this.emit("data",T);this.emit("end")}destroy(...T){return this.#T("destroy",...T)}destroySoon(...T){return this.#T("destroySoon",...T)}close(...T){return this.#T("close",...T)}}o6.exports=d6});var F_=BT((v2,XC)=>{var RT=v2;v2.default=RT;var JT="\x1B[",_q="\x1B]",IA="\x07",j_=";",t6=process.env.TERM_PROGRAM==="Apple_Terminal";RT.cursorTo=(T,R)=>{if(typeof T!=="number")throw new TypeError("The `x` argument is required");if(typeof R!=="number")return JT+(T+1)+"G";return JT+(R+1)+";"+(T+1)+"H"};RT.cursorMove=(T,R)=>{if(typeof T!=="number")throw new TypeError("The `x` argument is required");let A="";if(T<0)A+=JT+-T+"D";else if(T>0)A+=JT+T+"C";if(R<0)A+=JT+-R+"A";else if(R>0)A+=JT+R+"B";return A};RT.cursorUp=(T=1)=>JT+T+"A";RT.cursorDown=(T=1)=>JT+T+"B";RT.cursorForward=(T=1)=>JT+T+"C";RT.cursorBackward=(T=1)=>JT+T+"D";RT.cursorLeft=JT+"G";RT.cursorSavePosition=t6?"\x1B7":JT+"s";RT.cursorRestorePosition=t6?"\x1B8":JT+"u";RT.cursorGetPosition=JT+"6n";RT.cursorNextLine=JT+"E";RT.cursorPrevLine=JT+"F";RT.cursorHide=JT+"?25l";RT.cursorShow=JT+"?25h";RT.eraseLines=(T)=>{let R="";for(let A=0;A<T;A++)R+=RT.eraseLine+(A<T-1?RT.cursorUp():"");if(T)R+=RT.cursorLeft;return R};RT.eraseEndLine=JT+"K";RT.eraseStartLine=JT+"1K";RT.eraseLine=JT+"2K";RT.eraseDown=JT+"J";RT.eraseUp=JT+"1J";RT.eraseScreen=JT+"2J";RT.scrollUp=JT+"S";RT.scrollDown=JT+"T";RT.clearScreen="\x1Bc";RT.clearTerminal=process.platform==="win32"?`${RT.eraseScreen}${JT}0f`:`${RT.eraseScreen}${JT}3J${JT}H`;RT.beep=IA;RT.link=(T,R)=>{return[_q,"8",j_,j_,R,IA,T,_q,"8",j_,j_,IA].join("")};RT.image=(T,R={})=>{let A=`${_q}1337;File=inline=1`;if(R.width)A+=`;width=${R.width}`;if(R.height)A+=`;height=${R.height}`;if(R.preserveAspectRatio===!1)A+=";preserveAspectRatio=0";return A+":"+T.toString("base64")+IA};RT.iTerm={setCwd:(T=process.cwd())=>`${_q}50;CurrentDir=${T}${IA}`,annotation:(T,R={})=>{let A=`${_q}1337;`,q=typeof R.x!=="undefined",_=typeof R.y!=="undefined";if((q||_)&&!(q&&_&&typeof R.length!=="undefined"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");if(T=T.replace(/\|/g,""),A+=R.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",R.length>0)A+=(q?[T,R.length,R.x,R.y]:[R.length,T]).join("|");else A+=T;return A+IA}}});var W7=BT((sg,q1)=>{q1.exports=S("./transform.darwin-arm64-sgvh9e03.node")});var H7=BT((W1,Dq)=>{var{readFileSync:_1}=S("fs"),gR=null,w=[],N_=()=>{let T=!1;if(process.platform==="linux"){if(T=B1(),T===null)T=C1();if(T===null)T=D1()}return T},h1=(T)=>T.includes("libc.musl-")||T.includes("ld-musl-"),B1=()=>{try{return _1("/usr/bin/ldd","utf-8").includes("musl")}catch{return null}},C1=()=>{let T=typeof process.report.getReport==="function"?process.report.getReport():null;if(!T)return null;if(T.header&&T.header.glibcVersionRuntime)return!1;if(Array.isArray(T.sharedObjects)){if(T.sharedObjects.some(h1))return!0}return!1},D1=()=>{try{return S("child_process").execSync("ldd --version",{encoding:"utf8"}).includes("musl")}catch(T){return!1}};function O1(){if(process.platform==="android")if(process.arch==="arm64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.android-arm64.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-android-arm64");})()}catch(T){w.push(T)}}else if(process.arch==="arm"){try{return (()=>{throw new Error("Cannot require module "+"./transform.android-arm-eabi.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-android-arm-eabi");})()}catch(T){w.push(T)}}else w.push(new Error(`Unsupported architecture on Android ${process.arch}`));else if(process.platform==="win32")if(process.arch==="x64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.win32-x64-msvc.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-win32-x64-msvc");})()}catch(T){w.push(T)}}else if(process.arch==="ia32"){try{return (()=>{throw new Error("Cannot require module "+"./transform.win32-ia32-msvc.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-win32-ia32-msvc");})()}catch(T){w.push(T)}}else if(process.arch==="arm64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.win32-arm64-msvc.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-win32-arm64-msvc");})()}catch(T){w.push(T)}}else w.push(new Error(`Unsupported architecture on Windows: ${process.arch}`));else if(process.platform==="darwin"){try{return (()=>{throw new Error("Cannot require module "+"./transform.darwin-universal.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-darwin-universal");})()}catch(T){w.push(T)}if(process.arch==="x64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.darwin-x64.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-darwin-x64");})()}catch(T){w.push(T)}}else if(process.arch==="arm64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.darwin-arm64.node");})()}catch(T){w.push(T)}try{return W7()}catch(T){w.push(T)}}else w.push(new Error(`Unsupported architecture on macOS: ${process.arch}`))}else if(process.platform==="freebsd")if(process.arch==="x64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.freebsd-x64.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-freebsd-x64");})()}catch(T){w.push(T)}}else if(process.arch==="arm64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.freebsd-arm64.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-freebsd-arm64");})()}catch(T){w.push(T)}}else w.push(new Error(`Unsupported architecture on FreeBSD: ${process.arch}`));else if(process.platform==="linux")if(process.arch==="x64")if(N_()){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-x64-musl.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-x64-musl");})()}catch(T){w.push(T)}}else{try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-x64-gnu.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-x64-gnu");})()}catch(T){w.push(T)}}else if(process.arch==="arm64")if(N_()){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-arm64-musl.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-arm64-musl");})()}catch(T){w.push(T)}}else{try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-arm64-gnu.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-arm64-gnu");})()}catch(T){w.push(T)}}else if(process.arch==="arm")if(N_()){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-arm-musleabihf.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-arm-musleabihf");})()}catch(T){w.push(T)}}else{try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-arm-gnueabihf.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-arm-gnueabihf");})()}catch(T){w.push(T)}}else if(process.arch==="riscv64")if(N_()){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-riscv64-musl.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-riscv64-musl");})()}catch(T){w.push(T)}}else{try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-riscv64-gnu.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-riscv64-gnu");})()}catch(T){w.push(T)}}else if(process.arch==="ppc64"){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-ppc64-gnu.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-ppc64-gnu");})()}catch(T){w.push(T)}}else if(process.arch==="s390x"){try{return (()=>{throw new Error("Cannot require module "+"./transform.linux-s390x-gnu.node");})()}catch(T){w.push(T)}try{return (()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-linux-s390x-gnu");})()}catch(T){w.push(T)}}else w.push(new Error(`Unsupported architecture on Linux: ${process.arch}`));else w.push(new Error(`Unsupported OS: ${process.platform}, architecture: ${process.arch}`))}gR=O1();if(!gR||process.env.NAPI_RS_FORCE_WASI){try{gR=(()=>{throw new Error("Cannot require module "+"./transform.wasi.cjs");})()}catch(T){if(process.env.NAPI_RS_FORCE_WASI)console.error(T)}if(!gR)try{gR=(()=>{throw new Error("Cannot require module "+"@oxc-transform/binding-wasm32-wasi");})()}catch(T){if(process.env.NAPI_RS_FORCE_WASI)console.error(T)}}if(!gR){if(w.length>0)throw new Error("Failed to load native binding",{cause:w});throw new Error("Failed to load native binding")}W1.HelperMode=gR.HelperMode;W1.isolatedDeclaration=gR.isolatedDeclaration;W1.Severity=gR.Severity;W1.transform=gR.transform});var x7=BT((gx,P1)=>{P1.exports={dots:{interval:80,frames:["","","","","","","","","",""]},dots2:{interval:80,frames:["","","","","","","",""]},dots3:{interval:80,frames:["","","","","","","","","",""]},dots4:{interval:80,frames:["","","","","","","","","","","","","",""]},dots5:{interval:80,frames:["","","","","","","","","","","","","","","","",""]},dots6:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","",""]},dots7:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","",""]},dots8:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dots9:{interval:80,frames:["","","","","","","",""]},dots10:{interval:80,frames:["","","","","","",""]},dots11:{interval:100,frames:["","","","","","","",""]},dots12:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dots13:{interval:80,frames:["","","","","","","",""]},dots8Bit:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sand:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["","-","","","","-"]},pipe:{interval:100,frames:["","","","","","","",""]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["","","","","",""]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","","-","_","_","_"]},hamburger:{interval:100,frames:["","",""]},growVertical:{interval:120,frames:["","","","","","","","","",""]},growHorizontal:{interval:120,frames:["","","","","","","","","","","",""]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","","O","o","."]},noise:{interval:100,frames:["","",""]},bounce:{interval:120,frames:["","","",""]},boxBounce:{interval:120,frames:["","","",""]},boxBounce2:{interval:100,frames:["","","",""]},triangle:{interval:50,frames:["","","",""]},binary:{interval:80,frames:["010010","001100","100101","111010","111101","010111","101011","111000","110011","110101"]},arc:{interval:100,frames:["","","","","",""]},circle:{interval:120,frames:["","",""]},squareCorners:{interval:180,frames:["","","",""]},circleQuarters:{interval:120,frames:["","","",""]},circleHalves:{interval:50,frames:["","","",""]},squish:{interval:100,frames:["",""]},toggle:{interval:250,frames:["",""]},toggle2:{interval:80,frames:["",""]},toggle3:{interval:120,frames:["",""]},toggle4:{interval:100,frames:["","","",""]},toggle5:{interval:100,frames:["",""]},toggle6:{interval:300,frames:["",""]},toggle7:{interval:80,frames:["",""]},toggle8:{interval:100,frames:["",""]},toggle9:{interval:100,frames:["",""]},toggle10:{interval:100,frames:["","",""]},toggle11:{interval:50,frames:["",""]},toggle12:{interval:120,frames:["",""]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["","","","","","","",""]},arrow2:{interval:80,frames:[" "," "," "," "," "," "," "," "]},arrow3:{interval:120,frames:["","","","","",""]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[====]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["(     )","(     )","(     )","(     )","(     )","(     )","(     )","(     )","(     )","(     )"]},smiley:{interval:200,frames:["\uD83D\uDE04 ","\uD83D\uDE1D "]},monkey:{interval:300,frames:["\uD83D\uDE48 ","\uD83D\uDE48 ","\uD83D\uDE49 ","\uD83D\uDE4A "]},hearts:{interval:100,frames:["\uD83D\uDC9B ","\uD83D\uDC99 ","\uD83D\uDC9C ","\uD83D\uDC9A "," "]},clock:{interval:100,frames:["\uD83D\uDD5B ","\uD83D\uDD50 ","\uD83D\uDD51 ","\uD83D\uDD52 ","\uD83D\uDD53 ","\uD83D\uDD54 ","\uD83D\uDD55 ","\uD83D\uDD56 ","\uD83D\uDD57 ","\uD83D\uDD58 ","\uD83D\uDD59 ","\uD83D\uDD5A "]},earth:{interval:180,frames:["\uD83C\uDF0D ","\uD83C\uDF0E ","\uD83C\uDF0F "]},material:{interval:17,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},moon:{interval:80,frames:["\uD83C\uDF11 ","\uD83C\uDF12 ","\uD83C\uDF13 ","\uD83C\uDF14 ","\uD83C\uDF15 ","\uD83C\uDF16 ","\uD83C\uDF17 ","\uD83C\uDF18 "]},runner:{interval:140,frames:["\uD83D\uDEB6 ","\uD83C\uDFC3 "]},pong:{interval:80,frames:["       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       "]},shark:{interval:120,frames:["|\\____________","_|\\___________","__|\\__________","___|\\_________","____|\\________","_____|\\_______","______|\\______","_______|\\_____","________|\\____","_________|\\___","__________|\\__","___________|\\_","____________|\\","____________/|","___________/|_","__________/|__","_________/|___","________/|____","_______/|_____","______/|______","_____/|_______","____/|________","___/|_________","__/|__________","_/|___________","/|____________"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:[" "," "," ","\uD83C\uDF24 "," ","\uD83C\uDF25 "," ","\uD83C\uDF27 ","\uD83C\uDF28 ","\uD83C\uDF27 ","\uD83C\uDF28 ","\uD83C\uDF27 ","\uD83C\uDF28 "," ","\uD83C\uDF28 ","\uD83C\uDF27 ","\uD83C\uDF28 "," ","\uD83C\uDF25 "," ","\uD83C\uDF24 "," "," "]},christmas:{interval:400,frames:["\uD83C\uDF32","\uD83C\uDF84"]},grenade:{interval:80,frames:["  ","  ","  ","  ","  ","  ","  |","  ","  ","  ","  ","   ","   ","   "]},point:{interval:125,frames:["","","","",""]},layer:{interval:150,frames:["-","=",""]},betaWave:{interval:80,frames:["","","","","","",""]},fingerDance:{interval:160,frames:["\uD83E\uDD18 ","\uD83E\uDD1F ","\uD83D\uDD96 "," ","\uD83E\uDD1A ","\uD83D\uDC46 "]},fistBump:{interval:80,frames:["\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B ","\uD83E\uDD1C\uD83E\uDD1B "]},soccerHeader:{interval:80,frames:[" \uD83E\uDDD1       \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1       \uD83E\uDDD1  ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 ","\uD83E\uDDD1        \uD83E\uDDD1 "]},mindblown:{interval:160,frames:["\uD83D\uDE10 ","\uD83D\uDE10 ","\uD83D\uDE2E ","\uD83D\uDE2E ","\uD83D\uDE26 ","\uD83D\uDE26 ","\uD83D\uDE27 ","\uD83D\uDE27 ","\uD83E\uDD2F ","\uD83D\uDCA5 "," "," "," "," "]},speaker:{interval:160,frames:["\uD83D\uDD08 ","\uD83D\uDD09 ","\uD83D\uDD0A ","\uD83D\uDD09 "]},orangePulse:{interval:100,frames:["\uD83D\uDD38 ","\uD83D\uDD36 ","\uD83D\uDFE0 ","\uD83D\uDFE0 ","\uD83D\uDD36 "]},bluePulse:{interval:100,frames:["\uD83D\uDD39 ","\uD83D\uDD37 ","\uD83D\uDD35 ","\uD83D\uDD35 ","\uD83D\uDD37 "]},orangeBluePulse:{interval:100,frames:["\uD83D\uDD38 ","\uD83D\uDD36 ","\uD83D\uDFE0 ","\uD83D\uDFE0 ","\uD83D\uDD36 ","\uD83D\uDD39 ","\uD83D\uDD37 ","\uD83D\uDD35 ","\uD83D\uDD35 ","\uD83D\uDD37 "]},timeTravel:{interval:100,frames:["\uD83D\uDD5B ","\uD83D\uDD5A ","\uD83D\uDD59 ","\uD83D\uDD58 ","\uD83D\uDD57 ","\uD83D\uDD56 ","\uD83D\uDD55 ","\uD83D\uDD54 ","\uD83D\uDD53 ","\uD83D\uDD52 ","\uD83D\uDD51 ","\uD83D\uDD50 "]},aesthetic:{interval:80,frames:["","","","","","","",""]},dwarfFortress:{interval:80,frames:["   ","  ","  ","  ","  ","  ","  ","  ","  ","   ","   ","   ","   ","   ","   ","   ","   ","   ","    ","    ","    ","    ","    ","    ","    ","    ","    ","     ","     ","     ","     ","     ","     ","     ","     ","     ","      ","      ","      ","      ","      ","      ","      ","      ","      ","       ","       ","       ","       ","       ","       ","       ","       ","       ","        ","        ","        ","        ","        ","        ","        ","        ","        ","         ","         ","         ","         ","         ","         ","         ","         ","         ","          ","          ","          ","          ","          ","          ","          ","          ","          ","           ","          &","         &","         &","         &","        & ","         & ","        &  ","        &  ","       &   ","       &   ","      &    ","      &    ","      &     ","      &     ","     &     ","     &     ","    &      ","    &      ","   &      ","   &      ","  &       ","  &       "," &       "," &       ","&        ","&        ","        ","        ","        ","        ","       ","       ","       ","       ","      ","      ","      ","      ","     ","     ","     ","     ","    ","    ","    ","    ","   ","   ","   ","   ","   "]}}});var mC=BT((xx,X7)=>{var L_=Object.assign({},x7()),z7=Object.keys(L_);Object.defineProperty(L_,"random",{get(){let T=Math.floor(Math.random()*z7.length),R=z7[T];return L_[R]}});X7.exports=L_});var P7=BT((vx,S7)=>{S7.exports=()=>{return/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g}});var q4=BT((nz,Z_)=>{var B$=(()=>{let _={},h={font:"Standard",fontPath:"./fonts"};function B(j,b){let i={},I,Q,u,Z,x=[[16384,"vLayout",2],[8192,"vLayout",1],[4096,"vRule5",!0],[2048,"vRule4",!0],[1024,"vRule3",!0],[512,"vRule2",!0],[256,"vRule1",!0],[128,"hLayout",2],[64,"hLayout",1],[32,"hRule6",!0],[16,"hRule5",!0],[8,"hRule4",!0],[4,"hRule3",!0],[2,"hRule2",!0],[1,"hRule1",!0]];I=b!==null?b:j,Q=0,u=x.length;while(Q<u){if(Z=x[Q],I>=Z[0])I=I-Z[0],i[Z[1]]=typeof i[Z[1]]==="undefined"?Z[2]:i[Z[1]];else if(Z[1]!=="vLayout"&&Z[1]!=="hLayout")i[Z[1]]=!1;Q++}if(typeof i.hLayout==="undefined")if(j===0)i.hLayout=1;else if(j===-1)i.hLayout=0;else if(i.hRule1||i.hRule2||i.hRule3||i.hRule4||i.hRule5||i.hRule6)i.hLayout=3;else i.hLayout=2;else if(i.hLayout===2){if(i.hRule1||i.hRule2||i.hRule3||i.hRule4||i.hRule5||i.hRule6)i.hLayout=3}if(typeof i.vLayout==="undefined")if(i.vRule1||i.vRule2||i.vRule3||i.vRule4||i.vRule5)i.vLayout=3;else i.vLayout=0;else if(i.vLayout===2){if(i.vRule1||i.vRule2||i.vRule3||i.vRule4||i.vRule5)i.vLayout=3}return i}function C(j,b,i){if(j===b&&j!==i)return j;return!1}function O(j,b){let i="|/\\[]{}()<>";if(j==="_"){if(i.indexOf(b)!==-1)return b}else if(b==="_"){if(i.indexOf(j)!==-1)return j}return!1}function D(j,b){let i="| /\\ [] {} () <>",I=i.indexOf(j),Q=i.indexOf(b);if(I!==-1&&Q!==-1){if(I!==Q&&Math.abs(I-Q)!==1){let u=Math.max(I,Q),Z=u+1;return i.substring(u,Z)}}return!1}function W(j,b){let i="[] {} ()",I=i.indexOf(j),Q=i.indexOf(b);if(I!==-1&&Q!==-1){if(Math.abs(I-Q)<=1)return"|"}return!1}function H(j,b){let i="/\\ \\/ ><",I={0:"|",3:"Y",6:"X"},Q=i.indexOf(j),u=i.indexOf(b);if(Q!==-1&&u!==-1){if(u-Q===1)return I[Q]}return!1}function J(j,b,i){if(j===i&&b===i)return i;return!1}function y(j,b){if(j===b)return j;return!1}function $(j,b){let i="|/\\[]{}()<>";if(j==="_"){if(i.indexOf(b)!==-1)return b}else if(b==="_"){if(i.indexOf(j)!==-1)return j}return!1}function E(j,b){let i="| /\\ [] {} () <>",I=i.indexOf(j),Q=i.indexOf(b);if(I!==-1&&Q!==-1){if(I!==Q&&Math.abs(I-Q)!==1){let u=Math.max(I,Q),Z=u+1;return i.substring(u,Z)}}return!1}function N(j,b){if(j==="-"&&b==="_"||j==="_"&&b==="-")return"=";return!1}function K(j,b){if(j==="|"&&b==="|")return"|";return!1}function k(j,b,i){if(b===" "||b==="")return j;else if(b===i&&j!==" ")return j;else return b}function G(j,b,i){if(i.fittingRules.vLayout===0)return"invalid";let I,Q=Math.min(j.length,b.length),u,Z,x=!1,z;if(Q===0)return"invalid";for(I=0;I<Q;I++)if(u=j.substring(I,I+1),Z=b.substring(I,I+1),u!==" "&&Z!==" ")if(i.fittingRules.vLayout===1)return"invalid";else if(i.fittingRules.vLayout===2)return"end";else{if(K(u,Z)){x=x||!1;continue}if(z=!1,z=i.fittingRules.vRule1?y(u,Z):z,z=!z&&i.fittingRules.vRule2?$(u,Z):z,z=!z&&i.fittingRules.vRule3?E(u,Z):z,z=!z&&i.fittingRules.vRule4?N(u,Z):z,x=!0,!z)return"invalid"}if(x)return"end";else return"valid"}function F(j,b,i){let{length:I,length:Q}=j,u=b.length,Z,x,z,M=1,IT,FT,t;while(M<=I){Z=j.slice(Math.max(0,Q-M),Q),x=b.slice(0,Math.min(I,M)),z=x.length,t="";for(IT=0;IT<z;IT++)if(FT=G(Z[IT],x[IT],i),FT==="end")t=FT;else if(FT==="invalid"){t=FT;break}else if(t==="")t="valid";if(t==="invalid"){M--;break}if(t==="end")break;if(t==="valid")M++}return Math.min(I,M)}function g(j,b,i){let I,Q=Math.min(j.length,b.length),u,Z,x="",z;for(I=0;I<Q;I++)if(u=j.substring(I,I+1),Z=b.substring(I,I+1),u!==" "&&Z!==" ")if(i.fittingRules.vLayout===1)x+=k(u,Z);else if(i.fittingRules.vLayout===2)x+=k(u,Z);else z=!1,z=i.fittingRules.vRule5?K(u,Z):z,z=!z&&i.fittingRules.vRule1?y(u,Z):z,z=!z&&i.fittingRules.vRule2?$(u,Z):z,z=!z&&i.fittingRules.vRule3?E(u,Z):z,z=!z&&i.fittingRules.vRule4?N(u,Z):z,x+=z;else x+=k(u,Z);return x}function P(j,b,i,I){let Q=j.length,u=b.length,Z=j.slice(0,Math.max(0,Q-i)),x=j.slice(Math.max(0,Q-i),Q),z=b.slice(0,Math.min(i,u)),M,IT,FT,t=[],iT,rT=[];IT=x.length;for(M=0;M<IT;M++){if(M>=u)FT=x[M];else FT=g(x[M],z[M],I);t.push(FT)}return iT=b.slice(Math.min(i,u),u),rT.concat(Z,t,iT)}function V(j,b){let i,I=j.length,Q="";for(i=0;i<b;i++)Q+=" ";for(i=0;i<I;i++)j[i]+=Q}function m(j,b,i){let I=j[0].length,Q=b[0].length,u;if(I>Q)V(b,I-Q);else if(Q>I)V(j,Q-I);return u=F(j,b,i),P(j,b,u,i)}function kT(j,b,i){if(i.fittingRules.hLayout===0)return 0;let I,Q=j.length,u=b.length,Z=Q,x=1,z=!1,M=!1,IT,FT,t,iT;if(Q===0)return 0;T:while(x<=Z){let rT=Q-x;IT=j.substring(rT,rT+x),FT=b.substring(0,Math.min(x,u));for(I=0;I<Math.min(x,u);I++)if(t=IT.substring(I,I+1),iT=FT.substring(I,I+1),t!==" "&&iT!==" "){if(i.fittingRules.hLayout===1){x=x-1;break T}else if(i.fittingRules.hLayout===2){if(t===i.hardBlank||iT===i.hardBlank)x=x-1;break T}else if(z=!0,M=!1,M=i.fittingRules.hRule1?C(t,iT,i.hardBlank):M,M=!M&&i.fittingRules.hRule2?O(t,iT,i.hardBlank):M,M=!M&&i.fittingRules.hRule3?D(t,iT,i.hardBlank):M,M=!M&&i.fittingRules.hRule4?W(t,iT,i.hardBlank):M,M=!M&&i.fittingRules.hRule5?H(t,iT,i.hardBlank):M,M=!M&&i.fittingRules.hRule6?J(t,iT,i.hardBlank):M,!M){x=x-1;break T}}if(z)break;x++}return Math.min(Z,x)}function TR(j,b,i,I){let Q,u,Z=[],x,z,M,IT,FT,t,iT,rT;for(Q=0;Q<I.height;Q++){iT=j[Q],rT=b[Q],FT=iT.length,t=rT.length,x=FT-i,z=iT.substr(0,Math.max(0,x)),M="";let O8=Math.max(0,FT-i);var P9=iT.substring(O8,O8+i),jq=rT.substring(0,Math.min(i,t));for(u=0;u<i;u++){var KT=u<FT?P9.substring(u,u+1):" ",fT=u<t?jq.substring(u,u+1):" ";if(KT!==" "&&fT!==" ")if(I.fittingRules.hLayout===1)M+=k(KT,fT,I.hardBlank);else if(I.fittingRules.hLayout===2)M+=k(KT,fT,I.hardBlank);else{var ET="";ET=!ET&&I.fittingRules.hRule1?C(KT,fT,I.hardBlank):ET,ET=!ET&&I.fittingRules.hRule2?O(KT,fT,I.hardBlank):ET,ET=!ET&&I.fittingRules.hRule3?D(KT,fT,I.hardBlank):ET,ET=!ET&&I.fittingRules.hRule4?W(KT,fT,I.hardBlank):ET,ET=!ET&&I.fittingRules.hRule5?H(KT,fT,I.hardBlank):ET,ET=!ET&&I.fittingRules.hRule6?J(KT,fT,I.hardBlank):ET,ET=ET||k(KT,fT,I.hardBlank),M+=ET}else M+=k(KT,fT,I.hardBlank)}if(i>=t)IT="";else IT=rT.substring(i,i+Math.max(0,t-i));Z[Q]=z+M+IT}return Z}function d(j){let b=[],i;for(i=0;i<j;i++)b[i]="";return b}let Y=function(j){return Math.max.apply(Math,j.map(function(b,i){return b.length}))};function s(j,b,i){return j.reduce(function(I,Q){return TR(I,Q.fig,Q.overlap,i)},d(b))}function DT(j,b,i){let I={};for(let Q=j.length;--Q;){let u=s(j.slice(0,Q),b,i);if(Y(u)<=i.width){if(I.outputFigText=u,Q<j.length)I.chars=j.slice(Q);else I.chars=[];break}}return I}function HR(j,b,i){let I,Q,u=0,Z,x,z,M=i.height,IT=[],FT,t,iT=[],rT,P9,jq,KT,fT;if(x=d(M),i.width>0&&i.whitespaceBreak)t={chars:[],overlap:u};if(i.printDirection===1)j=j.split("").reverse().join("");z=j.length;for(I=0;I<z;I++)if(rT=j.substring(I,I+1),P9=rT.match(/\s/),Q=b[rT.charCodeAt(0)],KT=null,Q){if(i.fittingRules.hLayout!==0){u=1e4;for(Z=0;Z<i.height;Z++)u=Math.min(u,kT(x[Z],Q[Z],i));u=u===1e4?0:u}if(i.width>0){if(i.whitespaceBreak)jq=s(t.chars.concat([{fig:Q,overlap:u}]),M,i),KT=s(iT.concat([{fig:jq,overlap:t.overlap}]),M,i),FT=Y(KT);else KT=TR(x,Q,u,i),FT=Y(KT);if(FT>=i.width&&I>0)if(i.whitespaceBreak){if(x=s(iT.slice(0,-1),M,i),iT.length>1)IT.push(x),x=d(M);iT=[]}else IT.push(x),x=d(M)}if(i.width>0&&i.whitespaceBreak){if(!P9||I===z-1)t.chars.push({fig:Q,overlap:u});if(P9||I===z-1){fT=null;while(!0)if(KT=s(t.chars,M,i),FT=Y(KT),FT>=i.width)fT=DT(t.chars,M,i),t={chars:fT.chars},IT.push(fT.outputFigText);else break;if(FT>0)if(fT)iT.push({fig:KT,overlap:1});else iT.push({fig:KT,overlap:t.overlap});if(P9)iT.push({fig:Q,overlap:u}),x=d(M);if(I===z-1)x=s(iT,M,i);t={chars:[],overlap:u};continue}}x=TR(x,Q,u,i)}if(Y(x)>0)IT.push(x);if(i.showHardBlanks!==!0)IT.forEach(function(ET){z=ET.length;for(Z=0;Z<z;Z++)ET[Z]=ET[Z].replace(new RegExp("\\"+i.hardBlank,"g")," ")});return IT}let JR=function(j,b){let i=["hLayout","hRule1","hRule2","hRule3","hRule4","hRule5","hRule6"],I={},Q;if(j==="default")for(Q=0;Q<i.length;Q++)I[i[Q]]=b.fittingRules[i[Q]];else if(j==="full")I={hLayout:0,hRule1:!1,hRule2:!1,hRule3:!1,hRule4:!1,hRule5:!1,hRule6:!1};else if(j==="fitted")I={hLayout:1,hRule1:!1,hRule2:!1,hRule3:!1,hRule4:!1,hRule5:!1,hRule6:!1};else if(j==="controlled smushing")I={hLayout:3,hRule1:!0,hRule2:!0,hRule3:!0,hRule4:!0,hRule5:!0,hRule6:!0};else if(j==="universal smushing")I={hLayout:2,hRule1:!1,hRule2:!1,hRule3:!1,hRule4:!1,hRule5:!1,hRule6:!1};else return;return I},bR=function(j,b){let i=["vLayout","vRule1","vRule2","vRule3","vRule4","vRule5"],I={},Q;if(j==="default")for(Q=0;Q<i.length;Q++)I[i[Q]]=b.fittingRules[i[Q]];else if(j==="full")I={vLayout:0,vRule1:!1,vRule2:!1,vRule3:!1,vRule4:!1,vRule5:!1};else if(j==="fitted")I={vLayout:1,vRule1:!1,vRule2:!1,vRule3:!1,vRule4:!1,vRule5:!1};else if(j==="controlled smushing")I={vLayout:3,vRule1:!0,vRule2:!0,vRule3:!0,vRule4:!0,vRule5:!0};else if(j==="universal smushing")I={vLayout:2,vRule1:!1,vRule2:!1,vRule3:!1,vRule4:!1,vRule5:!1};else return;return I},uA=function(j,b,i){i=i.replace(/\r\n/g,`
`).replace(/\r/g,`
`);let I=i.split(`
`),Q=[],u,Z,x;Z=I.length;for(u=0;u<Z;u++)Q=Q.concat(HR(I[u],_[j],b));Z=Q.length,x=Q[0];for(u=1;u<Z;u++)x=m(x,Q[u],b);return x?x.join(`
`):""};function D8(j,b){let i=JSON.parse(JSON.stringify(j)),I,Q;if(typeof b.horizontalLayout!=="undefined"){I=JR(b.horizontalLayout,j);for(Q in I)if(I.hasOwnProperty(Q))i.fittingRules[Q]=I[Q]}if(typeof b.verticalLayout!=="undefined"){I=bR(b.verticalLayout,j);for(Q in I)if(I.hasOwnProperty(Q))i.fittingRules[Q]=I[Q]}return i.printDirection=typeof b.printDirection!=="undefined"?b.printDirection:j.printDirection,i.showHardBlanks=b.showHardBlanks||!1,i.width=b.width||-1,i.whitespaceBreak=b.whitespaceBreak||!1,i}let MT=function(j,b,i){return MT.text(j,b,i)};return MT.text=async function(j,b,i){let I="";if(j=j+"",typeof arguments[1]==="function")i=b,b={},b.font=h.font;if(typeof b==="string")I=b,b={};else b=b||{},I=b.font||h.font;return await new Promise((Q,u)=>{MT.loadFont(I,function(Z,x){if(Z){if(u(Z),i)i(Z);return}let z=uA(I,D8(x,b),j);if(Q(z),i)i(null,z)})})},MT.textSync=function(j,b){let i="";if(j=j+"",typeof b==="string")i=b,b={};else b=b||{},i=b.font||h.font;var I=D8(MT.loadFontSync(i),b);return uA(i,I,j)},MT.metadata=function(j,b){return j=j+"",new Promise(function(i,I){MT.loadFont(j,function(Q,u){if(Q){if(b)b(Q);I(Q);return}if(b)b(null,u,_[j].comment);i([u,_[j].comment])})})},MT.defaults=function(j){if(typeof j==="object"&&j!==null){for(var b in j)if(j.hasOwnProperty(b))h[b]=j[b]}return JSON.parse(JSON.stringify(h))},MT.parseFont=function(j,b){b=b.replace(/\r\n/g,`
`).replace(/\r/g,`
`),_[j]={};var i=b.split(`
`),I=i.splice(0,1)[0].split(" "),Q=_[j],u={};if(u.hardBlank=I[0].substr(5,1),u.height=parseInt(I[1],10),u.baseline=parseInt(I[2],10),u.maxLength=parseInt(I[3],10),u.oldLayout=parseInt(I[4],10),u.numCommentLines=parseInt(I[5],10),u.printDirection=I.length>=6?parseInt(I[6],10):0,u.fullLayout=I.length>=7?parseInt(I[7],10):null,u.codeTagCount=I.length>=8?parseInt(I[8],10):null,u.fittingRules=B(u.oldLayout,u.fullLayout),Q.options=u,u.hardBlank.length!==1||isNaN(u.height)||isNaN(u.baseline)||isNaN(u.maxLength)||isNaN(u.oldLayout)||isNaN(u.numCommentLines))throw new Error("FIGlet header contains invalid values.");let Z=[],x;for(x=32;x<=126;x++)Z.push(x);if(Z=Z.concat(196,214,220,228,246,252,223),i.length<u.numCommentLines+u.height*Z.length)throw new Error("FIGlet file is missing data.");let z,M,IT=!1;Q.comment=i.splice(0,u.numCommentLines).join(`
`),Q.numChars=0;while(i.length>0&&Q.numChars<Z.length){z=Z[Q.numChars],Q[z]=i.splice(0,u.height);for(x=0;x<u.height;x++)if(typeof Q[z][x]==="undefined")Q[z][x]="";else M=new RegExp("\\"+Q[z][x].substr(Q[z][x].length-1,1)+"+$"),Q[z][x]=Q[z][x].replace(M,"");Q.numChars++}while(i.length>0){if(z=i.splice(0,1)[0].split(" ")[0],/^0[xX][0-9a-fA-F]+$/.test(z))z=parseInt(z,16);else if(/^0[0-7]+$/.test(z))z=parseInt(z,8);else if(/^[0-9]+$/.test(z))z=parseInt(z,10);else if(/^-0[xX][0-9a-fA-F]+$/.test(z))z=parseInt(z,16);else{if(z==="")break;console.log("Invalid data:"+z),IT=!0;break}Q[z]=i.splice(0,u.height);for(x=0;x<u.height;x++)if(typeof Q[z][x]==="undefined")Q[z][x]="";else M=new RegExp("\\"+Q[z][x].substr(Q[z][x].length-1,1)+"+$"),Q[z][x]=Q[z][x].replace(M,"");Q.numChars++}if(IT===!0)throw new Error("Error parsing data.");return u},MT.loadFont=function(j,b){if(_[j]){if(b)b(null,_[j].options);return Promise.resolve()}if(typeof fetch!=="function")throw console.error("figlet.js requires the fetch API or a fetch polyfill such as https://cdnjs.com/libraries/fetch"),new Error("fetch is required for figlet.js to work.");return fetch(h.fontPath+"/"+j+".flf").then(function(i){if(i.ok)return i.text();throw console.log("Unexpected response",i),new Error("Network response was not ok.")}).then(function(i){if(b)b(null,MT.parseFont(j,i))}).catch(b)},MT.loadFontSync=function(j){if(_[j])return _[j].options;throw new Error("synchronous font loading is not implemented for the browser")},MT.preloadFonts=function(j,b){let i=[];return j.reduce(function(I,Q){return I.then(function(){return fetch(h.fontPath+"/"+Q+".flf").then((u)=>{return u.text()}).then(function(u){i.push(u)})})},Promise.resolve()).then(function(I){for(var Q in j)if(j.hasOwnProperty(Q))MT.parseFont(j[Q],i[Q]);if(b)b()})},MT.figFonts=_,MT})();if(typeof Z_!=="undefined"){if(typeof Z_.exports!=="undefined")Z_.exports=B$}});var h4=BT((sz,_4)=>{var __dirname="/Users/irsyad/code/justd-cli/node_modules/figlet/lib",WR=q4(),f_=S("fs"),B8=S("path"),U_=B8.join(__dirname,"/../fonts/");WR.loadFont=function(T,R){return new Promise(function(A,q){if(WR.figFonts[T]){R&&R(null,WR.figFonts[T].options),A(WR.figFonts[T].options);return}f_.readFile(B8.join(U_,T+".flf"),{encoding:"utf-8"},function(_,h){if(_){R&&R(_),q(_);return}h=h+"";try{var B=WR.parseFont(T,h);R&&R(null,B),A(B)}catch(C){R&&R(C),q(C)}})})};WR.loadFontSync=function(T){if(WR.figFonts[T])return WR.figFonts[T].options;var R=f_.readFileSync(B8.join(U_,T+".flf"),{encoding:"utf-8"});return R=R+"",WR.parseFont(T,R)};WR.fonts=function(T){return new Promise(function(R,A){var q=[];f_.readdir(U_,function(_,h){if(_){T&&T(_),A(_);return}h.forEach(function(B){if(/\.flf$/.test(B))q.push(B.replace(/\.flf$/,""))}),T&&T(null,q),R(q)})})};WR.fontsSync=function(){var T=[];return f_.readdirSync(U_).forEach(function(R){if(/\.flf$/.test(R))T.push(R.replace(/\.flf$/,""))}),T};_4.exports=WR});var G8=XT(K8(),1),{program:XR,createCommand:L$,createArgument:g$,createOption:x$,CommanderError:z$,InvalidArgumentError:X$,InvalidOptionArgumentError:Z$,Command:f$,Argument:U$,Option:M$,Help:S$}=G8.default;import KA from"node:process";import{Buffer as MJ}from"node:buffer";import M8 from"node:path";import{fileURLToPath as SJ}from"node:url";import PJ from"node:child_process";import e_,{constants as S8}from"node:fs/promises";import x8 from"node:process";import jJ from"node:os";import FJ from"node:fs";import IJ from"node:fs";import L8 from"node:fs";var m_;function iJ(){try{return L8.statSync("/.dockerenv"),!0}catch{return!1}}function $J(){try{return L8.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}function l_(){if(m_===void 0)m_=iJ()||$J();return m_}var d_,EJ=()=>{try{return IJ.statSync("/run/.containerenv"),!0}catch{return!1}};function Y9(){if(d_===void 0)d_=EJ()||l_();return d_}var g8=()=>{if(x8.platform!=="linux")return!1;if(jJ.release().toLowerCase().includes("microsoft")){if(Y9())return!1;return!0}try{return FJ.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!Y9():!1}catch{return!1}},aA=x8.env.__IS_WSL_TEST__?g8:g8();function J9(T,R,A){let q=(_)=>Object.defineProperty(T,R,{value:_,enumerable:!0,writable:!0});return Object.defineProperty(T,R,{configurable:!0,enumerable:!0,get(){let _=A();return q(_),_},set(_){q(_)}}),T}import{promisify as XJ}from"node:util";import s_ from"node:process";import{execFile as ZJ}from"node:child_process";import{promisify as bJ}from"node:util";import QJ from"node:process";import{execFile as NJ}from"node:child_process";var uJ=bJ(NJ);async function o_(){if(QJ.platform!=="darwin")throw new Error("macOS only");let{stdout:T}=await uJ("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(T)?.groups.id??"com.apple.Safari"}import kJ from"node:process";import{promisify as aJ}from"node:util";import{execFile as KJ,execFileSync as qI}from"node:child_process";var GJ=aJ(KJ);async function z8(T,{humanReadableOutput:R=!0}={}){if(kJ.platform!=="darwin")throw new Error("macOS only");let A=R?[]:["-ss"],{stdout:q}=await GJ("osascript",["-e",T,A]);return q.trim()}async function r_(T){return z8(`tell application "Finder" to set app_path to application file id "${T}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}import{promisify as LJ}from"node:util";import{execFile as gJ}from"node:child_process";var xJ=LJ(gJ),zJ={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}};class p_ extends Error{}async function n_(T=xJ){let{stdout:R}=await T("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),A=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(R);if(!A)throw new p_(`Cannot find Windows browser in stdout: ${JSON.stringify(R)}`);let{id:q}=A.groups,_=zJ[q];if(!_)throw new p_(`Unknown browser ID: ${q}`);return _}var fJ=XJ(ZJ),UJ=(T)=>T.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,(R)=>R.toUpperCase());async function t_(){if(s_.platform==="darwin"){let T=await o_();return{name:await r_(T),id:T}}if(s_.platform==="linux"){let{stdout:T}=await fJ("xdg-mime",["query","default","x-scheme-handler/http"]),R=T.trim();return{name:UJ(R.replace(/.desktop$/,"").replace("-"," ")),id:R}}if(s_.platform==="win32")return n_();throw new Error("Only macOS, Linux, and Windows are supported")}var Th=M8.dirname(SJ(import.meta.url)),X8=M8.join(Th,"xdg-open"),{platform:c9,arch:Z8}=KA,YJ=(()=>{let R;return async function(){if(R)return R;let A="/etc/wsl.conf",q=!1;try{await e_.access(A,S8.F_OK),q=!0}catch{}if(!q)return"/mnt/";let _=await e_.readFile(A,{encoding:"utf8"}),h=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(_);if(!h)return"/mnt/";return R=h.groups.mountPoint.trim(),R=R.endsWith("/")?R:`${R}/`,R}})(),f8=async(T,R)=>{let A;for(let q of T)try{return await R(q)}catch(_){A=_}throw A},Qq=async(T)=>{if(T={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...T},Array.isArray(T.app))return f8(T.app,(C)=>Qq({...T,app:C}));let{name:R,arguments:A=[]}=T.app??{};if(A=[...A],Array.isArray(R))return f8(R,(C)=>Qq({...T,app:{name:C,arguments:A}}));if(R==="browser"||R==="browserPrivate"){let C={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","microsoft-edge.desktop":"edge"},O={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},D=await t_();if(D.id in C){let W=C[D.id];if(R==="browserPrivate")A.push(O[W]);return Qq({...T,app:{name:w9[W],arguments:A}})}throw new Error(`${D.name} is not supported as a default browser`)}let q,_=[],h={};if(c9==="darwin"){if(q="open",T.wait)_.push("--wait-apps");if(T.background)_.push("--background");if(T.newInstance)_.push("--new");if(R)_.push("-a",R)}else if(c9==="win32"||aA&&!Y9()&&!R){let C=await YJ();if(q=aA?`${C}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${KA.env.SYSTEMROOT||KA.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,_.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),!aA)h.windowsVerbatimArguments=!0;let O=["Start"];if(T.wait)O.push("-Wait");if(R){if(O.push(`"\`"${R}\`""`),T.target)A.push(T.target)}else if(T.target)O.push(`"${T.target}"`);if(A.length>0)A=A.map((D)=>`"\`"${D}\`""`),O.push("-ArgumentList",A.join(","));T.target=MJ.from(O.join(" "),"utf16le").toString("base64")}else{if(R)q=R;else{let C=!Th||Th==="/",O=!1;try{await e_.access(X8,S8.X_OK),O=!0}catch{}q=KA.versions.electron??(c9==="android"||C||!O)?"xdg-open":X8}if(A.length>0)_.push(...A);if(!T.wait)h.stdio="ignore",h.detached=!0}if(c9==="darwin"&&A.length>0)_.push("--args",...A);if(T.target)_.push(T.target);let B=PJ.spawn(q,_,h);if(T.wait)return new Promise((C,O)=>{B.once("error",O),B.once("close",(D)=>{if(!T.allowNonzeroExitCode&&D>0){O(new Error(`Exited with code ${D}`));return}C(B)})});return B.unref(),B},cJ=(T,R)=>{if(typeof T!=="string")throw new TypeError("Expected a `target`");return Qq({...R,target:T})};function U8(T){if(typeof T==="string"||Array.isArray(T))return T;let{[Z8]:R}=T;if(!R)throw new Error(`${Z8} is not supported`);return R}function Rh({[c9]:T},{wsl:R}){if(R&&aA)return U8(R);if(!T)throw new Error(`${c9} is not supported`);return U8(T)}var w9={};J9(w9,"chrome",()=>Rh({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));J9(w9,"firefox",()=>Rh({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));J9(w9,"edge",()=>Rh({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));J9(w9,"browser",()=>"browser");J9(w9,"browserPrivate",()=>"browserPrivate");var P8=cJ;var GA={name:"justd-cli",type:"module",version:"2.3.26",description:"The command line interface for Justd.",main:"dist/index.js",bin:{"justd-cli":"dist/index.js"},files:["dist","src/resources","LICENSE","README.md","package.json"],repository:{type:"git",url:"git+https://github.com/justdlabs/cli.git"},homepage:"https://getjustd.com/cli",scripts:{dev:"bun build ./src/index.ts --outdir ./dist --target=node --minify --watch",start:"bun ./src/index.ts",prepare:"npx husky",build:"bun build ./src/index.ts --outdir ./dist --target=node --minify",format:"biome lint --fix && biome check --write",test:"bun run build && bun link",preview:"bun run clean && bun run build && bun link",pr:"bun run build && git commit -a",pre:"chmod a+x dist/index.js",release:"export GITHUB_TOKEN=$(cat .github_token) && release-it",typecheck:"tsc --noEmit"},keywords:["cli","justd cli","Justd","design-system","justd"],author:"Irsyad A. Panjaitan",license:"MIT",devDependencies:{"@biomejs/biome":"^1.9.4","@changesets/cli":"^2.27.11","@commitlint/cli":"^19.6.1","@commitlint/config-conventional":"^19.6.0","@release-it/conventional-changelog":"^10.0.0","@types/babel__core":"^7.20.5","@types/diff":"^7.0.0","@types/figlet":"^1.7.0","@types/fs-extra":"^11.0.4","@types/inquirer":"^9.0.7","@types/node":"^22.10.6",husky:"^9.1.5","release-it":"^18.1.1",rimraf:"^6.0.1",typescript:"^5.7.3"},dependencies:{"@antfu/ni":"^23.2.0","@babel/core":"^7.26.0","@babel/parser":"^7.26.5","@babel/plugin-transform-typescript":"^7.26.5","@inquirer/prompts":"^7.2.3",arktype:"^2.0.0-rc.33",commander:"^13.0.0",diff:"^5.2.0",figlet:"^1.8.0",open:"^10.1.0",ora:"^8.1.1","oxc-transform":"^0.46.0","strip-json-comments":"^5.0.1"},"release-it":{git:{commitMessage:"chore: release ${version}",tagName:"v${version}"},github:{release:!0},npm:{publish:!1},publishConfig:{access:"public",registry:"https://npm.pkg.github.com"},plugins:{"@release-it/conventional-changelog":{infile:"CHANGELOG.md",preset:{name:"conventionalcommits",types:[{type:"feat",section:"Features"},{type:"fix",section:"Bug Fixes"},{type:"refactor",section:"Refactors"},{type:"chore",section:"Chores"}]}}}}};import OR from"node:fs";import x_ from"node:path";var LA=["buttons","controls","collections","date-and-time","drag-and-drop","forms","navigation","overlays","pickers","statuses","surfaces","media","colors","layouts"],y9=[{name:"heading"},{name:"primitive"},{name:"dropdown"},{name:"dialog",children:[{name:"button"}]},{name:"field"},{name:"keyboard"},{name:"visually-hidden"},{name:"forms",children:[{name:"form"},{name:"text-field"},{name:"tag-field"},{name:"radio"},{name:"checkbox"},{name:"textarea"},{name:"number-field"},{name:"search-field"},{name:"input-otp"},{name:"choicebox"}]},{name:"collections",children:[{name:"menu"},{name:"grid-list"},{name:"list-box"},{name:"tabs"},{name:"tag-group"},{name:"table"},{name:"choicebox"},{name:"tree"}]},{name:"date-and-time",children:[{name:"date-field"},{name:"date-picker"},{name:"date-range-picker"},{name:"popover"}]},{name:"navigation",children:[{name:"link"},{name:"breadcrumbs"},{name:"pagination"},{name:"button"},{name:"disclosure"},{name:"button"},{name:"separator"},{name:"field"}]},{name:"overlays",children:[{name:"sheet"},{name:"modal"},{name:"drawer"},{name:"popover"},{name:"tooltip"}]},{name:"pickers",children:[{name:"combo-box"},{name:"select"},{name:"multiple-select"}]},{name:"statuses",children:[{name:"skeleton"},{name:"badge"},{name:"loader"},{name:"progress-bar"},{name:"progress-circle"},{name:"meter"},{name:"note"},{name:"toast"}]},{name:"surfaces",children:[{name:"card"},{name:"chart"},{name:"description-list"},{name:"grid"},{name:"separator"},{name:"show-more"}]},{name:"media",children:[{name:"avatar"},{name:"carousel"}]},{name:"colors",children:[{name:"color-picker"},{name:"color-swatch-picker"}]},{name:"buttons",children:[{name:"file-trigger"},{name:"toggle"}]},{name:"drag-and-drop",children:[{name:"drop-zone"}]},{name:"controls",children:[{name:"toolbar"},{name:"slider"},{name:"switch"},{name:"command-menu"},{name:"context-menu"}]},{name:"layouts",children:[{name:"sidebar"},{name:"navbar"},{name:"container"}]},{name:"button"},{name:"file-trigger",children:[{name:"button"}]},{name:"toggle"},{name:"menu",children:[{name:"dropdown"},{name:"keyboard"},{name:"popover"}]},{name:"list-box",children:[{name:"dropdown"},{name:"field"}]},{name:"tabs"},{name:"tag-group",children:[{name:"field"},{name:"badge"}]},{name:"table",children:[{name:"checkbox"}]},{name:"grid-list",children:[{name:"checkbox"}]},{name:"choicebox",children:[{name:"checkbox"},{name:"field"}]},{name:"tree",children:[{name:"checkbox"}]},{name:"calendar",children:[{name:"button"}]},{name:"range-calendar",children:[{name:"calendar"}]},{name:"date-field"},{name:"date-range-picker",children:[{name:"date-picker"}]},{name:"date-picker",children:[{name:"popover"},{name:"field"},{name:"calendar"},{name:"date-field"},{name:"range-calendar"}]},{name:"time-field",children:[{name:"field"},{name:"date-field"}]},{name:"form"},{name:"tag-field",children:[{name:"tag-group"},{name:"field"}]},{name:"text-field",children:[{name:"field"},{name:"loader"}]},{name:"input-otp"},{name:"radio",children:[{name:"field"}]},{name:"checkbox",children:[{name:"field"}]},{name:"textarea",children:[{name:"field"}]},{name:"number-field",children:[{name:"field"}]},{name:"search-field",children:[{name:"field"},{name:"button"},{name:"loader"}]},{name:"link"},{name:"disclosure"},{name:"pagination",children:[{name:"button"}]},{name:"breadcrumbs",children:[{name:"link"}]},{name:"card",children:[{name:"heading"}]},{name:"chart"},{name:"description-list"},{name:"grid"},{name:"separator"},{name:"show-more",children:[{name:"button"}]},{name:"drop-zone"},{name:"avatar",children:[{name:"visually-hidden"}]},{name:"carousel",children:[{name:"button"}]},{name:"modal",children:[{name:"dialog"}]},{name:"sheet",children:[{name:"dialog"}]},{name:"drawer",children:[{name:"dialog"}]},{name:"tooltip"},{name:"popover",children:[{name:"dialog"}]},{name:"combo-box",children:[{name:"field"},{name:"list-box"},{name:"popover"}]},{name:"select",children:[{name:"field"},{name:"list-box"},{name:"popover"}]},{name:"multiple-select",children:[{name:"field"},{name:"list-box"},{name:"popover"},{name:"tag-group"},{name:"visually-hidden"}]},{name:"skeleton"},{name:"badge"},{name:"loader"},{name:"progress-bar",children:[{name:"field"}]},{name:"progress-circle"},{name:"meter",children:[{name:"field"}]},{name:"note"},{name:"toast",children:[{name:"button"},{name:"loader"}]},{name:"color-picker",children:[{name:"color-area"},{name:"color-field"},{name:"color-slider"},{name:"color-swatch"},{name:"field"}]},{name:"color-field",children:[{name:"color-picker"},{name:"color-swatch"},{name:"field"}]},{name:"color-area",children:[{name:"color-thumb"}]},{name:"color-slider",children:[{name:"color-thumb"},{name:"field"}]},{name:"color-swatch-picker",children:[{name:"color-swatch"}]},{name:"color-wheel",children:[{name:"color-thumb"}]},{name:"color-swatch"},{name:"color-thumb"},{name:"command-menu",children:[{name:"keyboard"},{name:"separator"},{name:"loader"}]},{name:"context-menu",children:[{name:"menu"}]},{name:"slider",children:[{name:"field"}]},{name:"switch"},{name:"toolbar",children:[{name:"toggle"},{name:"separator"}]},{name:"sidebar",children:[{name:"sheet"},{name:"tooltip"},{name:"badge"},{name:"separator"}]},{name:"navbar",children:[{name:"sheet"}]},{name:"container"}];import{spawn as lJ}from"node:child_process";var GT=XT(w8(),1);import{stripVTControlCharacters as V8}from"node:util";function AT(T){return`${GT.default.dim(GT.default.blue("`"))}${GT.default.blue(T)}${GT.default.dim(GT.default.blue("`"))}`}function RR(T){return`${GT.default.gray(T)}`}function v8(T){return`${GT.default.dim(GT.default.red("`"))}${GT.default.red(T)}${GT.default.dim(GT.default.blue("`"))}`}function i9(T){return`${GT.default.dim(GT.default.yellow("`"))}${GT.default.yellow(T)}${GT.default.dim(GT.default.blue("`"))}`}function m8(T,R){if(T.includes(`
`))return T.split(`
`).flatMap((B)=>m8(B,R));let A=T.split(" "),q=[],_="",h=0;for(let B of A){let C=V8(B).length;if(h+C+1>R)q.push(_),_="",h=0;_+=(h?" ":"")+B,h+=C+(h?1:0)}if(h)q.push(_);return q}function qh(T,{art:R=GT.default.gray(""),prefix:A="",print:q=kq}){let _=A.length,h=" ",B=1,C=V8(R).length,D=process.stderr.columns-_-2-C;m8(T,D).map((W,H)=>{return q(`${R} ${H===0?A:" ".repeat(_)}${W} `)}),q()}function l8(T,{prefix:R="",print:A=kq}={}){qh(T,{art:GT.default.blue(""),prefix:R,print:A})}function NT(T,{prefix:R="",print:A=kq}={}){qh(T,{art:GT.default.red(""),prefix:R,print:A})}function d8(T,{prefix:R="",print:A=kq}={}){qh(T,{art:GT.default.yellow(""),prefix:R,print:A})}function kq(T=""){process.stderr.write(`${T}
`)}var aq=async(T,R,A)=>{let _={toast:"sonner",drawer:"motion",disclosure:"justd-icons",tabs:"motion","progress-bar":"motion",navbar:"motion",meter:"motion",chart:"recharts","input-otp":"input-otp",carousel:"embla-carousel-react","command-menu":"cmdk","multiple-select":"react-aria"}[T];if(_){let h=`${R} ${A} ${_} --silent`,B=lJ(h,{stdio:"ignore",shell:!0});await new Promise((C,O)=>{B.on("close",(D)=>{if(D===0)C();else NT(`Failed to install ${AT(_)}. Exit code: ${D}`),O(new Error(`Installation failed for ${_} with code ${D}`))}),B.on("error",(D)=>{NT(`Error while executing: ${AT(h)}`),O(D)})})}};import*as wR from"node:fs/promises";import*as BA from"node:path";var V9=(T)=>Array.isArray(T)?T:[T],o8=(T,R)=>{let A=[[],[]];for(let q of T)if(R(q))A[0].push(q);else A[1].push(q);return A},Kq=Array,ZR=(T,R)=>T.includes(R);var e=(T,R,A)=>{if(T===void 0)return R===void 0?[]:Array.isArray(R)?R:[R];if(A?.prepend)if(Array.isArray(R))T.unshift(...R);else T.unshift(R);else if(Array.isArray(R))T.push(...R);else T.push(R);return T},sR=(T,R)=>{if(R===void 0||R===null)return T??[];if(T===void 0||T===null)return V9(R);return T.concat(R)};var fR=(T,R,A)=>{if(T===void 0)return Array.isArray(R)?R:[R];let q=A?.isEqual??((_,h)=>_===h);return V9(R).forEach((_)=>{if(!T.some((h)=>q(h,_)))T.push(_)}),T},Gq=(T,R)=>T.reduce((A,q)=>{let _=q[R];return A[_]=e(A[_],q),A},{}),v9=(T,R,A)=>T.length===R.length&&T.every(A?.isEqual?(q,_)=>A.isEqual(q,R[_]):(q,_)=>q===R[_]);var mT=(T,R)=>VT(T)===R,VT=(T)=>{let R=typeof T;return R==="object"?T===null?"null":"object":R==="function"?"object":R},AR={boolean:"boolean",null:"null",undefined:"undefined",bigint:"a bigint",number:"a number",object:"an object",string:"a string",symbol:"a symbol"},r8={...AR,function:"a function"};class p8 extends Error{}var CT=(T)=>UR(T,p8),UR=(T,R=Error)=>{throw new R(T)};class Lq extends Error{name="ParseError"}var a=(T)=>UR(T,Lq),QR=(T)=>` ${T}`;var p=(T,R)=>{let A={},q=Array.isArray(T),_=!1;return Object.entries(T).forEach((h,B)=>{let C=q?R(B,h[1]):R(...h,B);_||=typeof C[0]==="number",(Array.isArray(C[0])||C.length===0?C:[C]).forEach(([D,W])=>{if(typeof D==="object")A[D.group]=e(A[D.group],W);else A[D]=W})}),_?Object.values(A):A};var _h=Object.entries;var ZT=(T,R)=>(T in R);class hh{constructor(T){Object.assign(this,T)}}var n8=class{};class gA extends n8{}var dJ=(T,R)=>{let A={},q={},_;for(_ in T)if(_ in R)A[_]=T[_];else q[_]=T[_];return[A,q]};var s8=(T,R)=>dJ(T,R)[1],yR=(T)=>Object.keys(T).length===0,xA=(T)=>[...Object.entries(T),...Object.getOwnPropertySymbols(T).map((R)=>[R,T[R]])],t8=(T,R)=>Object.defineProperties(T,Object.getOwnPropertyDescriptors(R));var $9=QR("represents an uninitialized value");var Bh={Array,Boolean,Date,Error,Function,Map,Number,Promise,RegExp,Set,String,WeakMap,WeakSet},Ch=globalThis.File??Blob,Dh={ArrayBuffer,Blob,File:Ch,FormData,Headers,Request,Response,URL},oJ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array},I9={...Bh,...Dh,...oJ,String,Number,Boolean},zA=(T)=>{let R=Object.getPrototypeOf(T);while(R?.constructor&&(!ZT(R.constructor.name,I9)||!(T instanceof I9[R.constructor.name])))R=Object.getPrototypeOf(R);let A=R?.constructor?.name;if(A===void 0||A==="Object")return;return A},XA=(T)=>typeof T==="object"&&T!==null?zA(T)??"object":VT(T);var yT=Array.isArray,rJ={Array:"an array",Function:"a function",Date:"a Date",RegExp:"a RegExp",Error:"an Error",Map:"a Map",Set:"a Set",String:"a String object",Number:"a Number object",Boolean:"a Boolean object",Promise:"a Promise",WeakMap:"a WeakMap",WeakSet:"a WeakSet"},pJ={ArrayBuffer:"an ArrayBuffer instance",Blob:"a Blob instance",File:"a File instance",FormData:"a FormData instance",Headers:"a Headers instance",Request:"a Request instance",Response:"a Response instance",URL:"a URL instance"},nJ={Int8Array:"an Int8Array",Uint8Array:"a Uint8Array",Uint8ClampedArray:"a Uint8ClampedArray",Int16Array:"an Int16Array",Uint16Array:"a Uint16Array",Int32Array:"an Int32Array",Uint32Array:"a Uint32Array",Float32Array:"a Float32Array",Float64Array:"a Float64Array",BigInt64Array:"a BigInt64Array",BigUint64Array:"a BigUint64Array"},e8={...rJ,...pJ,...nJ},ZA=(T)=>{let R=Object(T).name??null;return R&&ZT(R,I9)&&I9[R]===T?R:null};var Oh=(T,R)=>{let A=T.prototype;while(A!==null){if(A===R.prototype)return!0;A=Object.getPrototypeOf(A)}return!1};var TD=(T)=>RD(T,new Map),RD=(T,R)=>{if(typeof T!=="object"||T===null)return T;if(R?.has(T))return R.get(T);let A=ZA(T.constructor);if(A==="Date")return new Date(T.getTime());if(A&&A!=="Array")return T;let q=Array.isArray(T)?T.slice():Object.create(Object.getPrototypeOf(T)),_=Object.getOwnPropertyDescriptors(T);if(R){R.set(T,q);for(let h in _)_[h].value=RD(_[h].value,R)}return Object.defineProperties(q,_),q};var sJ=(T)=>{let R=$9;return()=>R===$9?R=T():R},tR=(T)=>typeof T==="function"&&T.length===0;var AD=class extends Function{constructor(...T){let R=T.slice(0,-1),A=T.at(-1);try{super(...R,A)}catch(q){return CT(`Encountered an unexpected error while compiling your definition:
                Message: ${q} 
                Source: (${T.slice(0,-1)}) => {
                    ${T.at(-1)}
                }`)}}};class eR{constructor(T,...[R]){return Object.assign(Object.setPrototypeOf(T.bind(R?.bind??this),this.constructor.prototype),R?.attach)}}var qD=sJ(()=>{try{return new Function("return false")()}catch{return!0}});var _D=QR("arkInferred");var qE=QR("args");class ST{constructor(){}}var hD=(T)=>T[0].toUpperCase()+T.slice(1);var Wh=(T)=>new RegExp(tJ(T),typeof T==="string"?"":T.flags);var tJ=(T)=>{return`^(?:${typeof T==="string"?T:T.source})$`};var MR={negativeLookahead:(T)=>`(?!${T})`,nonCapturingGroup:(T)=>`(?:${T})`},fA="\\",T9={" ":1,"\n":1,"\t":1};var eJ=/^-0\.?0*$/.source,CD=/[1-9]\d*/.source,Ty=/\.\d+/.source,Ry=/\.\d*[1-9]/.source,DD=(T)=>Wh(MR.negativeLookahead(eJ)+MR.nonCapturingGroup("-?"+MR.nonCapturingGroup(MR.nonCapturingGroup("0|"+CD)+MR.nonCapturingGroup(T.decimalPattern)+"?")+(T.allowDecimalOnly?"":"|"+T.decimalPattern)+"?")),BD=DD({decimalPattern:Ry,allowDecimalOnly:!1}),Ay=BD.test.bind(BD),OD=DD({decimalPattern:Ty,allowDecimalOnly:!0}),qy=/^-?\d*\.?\d*$/,_y=(T)=>T.length!==0&&qy.test(T),UA=Wh(MR.negativeLookahead("^-0$")+"-?"+MR.nonCapturingGroup(MR.nonCapturingGroup("0|"+CD))),hy=UA.test.bind(UA),Hh=/^-?\d+$/,By=Hh.test.bind(Hh),WD={number:"a number",bigint:"a bigint",integer:"an integer"},HD=(T,R)=>`'${T}' was parsed as ${WD[R]} but could not be narrowed to a literal value. Avoid unnecessary leading or trailing zeros and other abnormal notation`,Cy=(T,R)=>R==="number"?Ay(T):hy(T),Dy=(T,R)=>R==="number"?Number(T):Number.parseInt(T),Oy=(T,R)=>R==="number"?_y(T):By(T),JD=(T,R)=>Jh(T,"number",R),yD=(T,R)=>Jh(T,"number",{...R,strict:!0}),iD=(T,R)=>Jh(T,"integer",R),Jh=(T,R,A)=>{let q=Dy(T,R);if(!Number.isNaN(q)){if(Oy(T,R)){if(A?.strict)return Cy(T,R)?q:a(HD(T,R));return q}}return A?.errorOnFail?a(A?.errorOnFail===!0?`Failed to parse ${WD[R]} from '${T}'`:A?.errorOnFail):void 0},$D=(T)=>{if(T[T.length-1]!=="n")return;let R=T.slice(0,-1),A;try{A=BigInt(R)}catch{return}if(UA.test(R))return A;if(Hh.test(R))return a(HD(T,"bigint"))};var Wy="0.33.0",Hy={version:Wy,filename:import.meta.filename??globalThis.__filename??"unknown",FileConstructor:Ch},E9=Hy,ID=new WeakMap,yh=Object.create(null),MA=(T)=>{let R=ID.get(T);if(R)return R;let A=Jy(T);if(yh[A])A=`${A}${yh[A]++}`;else yh[A]=1;return E9[A]=T,ID.set(T,A),A},m9=(T)=>/^[a-zA-Z_$][a-zA-Z_$0-9]*$/.test(T),Jy=(T)=>{switch(typeof T){case"object":{if(T===null)break;let R=zA(T)??"object";return R[0].toLowerCase()+R.slice(1)}case"function":return m9(T.name)?T.name:"fn";case"symbol":return T.description&&m9(T.description)?T.description:"symbol"}return CT(`Unexpected attempt to register serializable value of type ${VT(T)}`)};var gq=(T)=>typeof T==="string"?JSON.stringify(T):typeof T==="bigint"?`${T}n`:`${T}`;var ED=(T,R={})=>SA(T,{onUndefined:"$ark.undefined",onBigInt:(A)=>`$ark.bigint-${A}`,...R},[]);var o=(T,R)=>{switch(VT(T)){case"object":let A=T,q=A.constructor.name;return q==="Object"||q==="Array"?JSON.stringify(SA(A,xq,[]),null,R):A instanceof Date?j9(A):typeof A.expression==="string"?A.expression:q;case"symbol":return xq.onSymbol(T);default:return gq(T)}},xq={onCycle:()=>"(cycle)",onSymbol:(T)=>`Symbol(${MA(T)})`,onFunction:(T)=>`Function(${MA(T)})`},SA=(T,R,A)=>{switch(VT(T)){case"object":{let q=T;if("toJSON"in q&&typeof q.toJSON==="function")return q.toJSON();if(typeof q==="function")return xq.onFunction(q);if(A.includes(q))return"(cycle)";let _=[...A,q];if(Array.isArray(q))return q.map((B)=>SA(B,R,_));if(q instanceof Date)return q.toDateString();let h={};for(let B in q)h[B]=SA(q[B],R,_);for(let B of Object.getOwnPropertySymbols(q))h[R.onSymbol?.(B)??B.toString()]=SA(q[B],R,_);return h}case"symbol":return xq.onSymbol(T);case"bigint":return R.onBigInt?.(T)??`${T}n`;case"undefined":return R.onUndefined??"undefined";case"string":return T.replaceAll("\\","\\\\");default:return T}},j9=(T)=>{let R=T.getFullYear(),A=T.getMonth(),q=T.getDate(),_=T.getHours(),h=T.getMinutes(),B=T.getSeconds(),C=T.getMilliseconds();if(A===0&&q===1&&_===0&&h===0&&B===0&&C===0)return`${R}`;let O=`${yy[A]} ${q}, ${R}`;if(_===0&&h===0&&B===0&&C===0)return O;let D=T.toLocaleTimeString(),W=D.endsWith(" AM")||D.endsWith(" PM")?D.slice(-3):"";if(W)D=D.slice(0,-W.length);if(C)D+=`.${$y(C,3)}`;else if(iy.test(D))D=D.slice(0,-3);return`${D+W}, ${O}`},yy=["January","February","March","April","May","June","July","August","September","October","November","December"],iy=/:\d\d:00$/,$y=(T,R)=>String(T).padStart(R,"0");var jD=(T,R,...[A])=>{let q=A?.stringifySymbol??o,_=T;switch(typeof R){case"string":_=m9(R)?T===""?R:`${T}.${R}`:`${T}[${JSON.stringify(R)}]`;break;case"number":_=`${T}[${R}]`;break;case"symbol":_=`${T}[${q(R)}]`;break;default:if(A?.stringifyNonKey)_=`${T}[${A.stringifyNonKey(R)}]`;else a(`${o(R)} must be a PropertyKey or stringifyNonKey must be passed to options`)}return _},F9=(T,...R)=>T.reduce((A,q)=>jD(A,q,...R),"");class b9 extends Kq{cache={};constructor(...T){super();this.push(...T)}stringify(){if(this.cache.stringify)return this.cache.stringify;return this.cache.stringify=F9(this)}stringifyAncestors(){if(this.cache.stringifyAncestors)return this.cache.stringifyAncestors;let T="",R=[T];return this.forEach((A)=>{T=jD(T,A),R.push(T)}),this.cache.stringifyAncestors=R}}class ih{chars;i;def;constructor(T){this.def=T,this.chars=[...T],this.i=0}shift(){return this.chars[this.i++]??""}get lookahead(){return this.chars[this.i]??""}get nextLookahead(){return this.chars[this.i+1]??""}get length(){return this.chars.length}shiftUntil(T){let R="";while(this.lookahead){if(T(this,R))if(R[R.length-1]===fA)R=R.slice(0,-1);else break;R+=this.shift()}return R}shiftUntilLookahead(T){return typeof T==="string"?this.shiftUntil((R)=>R.lookahead===T):this.shiftUntil((R)=>(R.lookahead in T))}shiftUntilNonWhitespace(){return this.shiftUntil(()=>!(this.lookahead in T9))}jumpToIndex(T){this.i=T<0?this.length+T:T}jumpForward(T){this.i+=T}get location(){return this.i}get unscanned(){return this.chars.slice(this.i,this.length).join("")}get scanned(){return this.chars.slice(0,this.i).join("")}sliceChars(T,R){return this.chars.slice(T,R).join("")}lookaheadIs(T){return this.lookahead===T}lookaheadIsIn(T){return this.lookahead in T}}var zE=QR("implementedTraits");var $h="$ark",Ih=2;while($h in globalThis)$h=`$ark${Ih++}`;var FD=$h;globalThis[FD]=E9;var L=E9;if(Ih!==2){let T=globalThis,R=[T.$ark];for(let _=2;_<Ih;_++)if(T[`$ark${_}`])R.push(T[`$ark${_}`]);console.warn("Multiple @ark registries detected. This can lead to unexpected behavior.");let A=Gq(R,"filename"),q=Object.keys(A);for(let _ of q)if(A[_].length>1)console.warn(`File ${_} was initialized multiple times, likely due to being imported from both CJS and ESM contexts.`);if(q.length>1)console.warn("Registries were initialized at the following paths:"+q.map((_)=>`\t${_} (@ark/util version ${A[_][0].version})`).join(`
`))}var Iy=(T)=>`${FD}.${T}`,LT=(T)=>Iy(MA(T));class zq extends gA{argNames;body="";constructor(...T){super();this.argNames=T;for(let R of T){if(R in this)throw new Error(`Arg name '${R}' would overwrite an existing property on FunctionBody`);this[R]=R}}indentation=0;indent(){return this.indentation+=4,this}dedent(){return this.indentation-=4,this}prop(T,R=!1){return Eh(T,R)}index(T,R=!1){return bD(`${T}`,R)}line(T){return this.body+=`${" ".repeat(this.indentation)}${T}
`,this}const(T,R){return this.line(`const ${T} = ${R}`),this}let(T,R){return this.line(`let ${T} = ${R}`)}set(T,R){return this.line(`${T} = ${R}`)}if(T,R){return this.block(`if (${T})`,R)}elseIf(T,R){return this.block(`else if (${T})`,R)}else(T){return this.block("else",T)}for(T,R,A=0){return this.block(`for (let i = ${A}; ${T}; i++)`,R)}forIn(T,R){return this.block(`for (const k in ${T})`,R)}block(T,R,A=""){return this.line(`${T} {`),this.indent(),R(this),this.dedent(),this.line(`}${A}`)}return(T=""){return this.line(`return ${T}`)}write(T="anonymous"){return`${T}(${this.argNames.join(", ")}) {
${this.body}}`}compile(){return new AD(...this.argNames,this.body)}}var SR=(T)=>mT(T,"object")||typeof T==="symbol"?LT(T):gq(T),Eh=(T,R=!1)=>{if(typeof T==="string"&&m9(T))return`${R?"?":""}.${T}`;return bD(Ey(T),R)},Ey=(T)=>typeof T==="symbol"?LT(T):JSON.stringify(T),bD=(T,R=!1)=>`${R?"?.":""}[${T}]`;class Xq extends zq{path=[];discriminants=[];traversalKind;constructor(T){super("data","ctx");this.traversalKind=T}invoke(T,R){let A=R?.arg??this.data,q=typeof T==="string"?!0:this.requiresContextFor(T),_=typeof T==="string"?T:T.id;if(q)return`${this.referenceToId(_,R)}(${A}, ${this.ctx})`;return`${this.referenceToId(_,R)}(${A})`}referenceToId(T,R){let A=R?.kind??this.traversalKind,q=`this.${T}${A}`;return R?.bind?`${q}.bind(${R?.bind})`:q}requiresContextFor(T){return this.traversalKind==="Apply"||T.allowsRequiresContext}initializeErrorCount(){return this.const("errorCount","ctx.currentErrorCount")}returnIfFail(){return this.if("ctx.currentErrorCount > errorCount",()=>this.return())}returnIfFailFast(){return this.if("ctx.failFast && ctx.currentErrorCount > errorCount",()=>this.return())}traverseKey(T,R,A){let q=this.requiresContextFor(A);if(q)this.line(`${this.ctx}.path.push(${T})`);if(this.check(A,{arg:R}),q)this.line(`${this.ctx}.path.pop()`);return this}check(T,R){return this.traversalKind==="Allows"?this.if(`!${this.invoke(T,R)}`,()=>this.return(!1)):this.line(this.invoke(T,R))}}var Zq=(T)=>p(T,(R,A)=>[R,yT(A)?[...A]:A]),lT=QR("arkKind"),f=(T,R)=>T?.[lT]===R,jT=(T)=>f(T,"root")||f(T,"constraint");var QD=["unit","proto","domain"],l9=["required","optional","index","sequence"],jh=["pattern","divisor","exactLength","max","min","maxLength","minLength","before","after"],fq=[...jh,...l9,"structure","predicate"],d9=["alias","union","morph","unit","intersection","proto","domain"],jy=[...d9,...fq],Uq=p(fq,(T,R)=>[R,1]),ND=p([...l9,"undeclared"],(T,R)=>[R,1]),uD=p(jy,(T,R)=>[R,T]),o9=(T)=>typeof T==="string"&&(T in uD);var r9=(T)=>uD[T],Mq=(T)=>d9.slice(r9(T)+1),yj=[...Mq("union"),"alias"],ij=[...Mq("morph"),"alias"],PR=(T)=>{if(typeof T==="string"||typeof T==="boolean"||T===null)return T;if(typeof T==="number"){if(Number.isNaN(T))return"NaN";if(T===Number.POSITIVE_INFINITY)return"Infinity";if(T===Number.NEGATIVE_INFINITY)return"-Infinity";return T}return SR(T)},R9=(T)=>{let R="{ ";for(let[A,q]of Object.entries(T))R+=`${A}: ${SR(q)}, `;return R+" }"},v=(T)=>{let R=T;if(R.hasAssociatedError)R.defaults.expected??=(A)=>("description"in A)?A.description:R.defaults.description(A),R.defaults.actual??=(A)=>o(A),R.defaults.problem??=(A)=>`must be ${A.expected}${A.actual?` (was ${A.actual})`:""}`,R.defaults.message??=(A)=>{if(A.path.length===0)return A.problem;let q=`${A.propString} ${A.problem}`;if(q[0]==="[")return`value at ${q}`;return q};return R};L.config??={};var Fy=(T,R)=>{let A={...T},q;for(q in R)A[q]=o9(q)?{...T[q],...R[q]}:R[q];return A},kD=(T,R)=>{if(!R)return T;return Fy(T,R)},aD=(T)=>kD(kD(L.defaultConfig,L.config),T);class Q9 extends gA{[lT]="error";path;data;nodeConfig;input;constructor(T,R){super();this.input=T,t8(this,T);let A=R.data;if(T.code==="union")T.errors=T.errors.flatMap((q)=>q.hasCode("union")?q.errors:q);this.nodeConfig=R.config[this.code],this.path=T.relativePath?new b9(...R.path,...T.relativePath):T.path?new b9(...T.path):new b9(...R.path),this.data="data"in T?T.data:A}hasCode(T){return this.code===T}get propString(){return F9(this.path)}get expected(){return this.input.expected??this.meta?.expected?.(this.input)??this.nodeConfig.expected?.(this.input)}get actual(){return this.input.actual??this.meta?.actual?.(this.data)??this.nodeConfig.actual?.(this.data)}get problem(){return this.input.problem??this.meta?.problem?.(this)??this.nodeConfig.problem(this)}get message(){return this.input.message??this.meta?.message?.(this)??this.nodeConfig.message(this)}toString(){return this.message}throw(){throw this}}class dT extends Kq{ctx;constructor(T){super();this.ctx=T}byPath=Object.create(null);byAncestorPath=Object.create(null);count=0;mutable=this;throw(){throw new AggregateError(this,this.summary)}add(T){if(this.includes(T))return;this._add(T)}merge(T){T.forEach((R)=>{if(this.includes(R))return;this._add(new Q9({...R,path:[...this.ctx.path,...R.path]},this.ctx))})}affectsPath(T){if(this.length===0)return!1;return T.stringifyAncestors().some((R)=>(R in this.byPath))||T.stringify()in this.byAncestorPath}get summary(){return this.toString()}get message(){return this.toString()}get issues(){return this}toString(){return this.join(`
`)}_add(T){let R=this.byPath[T.propString];if(R){let A=new Q9({code:"intersection",errors:R.hasCode("intersection")?[...R.errors,T]:[R,T]},this.ctx),q=this.indexOf(R);this.mutable[q===-1?this.length:q]=A,this.byPath[T.propString]=A,this.addAncestorPaths(T)}else this.byPath[T.propString]=T,this.addAncestorPaths(T),this.mutable.push(T);this.count++}addAncestorPaths(T){T.path.stringifyAncestors().forEach((R)=>{this.byAncestorPath[R]=e(this.byAncestorPath[R],T)})}}class Sq{path=[];queuedMorphs=[];errors=new dT(this);branches=[];seen={};root;config;constructor(T,R){this.root=T,this.config=R}get external(){return this}get currentBranch(){return this.branches.at(-1)}queueMorphs(T){let R={path:new b9(...this.path),morphs:T};if(this.currentBranch)this.currentBranch.queuedMorphs.push(R);else this.queuedMorphs.push(R)}finalize(){if(!this.queuedMorphs.length)return this.hasError()?this.errors:this.root;if(typeof this.root==="object"&&this.root!==null&&this.config.clone)this.root=this.config.clone(this.root);return this.applyQueuedMorphs(),this.hasError()?this.errors:this.root}applyQueuedMorphs(){while(this.queuedMorphs.length){let T=this.queuedMorphs;this.queuedMorphs=[];for(let{path:R,morphs:A}of T){if(this.errors.affectsPath(R))continue;this.applyMorphsAtPath(R,A)}}}applyMorphsAtPath(T,R){let A=T.at(-1),q;if(A!==void 0){q=this.root;for(let _=0;_<T.length-1;_++)q=q[T[_]]}this.path=[...T];for(let _ of R){let h=jT(_),B=_(q===void 0?this.root:q[A],this);if(B instanceof Q9){this.errors.add(B);break}if(B instanceof dT){if(!h)this.errors.merge(B);break}if(q===void 0)this.root=B;else q[A]=B;this.applyQueuedMorphs()}}get currentErrorCount(){return this.currentBranch?this.currentBranch.error?1:0:this.errors.count}hasError(){return this.currentErrorCount!==0}get failFast(){return this.branches.length!==0}errorFromNodeContext(T){return this.errorFromContext(T)}error(T){let R=typeof T==="object"?T.code?T:{...T,code:"predicate"}:{code:"predicate",expected:T};return this.errorFromContext(R)}errorFromContext(T){let R=new Q9(T,this);if(this.currentBranch)this.currentBranch.error=R;else this.errors.add(R);return R}get data(){let T=this.root;for(let R of this.path)T=T?.[R];return T}reject(T){return this.error(T),!1}mustBe(T){return this.error(T),!1}pushBranch(){this.branches.push({error:void 0,queuedMorphs:[]})}popBranch(){return this.branches.pop()}}var oT=(T,R,A)=>{if(!A)return R();A.path.push(T);let q=R();return A.path.pop(),q};class PA extends eR{attachments;$;constructor(T,R){super((A,q)=>{if(!this.includesMorph&&!this.allowsRequiresContext&&this.allows(A))return A;if(q)return this.traverseApply(A,q),q.hasError()?q.errors:q.data;let _=new Sq(A,this.$.resolvedConfig);return this.traverseApply(A,_),_.finalize()},{attach:T});this.attachments=T,this.$=R}withMeta(T){return this.$.node(this.kind,{...this.inner,meta:typeof T==="function"?T({...this.meta}):T})}includesMorph=this.kind==="morph"||this.hasKind("optional")&&this.hasDefault()||this.hasKind("sequence")&&this.defaultablesLength!==0||this.hasKind("structure")&&this.undeclared==="delete"||this.children.some((T)=>T.includesMorph);hasContextualPredicate=this.hasKind("predicate")&&this.inner.predicate.length!==1||this.children.some((T)=>T.hasContextualPredicate);isCyclic=this.kind==="alias"||this.children.some((T)=>T.isCyclic);allowsRequiresContext=this.hasContextualPredicate||this.isCyclic;referencesById=this.children.reduce((T,R)=>Object.assign(T,R.referencesById),{[this.id]:this});compiledMeta=JSON.stringify(this.metaJson);cacheGetter(T,R){return Object.defineProperty(this,T,{value:R}),R}get description(){let T=this.$?.resolvedConfig[this.kind].description??L.config[this.kind]?.description??L.defaultConfig[this.kind].description;return this.cacheGetter("description",this.meta?.description??T(this))}get references(){return Object.values(this.referencesById)}get shallowReferences(){return this.cacheGetter("shallowReferences",this.hasKind("structure")?[this,...this.children]:this.children.reduce((T,R)=>Ny(T,R.shallowReferences),[this]))}get shallowMorphs(){return this.cacheGetter("shallowMorphs",this.shallowReferences.filter((T)=>T.hasKind("morph")).sort((T,R)=>T.expression<R.expression?-1:1))}get flatRefs(){return this.cacheGetter("flatRefs",this.children.reduce((T,R)=>p9(T,R.flatRefs),[]).sort((T,R)=>T.path.length>R.path.length?1:T.path.length<R.path.length?-1:T.propString>R.propString?1:T.propString<R.propString?-1:T.node.expression<R.node.expression?-1:1))}precedence=r9(this.kind);precompilation;allows=(T)=>{if(this.allowsRequiresContext)return this.traverseAllows(T,new Sq(T,this.$.resolvedConfig));return this.traverseAllows(T)};traverse(T){return this(T)}get in(){return this.cacheGetter("in",this.getIo("in"))}get out(){return this.cacheGetter("out",this.getIo("out"))}getIo(T){if(!this.includesMorph)return this;let R={};for(let[A,q]of this.innerEntries){let _=this.impl.keys[A];if(_.reduceIo)_.reduceIo(T,R,q);else if(_.child){let h=q;R[A]=yT(h)?h.map((B)=>B[T]):h[T]}else R[A]=q}return this.$.node(this.kind,R)}toJSON(){return this.json}toString(){return this.expression}equals(T){let R=jT(T)?T:this.$.parseDefinition(T);return this.innerHash===R.innerHash}ifEquals(T){return this.equals(T)?this:void 0}hasKind(T){return this.kind===T}assertHasKind(T){if(this.kind!==T)UR(`${this.kind} node was not of asserted kind ${T}`);return this}hasKindIn(...T){return T.includes(this.kind)}assertHasKindIn(...T){if(!ZR(T,this.kind))UR(`${this.kind} node was not one of asserted kinds ${T}`);return this}isBasis(){return ZR(QD,this.kind)}isConstraint(){return ZR(fq,this.kind)}isStructural(){return ZR(l9,this.kind)}isRefinement(){return ZR(jh,this.kind)}isRoot(){return ZR(d9,this.kind)}isUnknown(){return this.hasKind("intersection")&&this.children.length===0}isNever(){return this.hasKind("union")&&this.children.length===0}hasUnit(T){return this.hasKind("unit")&&this.allows(T)}hasOpenIntersection(){return this.impl.intersectionIsOpen}get nestableExpression(){return this.expression}firstReference(T){return this.references.find((R)=>R!==this&&T(R))}firstReferenceOrThrow(T){return this.firstReference(T)??UR(`${this.id} had no references matching predicate ${T}`)}firstReferenceOfKind(T){return this.firstReference((R)=>R.hasKind(T))}firstReferenceOfKindOrThrow(T){return this.firstReference((R)=>R.kind===T)??UR(`${this.id} had no ${T} references`)}transform(T,R){return this._transform(T,{...R,seen:{},path:[],parseOptions:{prereduced:R?.prereduced??!1},undeclaredKeyHandling:void 0})}_transform(T,R){let A=R.bindScope??this.$;if(R.seen[this.id])return this.$.lazilyResolve(R.seen[this.id]);if(R.shouldTransform?.(this,R)===!1)return this;let q;if(R.seen[this.id]=()=>q,this.hasKind("structure")&&this.undeclared!==R.undeclaredKeyHandling)R={...R,undeclaredKeyHandling:this.undeclared};let _=p(this.inner,(B,C)=>{if(!this.impl.keys[B].child)return[B,C];let O=C;if(!yT(O)){let W=O._transform(T,R);return W?[B,W]:[]}if(O.length===0)return[B,C];let D=O.flatMap((W)=>{return W._transform(T,R)??[]});return D.length?[B,D]:[]});delete R.seen[this.id];let h=T(this.kind,_,R);if(h===null)return null;if(jT(h))return q=h;if(yR(h)&&!yR(this.inner))return null;if((this.kind==="required"||this.kind==="optional"||this.kind==="index")&&!("value"in h))return R.undeclaredKeyHandling?{...h,value:L.intrinsic.unknown}:null;if(this.kind==="morph")h.in??=L.intrinsic.unknown;return q=A.node(this.kind,h,R.parseOptions)}configureShallowDescendants(T){return this.$.finalize(this.transform((R,A)=>({...A,meta:T}),{shouldTransform:(R)=>R.kind!=="structure"}))}}var by=(T)=>F9(T,{stringifyNonKey:(R)=>R.expression}),iR=(T,R)=>({path:T,node:R,propString:by(T)}),Qy=(T,R)=>T.propString===R.propString&&T.node.equals(R.node),p9=(T,R)=>fR(T,R,{isEqual:Qy}),Ny=(T,R)=>fR(T,R,{isEqual:(A,q)=>A.equals(q)});class X extends Array{static init(T,R,A,q){return new X({kind:T,l:R,r:A,path:q?.path??[],optional:q?.optional??!1})}add(T,R,A,q){return this.push({kind:T,l:R,r:A,path:q?.path??[],optional:q?.optional??!1}),this}describeReasons(){if(this.length===1){let{path:T,l:R,r:A}=this[0],q=F9(T);return bh(`Intersection${q&&` at ${q}`} of ${KD(R,A)}`)}return`The following intersections result in unsatisfiable types:
 ${this.map(({path:T,l:R,r:A})=>`${T}: ${KD(R,A)}`).join(`
 `)}`}throw(){return a(this.describeReasons())}invert(){return this.map((T)=>({...T,l:T.r,r:T.l}))}withPrefixKey(T,R){return this.map((A)=>({...A,path:[T,...A.path],optional:A.optional||R==="optional"}))}toNeverIfDisjoint(){return L.intrinsic.never}}var KD=(T,R)=>`${Fh(T)} and ${Fh(R)}`,Fh=(T)=>jT(T)?T.expression:yT(T)?T.map(Fh).join(" | ")||"never":String(T),bh=(T)=>`${T} results in an unsatisfiable type`;var n9={},pT=(T,R,A)=>$T(T,R,{$:A,invert:!1,pipe:!1}),Nh=(T,R,A)=>$T(T,R,{$:A,invert:!1,pipe:!0}),$T=(T,R,A)=>{let q=A.pipe?"|>":"&",_=`${T.hash}${q}${R.hash}`;if(n9[_]!==void 0)return n9[_];if(!A.pipe){let C=`${R.hash}${q}${T.hash}`;if(n9[C]!==void 0){let O=n9[C],D=O instanceof X?O.invert():O;return n9[_]=D,D}}let h=!A.pipe||!T.includesMorph&&!R.includesMorph;if(h&&T.equals(R))return T;let B=h?Qh(T,R,A):T.hasKindIn(...d9)?uy(T,R,A):Qh(T,R,A);if(jT(B)){if(T.equals(B))B=T;else if(R.equals(B))B=R}return n9[_]=B,B},Qh=(T,R,A)=>{let q=T.precedence<R.precedence?T.kind:R.kind,_=T.impl.intersections[R.kind]??R.impl.intersections[T.kind];if(_===void 0)return null;else if(q===T.kind)return _(T,R,A);else{let h=_(R,T,{...A,invert:!A.invert});if(h instanceof X)h=h.invert();return h}},uy=(T,R,A)=>T.includesMorph||R.includesMorph?A.invert?GD(R,T,A):GD(T,R,A):Qh(T,R,A),GD=(T,R,A)=>T.distribute((q)=>ky(q,R,A),(q)=>{let _=q.filter(jT);if(_.length===0)return X.init("union",T.branches,R.branches);if(_.length<T.branches.length||!T.branches.every((C,O)=>C.in.equals(_[O].in)))return A.$.parseSchema(_);let h;if(_.length===1){let C=_[0];if(!h)return C;return A.$.node("morph",{...C.inner,in:C.in.withMeta(h)})}let B={branches:_};if(h)B.meta=h;return A.$.parseSchema(B)}),ky=(T,R,A)=>{if(T.hasKind("morph")){let _=[...T.morphs];if(T.lastMorphIfNode){let h=$T(T.lastMorphIfNode,R,A);if(h instanceof X)return h;_[_.length-1]=h}else _.push(R);return A.$.node("morph",{morphs:_,in:T.inner.in})}if(R.hasKind("morph")){let _=$T(T,R.in,A);if(_ instanceof X)return _;return A.$.node("morph",{morphs:[R],in:_})}return A.$.node("morph",{morphs:[R],in:T})};class qR extends PA{constructor(T,R){super(T,R);Object.defineProperty(this,lT,{value:"constraint",enumerable:!1})}impliedSiblings;intersect(T){return pT(this,T,this.$)}}class YR extends qR{traverseApply=(T,R)=>{if(!this.traverseAllows(T,R))R.errorFromNodeContext(this.errorContext)};compile(T){if(T.traversalKind==="Allows")T.return(this.compiledCondition);else T.if(this.compiledNegation,()=>T.line(`${T.ctx}.errorFromNodeContext(${this.compiledErrorContext})`))}get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return R9(this.errorContext)}}var PT=(T)=>(R,A)=>{if(yT(R)){if(R.length===0)return;let _=R.map((h)=>A.$.node(T,h));if(T==="predicate")return _;return _.sort((h,B)=>h.hash<B.hash?-1:1)}let q=A.$.node(T,R);return q.hasOpenIntersection()?[q]:q},s9=(T)=>{let R=T.r.shift();if(!R){let q=T.l.length===0&&T.kind==="structure"?L.intrinsic.unknown.internal:T.ctx.$.node(T.kind,Object.assign(T.baseInner,ay(T.l)),{prereduced:!0});for(let _ of T.roots){if(q instanceof X)return q;q=$T(_,q,T.ctx)}return q}let A=!1;for(let q=0;q<T.l.length;q++){let _=$T(T.l[q],R,T.ctx);if(_===null)continue;if(_ instanceof X)return _;if(!A){if(_.isRoot())return T.roots.push(_),T.l.splice(q),s9(T);T.l[q]=_,A=!0}else if(!T.l.includes(_))return CT(`Unexpectedly encountered multiple distinct intersection results for refinement ${_}`)}if(!A)T.l.push(R);if(T.kind==="intersection")R.impliedSiblings?.forEach((q)=>fR(T.r,q));return s9(T)},t9=(T)=>{return Object.entries(T).flatMap(([A,q])=>(A in Uq)?q:[]).sort((A,q)=>A.precedence<q.precedence?-1:A.precedence>q.precedence?1:A.kind==="predicate"&&q.kind==="predicate"?0:A.hash<q.hash?-1:1)},ay=(T)=>{let R={};for(let A of T)if(A.hasOpenIntersection())R[A.kind]=e(R[A.kind],A);else{if(R[A.kind])return CT(`Unexpected intersection of closed refinements of kind ${A.kind}`);R[A.kind]=A}return R},LD=(...T)=>a(gD(...T)),gD=(T,R,A)=>`${hD(T)} operand must be ${R.description} (was ${A.exclude(R).description})`;var xD=(T,R,A)=>new A9(T,R,A,A,null);class Pq extends eR{}class A9 extends eR{[lT]="generic";paramDefs;bodyDef;$;arg$;baseInstantiation;hkt;description;constructor(T,R,A,q,_){super((...h)=>{let B=p(this.names,(C,O)=>{let D=this.arg$.parse(h[C]);if(!D.extends(this.constraints[C]))a(Ky(O,this.constraints[C].expression,D.expression));return[O,D]});if(this.defIsLazy()){let C=this.bodyDef(B);return this.$.parse(C)}return this.$.parse(R,{args:B})});this.paramDefs=T,this.bodyDef=R,this.$=A,this.arg$=q,this.hkt=_,this.description=_?new _().description??`a generic type for ${_.constructor.name}`:"a generic type",this.baseInstantiation=this(...this.constraints)}defIsLazy(){return this.bodyDef instanceof Pq}cacheGetter(T,R){return Object.defineProperty(this,T,{value:R}),R}get json(){return this.cacheGetter("json",{params:this.params.map((T)=>T[1].isUnknown()?T[0]:[T[0],T[1].json]),body:ED(this.bodyDef)})}get params(){return this.cacheGetter("params",this.paramDefs.map((T)=>typeof T==="string"?[T,L.intrinsic.unknown]:[T[0],this.$.parse(T[1])]))}get names(){return this.cacheGetter("names",this.params.map((T)=>T[0]))}get constraints(){return this.cacheGetter("constraints",this.params.map((T)=>T[1]))}get internal(){return this}get referencesById(){return this.baseInstantiation.internal.referencesById}get references(){return this.baseInstantiation.internal.references}}var Ky=(T,R,A)=>`${T} must be assignable to ${R} (was ${A})`;var zD={morph:"it represents a transformation, while JSON Schema only allows validation. Consider creating a Schema from one of its endpoints using `.in` or `.out`.",cyclic:"cyclic types are not yet convertible to JSON Schema. If this feature is important to you, please add your feedback at https://github.com/arktypeio/arktype/issues/1087"},XD=(T,R)=>{let A=`${T} is not convertible to JSON Schema`;if(R){let q=ZT(R,zD)?zD[R]:R;A+=` because ${q}`}return A},qT={writeUnjsonifiableMessage:XD,UnjsonifiableError:class T extends Error{},throwUnjsonifiableError:(...T)=>UR(XD(...T)),throwInternalOperandError:(T,R)=>CT(`Unexpected JSON Schema input for ${T}: ${o(R)}`)};var Gy=v({kind:"predicate",hasAssociatedError:!0,collapsibleKey:"predicate",keys:{predicate:{}},normalize:(T)=>typeof T==="function"?{predicate:T}:T,defaults:{description:(T)=>`valid according to ${T.predicate.name||"an anonymous predicate"}`},intersectionIsOpen:!0,intersections:{predicate:()=>null}});class ZD extends qR{serializedPredicate=LT(this.predicate);compiledCondition=`${this.serializedPredicate}(data, ctx)`;compiledNegation=`!${this.compiledCondition}`;impliedBasis=null;expression=this.serializedPredicate;traverseAllows=this.predicate;errorContext={code:"predicate",description:this.description,meta:this.meta};compiledErrorContext=R9(this.errorContext);traverseApply=(T,R)=>{if(!this.predicate(T,R.external)&&!R.hasError())R.errorFromNodeContext(this.errorContext)};compile(T){if(T.traversalKind==="Allows"){T.return(this.compiledCondition);return}T.if(`${this.compiledNegation} && !ctx.hasError()`,()=>T.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`))}reduceJsonSchema(){return qT.throwUnjsonifiableError(`Predicate ${this.expression}`)}}var uh={implementation:Gy,Node:ZD};var Ly=v({kind:"divisor",collapsibleKey:"rule",keys:{rule:{}},normalize:(T)=>typeof T==="number"?{rule:T}:T,hasAssociatedError:!0,defaults:{description:(T)=>T.rule===1?"an integer":T.rule===2?"even":`a multiple of ${T.rule}`},intersections:{divisor:(T,R,A)=>A.$.node("divisor",{rule:Math.abs(T.rule*R.rule/gy(T.rule,R.rule))})},obviatesBasisDescription:!0});class fD extends YR{traverseAllows=(T)=>T%this.rule===0;compiledCondition=`data % ${this.rule} === 0`;compiledNegation=`data % ${this.rule} !== 0`;impliedBasis=L.intrinsic.number.internal;expression=`% ${this.rule}`;reduceJsonSchema(T){if(T.type="integer",this.rule===1)return T;return T.multipleOf=this.rule,T}}var kh={implementation:Ly,Node:fD};var gy=(T,R)=>{let A,q=T,_=R;while(_!==0)A=_,_=q%_,q=A;return q};class nT extends YR{boundOperandKind=Zy[this.kind];compiledActual=this.boundOperandKind==="value"?"data":this.boundOperandKind==="length"?"data.length":"data.valueOf()";comparator=fy(this.kind,this.exclusive);numericLimit=this.rule.valueOf();expression=`${this.comparator} ${this.rule}`;compiledCondition=`${this.compiledActual} ${this.comparator} ${this.numericLimit}`;compiledNegation=`${this.compiledActual} ${xy[this.comparator]} ${this.numericLimit}`;stringLimit=this.boundOperandKind==="date"?Uy(this.numericLimit):`${this.numericLimit}`;limitKind=this.comparator["0"]==="<"?"upper":"lower";isStricterThan(T){return(this.limitKind==="upper"?this.numericLimit<T.numericLimit:this.numericLimit>T.numericLimit)||this.numericLimit===T.numericLimit&&this.exclusive===!0&&!T.exclusive}overlapsRange(T){if(this.isStricterThan(T))return!1;if(this.numericLimit===T.numericLimit&&(this.exclusive||T.exclusive))return!1;return!0}overlapIsUnit(T){return this.numericLimit===T.numericLimit&&!this.exclusive&&!T.exclusive}}var xy={"<":">=","<=":">",">":"<=",">=":"<"},zy={min:"max",minLength:"maxLength",after:"before"},Yq={parse:(T)=>T||void 0},cq=(T)=>(R)=>{if(typeof R==="number")return{rule:R};let{exclusive:A,...q}=R;return A?{...q,rule:T==="minLength"?q.rule+1:q.rule-1}:q},wq=(T)=>(R)=>{if(typeof R==="number"||typeof R==="string"||R instanceof Date)return{rule:R};let{exclusive:A,...q}=R;if(!A)return q;let _=typeof q.rule==="number"?q.rule:typeof q.rule==="string"?new Date(q.rule).valueOf():q.rule.valueOf();return A?{...q,rule:T==="after"?_+1:_-1}:q},Vq=(T)=>typeof T==="string"||typeof T==="number"?new Date(T):T,Xy=(T,R)=>`${T} bound must be a positive integer (was ${R})`,e9=(T)=>(R)=>{if(!Number.isInteger(R)||R<0)a(Xy(T,R));return R},Zy={min:"value",max:"value",minLength:"length",maxLength:"length",after:"date",before:"date"},fy=(T,R)=>`${ZT(T,zy)?">":"<"}${R?"":"="}`,Uy=(T)=>typeof T==="string"?T:new Date(T).toLocaleString(),UD=(T)=>`Bounded expression ${T} must be exactly one of number, string, Array, or Date`;var My=v({kind:"after",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Vq,serialize:(T)=>T.toISOString()}},normalize:wq("after"),defaults:{description:(T)=>`${T.collapsibleLimitString} or later`,actual:j9},intersections:{after:(T,R)=>T.isStricterThan(R)?T:R}});class MD extends nT{impliedBasis=L.intrinsic.Date.internal;collapsibleLimitString=j9(this.rule);traverseAllows=(T)=>T>=this.rule;reduceJsonSchema(){return qT.throwUnjsonifiableError("Date instance")}}var ah={implementation:My,Node:MD};var Sy=v({kind:"before",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Vq,serialize:(T)=>T.toISOString()}},normalize:wq("before"),defaults:{description:(T)=>`${T.collapsibleLimitString} or earlier`,actual:j9},intersections:{before:(T,R)=>T.isStricterThan(R)?T:R,after:(T,R,A)=>T.overlapsRange(R)?T.overlapIsUnit(R)?A.$.node("unit",{unit:T.rule}):null:X.init("range",T,R)}});class SD extends nT{collapsibleLimitString=j9(this.rule);traverseAllows=(T)=>T<=this.rule;impliedBasis=L.intrinsic.Date.internal;reduceJsonSchema(){return qT.throwUnjsonifiableError("Date instance")}}var Kh={implementation:Sy,Node:SD};var Py=v({kind:"exactLength",collapsibleKey:"rule",keys:{rule:{parse:e9("exactLength")}},normalize:(T)=>typeof T==="number"?{rule:T}:T,hasAssociatedError:!0,defaults:{description:(T)=>`exactly length ${T.rule}`,actual:(T)=>`${T.length}`},intersections:{exactLength:(T,R,A)=>X.init("unit",A.$.node("unit",{unit:T.rule}),A.$.node("unit",{unit:R.rule}),{path:["length"]}),minLength:(T,R)=>T.rule>=R.rule?T:X.init("range",T,R),maxLength:(T,R)=>T.rule<=R.rule?T:X.init("range",T,R)}});class PD extends YR{traverseAllows=(T)=>T.length===this.rule;compiledCondition=`data.length === ${this.rule}`;compiledNegation=`data.length !== ${this.rule}`;impliedBasis=L.intrinsic.lengthBoundable.internal;expression=`== ${this.rule}`;reduceJsonSchema(T){switch(T.type){case"string":return T.minLength=this.rule,T.maxLength=this.rule,T;case"array":return T.minItems=this.rule,T.maxItems=this.rule,T;default:return qT.throwInternalOperandError("exactLength",T)}}}var Gh={implementation:Py,Node:PD};var Yy=v({kind:"max",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:Yq},normalize:(T)=>typeof T==="number"?{rule:T}:T,defaults:{description:(T)=>{if(T.rule===0)return T.exclusive?"negative":"non-positive";return`${T.exclusive?"less than":"at most"} ${T.rule}`}},intersections:{max:(T,R)=>T.isStricterThan(R)?T:R,min:(T,R,A)=>T.overlapsRange(R)?T.overlapIsUnit(R)?A.$.node("unit",{unit:T.rule}):null:X.init("range",T,R)},obviatesBasisDescription:!0});class YD extends nT{impliedBasis=L.intrinsic.number.internal;traverseAllows=this.exclusive?(T)=>T<this.rule:(T)=>T<=this.rule;reduceJsonSchema(T){if(this.exclusive)T.exclusiveMaximum=this.rule;else T.maximum=this.rule;return T}}var Lh={implementation:Yy,Node:YD};var cy=v({kind:"maxLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:e9("maxLength")}},reduce:(T,R)=>T.rule===0?R.node("exactLength",T):void 0,normalize:cq("maxLength"),defaults:{description:(T)=>`at most length ${T.rule}`,actual:(T)=>`${T.length}`},intersections:{maxLength:(T,R)=>T.isStricterThan(R)?T:R,minLength:(T,R,A)=>T.overlapsRange(R)?T.overlapIsUnit(R)?A.$.node("exactLength",{rule:T.rule}):null:X.init("range",T,R)}});class cD extends nT{impliedBasis=L.intrinsic.lengthBoundable.internal;traverseAllows=(T)=>T.length<=this.rule;reduceJsonSchema(T){switch(T.type){case"string":return T.maxLength=this.rule,T;case"array":return T.maxItems=this.rule,T;default:return qT.throwInternalOperandError("maxLength",T)}}}var gh={implementation:cy,Node:cD};var wy=v({kind:"min",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:Yq},normalize:(T)=>typeof T==="number"?{rule:T}:T,defaults:{description:(T)=>{if(T.rule===0)return T.exclusive?"positive":"non-negative";return`${T.exclusive?"more than":"at least"} ${T.rule}`}},intersections:{min:(T,R)=>T.isStricterThan(R)?T:R},obviatesBasisDescription:!0});class wD extends nT{impliedBasis=L.intrinsic.number.internal;traverseAllows=this.exclusive?(T)=>T>this.rule:(T)=>T>=this.rule;reduceJsonSchema(T){if(this.exclusive)T.exclusiveMinimum=this.rule;else T.minimum=this.rule;return T}}var xh={implementation:wy,Node:wD};var Vy=v({kind:"minLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:e9("minLength")}},reduce:(T)=>T.rule===0?L.intrinsic.unknown:void 0,normalize:cq("minLength"),defaults:{description:(T)=>T.rule===1?"non-empty":`at least length ${T.rule}`,actual:(T)=>T.length===0?"":`${T.length}`},intersections:{minLength:(T,R)=>T.isStricterThan(R)?T:R}});class VD extends nT{impliedBasis=L.intrinsic.lengthBoundable.internal;traverseAllows=(T)=>T.length>=this.rule;reduceJsonSchema(T){switch(T.type){case"string":return T.minLength=this.rule,T;case"array":return T.minItems=this.rule,T;default:return qT.throwInternalOperandError("minLength",T)}}}var zh={implementation:Vy,Node:VD};var vD={min:xh.implementation,max:Lh.implementation,minLength:zh.implementation,maxLength:gh.implementation,exactLength:Gh.implementation,after:ah.implementation,before:Kh.implementation},mD={min:xh.Node,max:Lh.Node,minLength:zh.Node,maxLength:gh.Node,exactLength:Gh.Node,after:ah.Node,before:Kh.Node};var vy=v({kind:"pattern",collapsibleKey:"rule",keys:{rule:{},flags:{}},normalize:(T)=>typeof T==="string"?{rule:T}:T instanceof RegExp?T.flags?{rule:T.source,flags:T.flags}:{rule:T.source}:T,hasAssociatedError:!0,intersectionIsOpen:!0,defaults:{description:(T)=>`matched by ${T.rule}`},intersections:{pattern:()=>null}});class lD extends YR{instance=new RegExp(this.rule,this.flags);expression=`${this.instance}`;traverseAllows=this.instance.test.bind(this.instance);compiledCondition=`${this.expression}.test(data)`;compiledNegation=`!${this.compiledCondition}`;impliedBasis=L.intrinsic.string.internal;reduceJsonSchema(T){if(T.pattern)return qT.throwUnjsonifiableError(`Intersection of patterns ${T.pattern} & ${this.rule}`);return T.pattern=this.rule,T}}var Xh={implementation:vy,Node:lD};var YA=(T,R)=>{let A=my(T);if(R&&!R.includes(A))return a(`Root of kind ${A} should be one of ${R}`);return A},my=(T)=>{if(f(T,"root"))return T.kind;if(typeof T==="string")return T[0]==="$"?"alias":"domain";if(typeof T==="function")return"proto";if(typeof T!=="object"||T===null)return a(dD(T));if("morphs"in T)return"morph";if("branches"in T||yT(T))return"union";if("unit"in T)return"unit";if("reference"in T)return"alias";let R=Object.keys(T);if(R.length===0||R.some((A)=>(A in Uq)))return"intersection";if("proto"in T)return"proto";if("domain"in T)return"domain";return a(dD(T))},dD=(T)=>`${o(T)} is not a valid type schema`,oD={},ly=(T)=>yT(T)?T.map((R)=>R.collapsibleJson):T.collapsibleJson,vT={};L.nodesByRegisteredId=vT;var Zh=(T)=>{return oD[T]??=0,`${T}${++oD[T]}`},fh=(T)=>{let R=TA[T.kind],A={},{meta:q,..._}=T.def,h=q===void 0?{}:typeof q==="string"?{description:q}:q,B=_h(_).sort(([O],[D])=>o9(O)?o9(D)?r9(O)-r9(D):1:o9(D)?-1:O<D?-1:1).filter(([O,D])=>{if(O.startsWith("meta.")){let W=O.slice(5);return h[W]=D,!1}return!0});for(let O of B){let D=O[0],W=R.keys[D];if(!W)return a(`Key ${D} is not valid on ${T.kind} schema`);let H=W.parse?W.parse(O[1],T):O[1];if(H!==$9&&(H!==void 0||W.preserveUndefined))A[D]=H}if(R.reduce&&!T.prereduced){let O=R.reduce(A,T.$);if(O){if(O instanceof X)return O.throw();return dy(O,h)}}return Uh(T.id,T.kind,A,h,T.$)},Uh=(T,R,A,q,_,h)=>{let B=TA[R],C=_h(A),O=[],D={};if(C.forEach(([K,k])=>{let G=B.keys[K],F=G.serialize??(G.child?ly:PR);if(D[K]=F(k),G.child===!0){let g=k;if(yT(g))O.push(...g);else O.push(g)}else if(typeof G.child==="function")O.push(...G.child(k))}),B.finalizeInnerJson)D=B.finalizeInnerJson(D);let W={...D},H={};if(!yR(q))H=p(q,(K,k)=>[K,K==="examples"?k:PR(k)]),W.meta=vq(H,"description",!0);D=vq(D,B.collapsibleKey,!1);let J=JSON.stringify({kind:R,...D});W=vq(W,B.collapsibleKey,!1);let y=vq(W,B.collapsibleKey,!0),$=JSON.stringify({kind:R,...W});if(_.nodesByHash[$]&&!h)return _.nodesByHash[$];let E={id:T,kind:R,impl:B,inner:A,innerEntries:C,innerJson:D,innerHash:J,meta:q,metaJson:H,json:W,hash:$,collapsibleJson:y,children:O};for(let K in A)if(K!=="in"&&K!=="out")E[K]=A[K];let N=new pD[R](E,_);return _.nodesByHash[$]=N},rD=(T,R)=>{if(T.id===R)return T;if(jT(vT[R]))CT(`Unexpected attempt to overwrite node id ${R}`);return Uh(R,T.kind,T.inner,T.meta,T.$,!0)},dy=(T,R,A)=>{if(A&&jT(vT[A]))CT(`Unexpected attempt to overwrite node id ${A}`);return Uh(A??Zh(R.alias??T.kind),T.kind,T.inner,R,T.$)},vq=(T,R,A)=>{let q=Object.keys(T);if(q.length===1&&q[0]===R){let _=T[R];if(A)return _;if(mT(_,"object")&&(Object.keys(_).length===1||Array.isArray(_)))return _}return T};var cA=(T,R,A)=>{if(T.key!==R.key)return null;let q=T.key,_=$T(T.value,R.value,A),h=T.required||R.required?"required":"optional";if(_ instanceof X)if(h==="optional")_=L.intrinsic.never.internal;else return _.withPrefixKey(T.key,T.required&&R.required?"required":"optional");if(h==="required")return A.$.node("required",{key:q,value:_});let B=T.hasDefault()?R.hasDefault()?T.default===R.default?T.default:a(Mh(T.default,R.default)):T.default:R.hasDefault()?R.default:$9;return A.$.node("optional",{key:q,value:_,default:B})};class wA extends qR{required=this.kind==="required";optional=this.kind==="optional";impliedBasis=L.intrinsic.object.internal;serializedKey=SR(this.key);compiledKey=typeof this.key==="string"?this.key:this.serializedKey;get flatRefs(){return e(this.value.flatRefs.map((T)=>iR([this.key,...T.path],T.node)),iR([this.key],this.value))}_transform(T,R){R.path.push(this.key);let A=super._transform(T,R);return R.path.pop(),A}hasDefault(){return"default"in this.inner}traverseAllows=(T,R)=>{if(this.key in T)return oT(this.key,()=>this.value.traverseAllows(T[this.key],R),R);return this.optional};traverseApply=(T,R)=>{if(this.key in T)oT(this.key,()=>this.value.traverseApply(T[this.key],R),R);else if(this.hasKind("required"))R.errorFromNodeContext(this.errorContext);else if(this.hasDefault())R.queueMorphs(this.defaultValueMorphs)};compile(T){if(T.if(`${this.serializedKey} in data`,()=>T.traverseKey(this.serializedKey,`data${T.prop(this.key)}`,this.value)),this.hasKind("required"))T.else(()=>{if(T.traversalKind==="Apply")return T.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`);else return T.return(!1)});else if(T.traversalKind==="Apply"&&this.hasDefault())T.else(()=>T.line(`ctx.queueMorphs(${this.defaultValueMorphsReference})`));if(T.traversalKind==="Allows")T.return(!0)}}var Mh=(T,R)=>`Invalid intersection of default values ${o(T)} & ${o(R)}`;var oy=v({kind:"optional",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(T,R)=>R.$.parseSchema(T)},default:{preserveUndefined:!0}},normalize:(T)=>T,defaults:{description:(T)=>`${T.compiledKey}?: ${T.value.description}`},intersections:{optional:cA}});class nD extends wA{constructor(...T){super(...T);if("default"in this.inner)vA(this.value,this.inner.default,this.key)}get outProp(){if(!this.hasDefault())return this;let{default:T,...R}=this.inner;return this.cacheGetter("outProp",this.$.node("required",R,{prereduced:!0}))}expression=this.hasDefault()?`${this.compiledKey}: ${this.value.expression} = ${o(this.inner.default)}`:`${this.compiledKey}?: ${this.value.expression}`;defaultValueMorphs=this.hasDefault()?Sh(this.key,this.value,this.default):[];defaultValueMorphsReference=LT(this.defaultValueMorphs)}var VA={implementation:oy,Node:nD},Sh=(T,R,A)=>{if(typeof A==="function")return[R.includesMorph?(_,h)=>{return oT(T,()=>R(_[T]=A(),h),h),_}:(_)=>{return _[T]=A(),_}];let q=R.includesMorph?R.assert(A):A;return[mT(q,"object")?(_,h)=>{return oT(T,()=>R(_[T]=A,h),h),_}:(_)=>{return _[T]=q,_}]},vA=(T,R,A)=>{let q=tR(R);if(mT(R,"object")&&!q)a(ry(A));let _=T.in(q?R():R);if(_ instanceof dT){if(A!==null)_.forEach((B)=>B.path.unshift(A));let h=A===null?`Default ${_.message}`:`Default for ${_.message}`;a(h)}return R},ry=(T)=>{return`Non-primitive default ${T===null?"":typeof T==="number"?`for value at [${T}] `:`for ${SR(T)} `}must be specified as a function like () => ({my: 'object'})`};class _R extends PA{constructor(T,R){super(T,R);Object.defineProperty(this,lT,{value:"root",enumerable:!1})}assert=(T)=>{let R=this.traverse(T);return R instanceof dT?R.throw():R};get internal(){return this}get "~standard"(){return{vendor:"arktype",version:1,validate:(T)=>{let R=this(T);if(R instanceof dT)return R;return{value:R}}}}as(){return this}brand(T){if(T==="")return a(py);return this}brandAttributes(){return this}unbrandAttributes(){return this}readonly(){return this}branches=this.hasKind("union")?this.inner.branches:[this];distribute(T,R){let A=this.branches.map(T);return R?.(A)??A}toJsonSchema(){let T=this.innerToJsonSchema();return Object.assign(T,this.metaJson)}intersect(T){let R=this.$.parseDefinition(T),A=this.rawIntersect(R);if(A instanceof X)return A;return this.$.finalize(A)}rawIntersect(T){return pT(this,T,this.$)}toNeverIfDisjoint(){return this}and(T){let R=this.intersect(T);return R instanceof X?R.throw():R}rawAnd(T){let R=this.rawIntersect(T);return R instanceof X?R.throw():R}or(T){let R=this.$.parseDefinition(T);return this.$.finalize(this.rawOr(R))}rawOr(T){let R=[...this.branches,...T.branches];return this.$.node("union",R)}map(T){return this.$.schema(this.applyStructuralOperation("map",[T]))}pick(...T){return this.$.schema(this.applyStructuralOperation("pick",T))}omit(...T){return this.$.schema(this.applyStructuralOperation("omit",T))}required(){return this.$.schema(this.applyStructuralOperation("required",[]))}partial(){return this.$.schema(this.applyStructuralOperation("partial",[]))}_keyof;keyof(){if(this._keyof)return this._keyof;let T=this.applyStructuralOperation("keyof",[]).reduce((R,A)=>R.intersect(A).toNeverIfDisjoint(),L.intrinsic.unknown.internal);if(T.branches.length===0)a(bh(`keyof ${this.expression}`));return this._keyof=this.$.finalize(T)}get props(){if(this.branches.length!==1)return a(ny(this.expression));return[...this.applyStructuralOperation("props",[])[0]]}merge(T){let R=this.$.parseDefinition(T);return this.$.schema(R.distribute((A)=>this.applyStructuralOperation("merge",[sD(A)??a(tD("merge",A.expression))])))}applyStructuralOperation(T,R){return this.distribute((A)=>{if(A.equals(L.intrinsic.object)&&T!=="merge")return A;let q=sD(A);if(!q)a(tD(T,A.expression));if(T==="keyof")return q.keyof();if(T==="get")return q.get(...R);if(T==="props")return q.props;let _=T==="required"?"require":T==="partial"?"optionalize":T;return this.$.node("intersection",{...A.inner,structure:q[_](...R)})})}get(...T){if(T[0]===void 0)return this;return this.$.schema(this.applyStructuralOperation("get",T))}extract(T){let R=this.$.parseDefinition(T);return this.$.schema(this.branches.filter((A)=>A.extends(R)))}exclude(T){let R=this.$.parseDefinition(T);return this.$.schema(this.branches.filter((A)=>!A.extends(R)))}array(){return this.$.schema({proto:Array,sequence:this},{prereduced:!0})}overlaps(T){return!(this.intersect(T)instanceof X)}extends(T){let R=this.intersect(T);return!(R instanceof X)&&this.equals(R)}ifExtends(T){return this.extends(T)?this:void 0}subsumes(T){return this.$.parseDefinition(T).extends(this)}configure(T){return this.configureShallowDescendants(T)}describe(T){return this.configure({description:T})}optional(){return[this,"?"]}default(T){return vA(this,T,null),[this,"=",T]}from(T){return this.assert(T)}_pipe(...T){return T.reduce((R,A)=>R.pipeOnce(A),this)}tryPipe(...T){return T.reduce((R,A)=>R.pipeOnce(f(A,"root")?A:(q,_)=>{try{return A(q,_)}catch(h){return _.error({code:"predicate",predicate:A,actual:`aborted due to error:
    ${h}
`})}}),this)}pipe=Object.assign(this._pipe.bind(this),{try:this.tryPipe.bind(this)});to(T){return this.$.finalize(this.toNode(this.$.parseDefinition(T)))}toNode(T){let R=Nh(this,T,this.$);if(R instanceof X)return R.throw();return R}pipeOnce(T){if(f(T,"root"))return this.toNode(T);return this.distribute((R)=>R.hasKind("morph")?this.$.node("morph",{in:R.inner.in,morphs:[...R.morphs,T]}):this.$.node("morph",{in:R,morphs:[T]}),this.$.parseSchema)}get flatMorphs(){return this.cacheGetter("flatMorphs",this.flatRefs.reduce((T,R)=>p9(T,R.node.hasKind("union")?R.node.branches.filter((A)=>A.hasKind("morph")).map((A)=>({path:R.path,propString:R.propString,node:A})):R.node.hasKind("morph")?R:[]),[]))}narrow(T){return this.constrainOut("predicate",T)}constrain(T,R){return this._constrain("root",T,R)}constrainIn(T,R){return this._constrain("in",T,R)}constrainOut(T,R){return this._constrain("out",T,R)}_constrain(T,R,A){let q=this.$.node(R,A);if(q.isRoot())return q.isUnknown()?this:CT(`Unexpected constraint node ${q}`);let _=T==="root"?this:this[T];if(_.hasKind("morph")||q.impliedBasis&&!_.extends(q.impliedBasis))return LD(R,q.impliedBasis,this);let h=this.$.node("intersection",{[q.kind]:q}),B=T==="out"?Nh(this,h,this.$):pT(this,h,this.$);if(B instanceof X)B.throw();return this.$.finalize(B)}onUndeclaredKey(T){let R=typeof T==="string"?T:T.rule,A=typeof T==="string"?!1:T.deep;return this.$.finalize(this.transform((q,_)=>q==="structure"?R==="ignore"?s8(_,{undeclared:1}):{..._,undeclared:R}:_,A?void 0:{shouldTransform:(q)=>!ZR(l9,q.kind)}))}onDeepUndeclaredKey(T){return this.onUndeclaredKey({rule:T,deep:!0})}filter(T){return this.constrain("predicate",T)}divisibleBy(T){return this.constrain("divisor",T)}matching(T){return this.constrain("pattern",T)}atLeast(T){return this.constrain("min",T)}atMost(T){return this.constrain("max",T)}moreThan(T){return this.constrain("min",RA(T))}lessThan(T){return this.constrain("max",RA(T))}atLeastLength(T){return this.constrain("minLength",T)}atMostLength(T){return this.constrain("maxLength",T)}moreThanLength(T){return this.constrain("minLength",RA(T))}lessThanLength(T){return this.constrain("maxLength",RA(T))}exactlyLength(T){return this.constrain("exactLength",T)}atOrAfter(T){return this.constrain("after",T)}atOrBefore(T){return this.constrain("before",T)}laterThan(T){return this.constrain("after",RA(T))}earlierThan(T){return this.constrain("before",RA(T))}}var py="Expected a non-empty brand name after #",RA=(T)=>typeof T==="object"&&!(T instanceof Date)?{...T,exclusive:!0}:{rule:T,exclusive:!0},mA=(T,R)=>f(R,"root")?f(T,"root")?T.extends(R):R.allows(T):f(T,"root")?T.hasUnit(R):R===T,sD=(T)=>{if(T.hasKind("morph"))return null;if(T.hasKind("intersection"))return T.inner.structure??(T.basis?.domain==="object"?T.$.bindReference(L.intrinsic.emptyStructure):null);if(T.isBasis()&&T.domain==="object")return T.$.bindReference(L.intrinsic.emptyStructure);return null},ny=(T)=>`Props cannot be extracted from a union. Use .distribute to extract props from each branch instead. Received:
${T}`,tD=(T,R)=>`${T} operand must be an object (was ${R})`;var NR=(T,R)=>p(Mq(T),(A,q)=>[q,R]);var sy=(T)=>typeof T==="string"?{reference:T}:T,eD=(T)=>T instanceof X?L.intrinsic.never.internal:T,ty=v({kind:"alias",hasAssociatedError:!1,collapsibleKey:"reference",keys:{reference:{serialize:(T)=>T.startsWith("$")?T:`$ark.${T}`},resolve:{}},normalize:sy,defaults:{description:(T)=>T.reference},intersections:{alias:(T,R,A)=>A.$.lazilyResolve(()=>eD($T(T.resolution,R.resolution,A)),`${T.reference}${A.pipe?"=>":"&"}${R.reference}`),...NR("alias",(T,R,A)=>{if(R.isUnknown())return T;if(R.isNever())return R;return A.$.lazilyResolve(()=>eD($T(T.resolution,R,A)),`${T.reference}${A.pipe?"=>":"&"}${R.id}`)})}});class TO extends _R{expression=this.reference;structure=void 0;get resolution(){let T=this._resolve();return vT[this.id]=T}_resolve(){if(this.resolve)return this.resolve();if(this.reference[0]==="$")return this.$.resolveRoot(this.reference.slice(1));let T=this.reference,R=vT[T],A=[];while(f(R,"context")){if(A.includes(R.id))return a(ey(R.id,A));A.push(R.id),R=vT[R.id]}if(!f(R,"root"))return CT(`Unexpected resolution for reference ${this.reference}
Seen: [${A.join("->")}] 
Resolution: ${o(R)}`);return R}get resolutionId(){if(this.reference.includes("&")||this.reference.includes("=>"))return this.resolution.id;if(this.reference[0]!=="$")return this.reference;let T=this.reference.slice(1),R=this.$.resolutions[T];if(typeof R==="string")return R;if(f(R,"root"))return R.id;return CT(`Unexpected resolution for reference ${this.reference}: ${o(R)}`)}get shortDescription(){return AR.object}innerToJsonSchema(){return qT.throwUnjsonifiableError(this.expression,"cyclic")}traverseAllows=(T,R)=>{let A=R.seen[this.reference];if(A?.includes(T))return!0;return R.seen[this.reference]=e(A,T),this.resolution.traverseAllows(T,R)};traverseApply=(T,R)=>{let A=R.seen[this.reference];if(A?.includes(T))return;R.seen[this.reference]=e(A,T),this.resolution.traverseApply(T,R)};compile(T){let R=this.resolutionId;T.if(`ctx.seen.${R} && ctx.seen.${R}.includes(data)`,()=>T.return(!0)),T.if(`!ctx.seen.${R}`,()=>T.line(`ctx.seen.${R} = []`)),T.line(`ctx.seen.${R}.push(data)`),T.return(T.invoke(R))}}var ey=(T,R)=>`Alias '${T}' has a shallow resolution cycle: ${[...R,T].join("->")}`,lA={implementation:ty,Node:TO};class N9 extends _R{traverseApply=(T,R)=>{if(!this.traverseAllows(T,R))R.errorFromNodeContext(this.errorContext)};get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return R9(this.errorContext)}compile(T){if(T.traversalKind==="Allows")T.return(this.compiledCondition);else T.if(this.compiledNegation,()=>T.line(`${T.ctx}.errorFromNodeContext(${this.compiledErrorContext})`))}}var T0=v({kind:"domain",hasAssociatedError:!0,collapsibleKey:"domain",keys:{domain:{}},normalize:(T)=>typeof T==="string"?{domain:T}:T,defaults:{description:(T)=>AR[T.domain],actual:(T)=>AR[VT(T)]},intersections:{domain:(T,R)=>X.init("domain",T,R)}});class RO extends N9{traverseAllows=(T)=>VT(T)===this.domain;compiledCondition=this.domain==="object"?'((typeof data === "object" && data !== null) || typeof data === "function")':`typeof data === "${this.domain}"`;compiledNegation=this.domain==="object"?'((typeof data !== "object" || data === null) && typeof data !== "function")':`typeof data !== "${this.domain}"`;expression=this.domain;get shortDescription(){return AR[this.domain]}innerToJsonSchema(){if(this.domain==="bigint"||this.domain==="symbol")return qT.throwUnjsonifiableError(this.domain);return{type:this.domain}}}var Ph={implementation:T0,Node:RO};var R0=v({kind:"intersection",hasAssociatedError:!0,normalize:(T)=>{if(jT(T))return T;let{structure:R,...A}=T,q=!!R,_=R??{},h=p(A,(B,C)=>{if(ZT(B,ND)){if(q)a(`Flattened structure key ${B} cannot be specified alongside a root 'structure' key.`);return _[B]=C,[]}return[B,C]});if(f(_,"constraint")||!yR(_))h.structure=_;return h},finalizeInnerJson:({structure:T,...R})=>mT(T,"object")?{...T,...R}:R,keys:{domain:{child:!0,parse:(T,R)=>R.$.node("domain",T)},proto:{child:!0,parse:(T,R)=>R.$.node("proto",T)},structure:{child:!0,parse:(T,R)=>R.$.node("structure",T),serialize:(T)=>{if(!T.sequence?.minLength)return T.collapsibleJson;let{sequence:R,...A}=T.collapsibleJson,{minVariadicLength:q,..._}=R,h=_.variadic&&Object.keys(_).length===1?_.variadic:_;return{...A,sequence:h}}},divisor:{child:!0,parse:PT("divisor")},max:{child:!0,parse:PT("max")},min:{child:!0,parse:PT("min")},maxLength:{child:!0,parse:PT("maxLength")},minLength:{child:!0,parse:PT("minLength")},exactLength:{child:!0,parse:PT("exactLength")},before:{child:!0,parse:PT("before")},after:{child:!0,parse:PT("after")},pattern:{child:!0,parse:PT("pattern")},predicate:{child:!0,parse:PT("predicate")}},reduce:(T,R)=>mq({},T,{$:R,invert:!1,pipe:!1}),defaults:{description:(T)=>{if(T.children.length===0)return"unknown";if(T.structure)return T.structure.description;let R=[];if(T.basis&&!T.refinements.some((A)=>A.impl.obviatesBasisDescription))R.push(T.basis.description);if(T.refinements.length){let A=T.refinements.toSorted((q,_)=>q.kind==="min"&&_.kind==="max"?-1:0).map((q)=>q.description);R.push(...A)}if(T.predicate)R.push(...T.predicate.map((A)=>A.description));return R.join(" and ")},expected:(T)=>`   ${T.errors.map((R)=>R.expected).join(`
   `)}`,problem:(T)=>`(${T.actual}) must be...
${T.expected}`},intersections:{intersection:(T,R,A)=>mq(T,R,A),...NR("intersection",(T,R,A)=>{if(T.children.length===0)return R;let{domain:q,proto:_,...h}=T.inner,B=_??q,C=B?$T(B,R,A):R;return C instanceof X?C:T?.basis?.equals(C)?T:T.$.node("intersection",{...h,[C.kind]:C},{prereduced:!0})})}});class AO extends _R{basis=this.domain??this.proto??null;refinements=this.children.filter((T)=>T.isRefinement());get expression(){let T=this.structure?.expression||`${this.basis?this.basis.nestableExpression+" ":""}${this.refinements.join(" & ")}`||"unknown";if(T==="Array == 0")T="[]";return this.cacheGetter("expression",T)}get shortDescription(){return this.basis?.shortDescription??"present"}innerToJsonSchema(){return this.children.reduce((T,R)=>R.isBasis()?R.toJsonSchema():R.reduceJsonSchema(T),{})}traverseAllows=(T,R)=>this.children.every((A)=>A.traverseAllows(T,R));traverseApply=(T,R)=>{let A=R.currentErrorCount;if(this.basis){if(this.basis.traverseApply(T,R),R.currentErrorCount>A)return}if(this.refinements.length){for(let q=0;q<this.refinements.length-1;q++)if(this.refinements[q].traverseApply(T,R),R.failFast&&R.currentErrorCount>A)return;if(this.refinements.at(-1).traverseApply(T,R),R.currentErrorCount>A)return}if(this.structure){if(this.structure.traverseApply(T,R),R.currentErrorCount>A)return}if(this.predicate){for(let q=0;q<this.predicate.length-1;q++)if(this.predicate[q].traverseApply(T,R),R.failFast&&R.currentErrorCount>A)return;this.predicate.at(-1).traverseApply(T,R)}};compile(T){if(T.traversalKind==="Allows"){this.children.forEach((R)=>T.check(R)),T.return(!0);return}if(T.initializeErrorCount(),this.basis){if(T.check(this.basis),this.children.length>1)T.returnIfFail()}if(this.refinements.length){for(let R=0;R<this.refinements.length-1;R++)T.check(this.refinements[R]),T.returnIfFailFast();if(T.check(this.refinements.at(-1)),this.structure||this.predicate)T.returnIfFail()}if(this.structure){if(T.check(this.structure),this.predicate)T.returnIfFail()}if(this.predicate){for(let R=0;R<this.predicate.length-1;R++)T.check(this.predicate[R]),T.returnIfFail();T.check(this.predicate.at(-1))}}}var Yh={implementation:R0,Node:AO},mq=(T,R,A)=>{if(f(T,"root")&&T.hasKind("intersection"))return mq(T.inner,R,A);if(f(R,"root")&&R.hasKind("intersection"))return mq(T,R.inner,A);let q={},_=T.proto??T.domain,h=R.proto??R.domain,B=_?h?$T(_,h,A):_:h;if(B instanceof X)return B;if(B)q[B.kind]=B;return s9({kind:"intersection",baseInner:q,l:t9(T),r:t9(R),roots:[],ctx:A})};var A0=v({kind:"morph",hasAssociatedError:!1,keys:{in:{child:!0,parse:(T,R)=>R.$.parseSchema(T)},morphs:{parse:V9,serialize:(T)=>T.map((R)=>f(R,"root")?R.json:LT(R))},declaredIn:{child:!1,serialize:(T)=>T.json},declaredOut:{child:!1,serialize:(T)=>T.json}},normalize:(T)=>T,defaults:{description:(T)=>`a morph from ${T.in.description} to ${T.out?.description??"unknown"}`},intersections:{morph:(T,R,A)=>{if(!T.hasEqualMorphs(R))return a(q0(T.expression,R.expression));let q=$T(T.in,R.in,A);if(q instanceof X)return q;let _={morphs:T.morphs};if(T.declaredIn||R.declaredIn){let h=$T(T.in,R.in,A);if(h instanceof X)return h.throw();else _.declaredIn=h}if(T.declaredOut||R.declaredOut){let h=$T(T.out,R.out,A);if(h instanceof X)return h.throw();else _.declaredOut=h}return q.distribute((h)=>A.$.node("morph",{..._,in:h}),A.$.parseSchema)},...NR("morph",(T,R,A)=>{let q=T.inner.in?$T(T.inner.in,R,A):R;return q instanceof X?q:q.equals(T.inner.in)?T:A.$.node("morph",{...T.inner,in:q})})}});class qO extends _R{serializedMorphs=this.morphs.map(LT);compiledMorphs=`[${this.serializedMorphs}]`;lastMorph=this.inner.morphs.at(-1);lastMorphIfNode=f(this.lastMorph,"root")?this.lastMorph:void 0;introspectableIn=this.inner.in;introspectableOut=this.lastMorphIfNode?Object.assign(this.referencesById,this.lastMorphIfNode.referencesById)&&this.lastMorphIfNode.out:void 0;get in(){return this.declaredIn??this.inner.in?.in??L.intrinsic.unknown.internal}get out(){return this.declaredOut??this.introspectableOut??L.intrinsic.unknown.internal}declareIn(T){return this.$.node("morph",{...this.inner,declaredIn:T})}declareOut(T){return this.$.node("morph",{...this.inner,declaredOut:T})}expression=`(In: ${this.in.expression}) => Out<${this.out.expression}>`;get shortDescription(){return this.in.shortDescription}innerToJsonSchema(){return qT.throwUnjsonifiableError(this.expression,"morph")}compile(T){if(T.traversalKind==="Allows"){if(!this.introspectableIn)return;T.return(T.invoke(this.introspectableIn));return}if(this.introspectableIn)T.line(T.invoke(this.introspectableIn));T.line(`ctx.queueMorphs(${this.compiledMorphs})`)}traverseAllows=(T,R)=>!this.introspectableIn||this.introspectableIn.traverseAllows(T,R);traverseApply=(T,R)=>{if(this.introspectableIn)this.introspectableIn.traverseApply(T,R);R.queueMorphs(this.morphs)};hasEqualMorphs(T){return v9(this.morphs,T.morphs,{isEqual:(R,A)=>R===A||f(R,"root")&&f(A,"root")&&R.equals(A)})}}var ch={implementation:A0,Node:qO},q0=(T,R)=>`The intersection of distinct morphs at a single path is indeterminate:
Left: ${T}
Right: ${R}`;var _0=v({kind:"proto",hasAssociatedError:!0,collapsibleKey:"proto",keys:{proto:{serialize:(T)=>ZA(T)??PR(T)}},normalize:(T)=>typeof T==="string"?{proto:I9[T]}:typeof T==="function"?jT(T)?T:{proto:T}:typeof T.proto==="string"?{...T,proto:I9[T.proto]}:T,defaults:{description:(T)=>T.builtinName?e8[T.builtinName]:`an instance of ${T.proto.name}`,actual:(T)=>XA(T)},intersections:{proto:(T,R)=>Oh(T.proto,R.proto)?T:Oh(R.proto,T.proto)?R:X.init("proto",T,R),domain:(T,R)=>R.domain==="object"?T:X.init("domain",L.intrinsic.object.internal,R)}});class _O extends N9{builtinName=ZA(this.proto);serializedConstructor=this.json.proto;compiledCondition=`data instanceof ${this.serializedConstructor}`;compiledNegation=`!(${this.compiledCondition})`;innerToJsonSchema(){switch(this.builtinName){case"Array":return{type:"array"};default:return qT.throwUnjsonifiableError(this.description)}}traverseAllows=(T)=>T instanceof this.proto;expression=this.proto.name;domain="object";get shortDescription(){return this.description}}var wh={implementation:_0,Node:_O};var h0=v({kind:"union",hasAssociatedError:!0,collapsibleKey:"branches",keys:{ordered:{},branches:{child:!0,parse:(T,R)=>{let A=[];if(T.forEach((q)=>{(f(q,"root")?q.branches:R.$.parseSchema(q).branches).forEach((h)=>{if(h.hasKind("morph")){let B=A.findIndex((C)=>C.hasKind("morph")&&C.hasEqualMorphs(h));if(B===-1)A.push(h);else{let C=A[B];A[B]=R.$.node("morph",{...C.inner,in:C.in.rawOr(h.in)})}}else A.push(h)})}),!R.def.ordered)A.sort((q,_)=>q.hash<_.hash?-1:1);return A}}},normalize:(T)=>yT(T)?{branches:T}:T,reduce:(T,R)=>{let A=H0(T);if(A.length===1)return A[0];if(A.length===T.branches.length)return;return R.node("union",{...T,branches:A},{prereduced:!0})},defaults:{description:(T)=>T.distribute((R)=>R.description,AA),expected:(T)=>{let R=Gq(T.errors,"propString"),A=Object.entries(R).map(([q,_])=>{let h=[];_.forEach((O)=>fR(h,O.expected));let B=AA(h),C=_.every((O)=>O.actual===_[0].actual)?_[0].actual:o(_[0].data);return`${q&&`${q} `}must be ${B}${C&&` (was ${C})`}`});return AA(A)},problem:(T)=>T.expected,message:(T)=>T.problem},intersections:{union:(T,R,A)=>{if(T.isNever!==R.isNever)return X.init("presence",T,R);let q;if(T.ordered){if(R.ordered)a($0(T.expression,R.expression));if(q=Vh(R.branches,T.branches,A),q instanceof X)q.invert()}else q=Vh(T.branches,R.branches,A);if(q instanceof X)return q;return A.$.parseSchema(T.ordered||R.ordered?{branches:q,ordered:!0}:{branches:q})},...NR("union",(T,R,A)=>{let q=Vh(T.branches,[R],A);if(q instanceof X)return q;if(q.length===1)return q[0];return A.$.parseSchema(T.ordered?{branches:q,ordered:!0}:{branches:q})})}});class hO extends _R{isBoolean=this.branches.length===2&&this.branches[0].hasUnit(!1)&&this.branches[1].hasUnit(!0);get branchGroups(){let T=[],R=-1;return this.branches.forEach((A)=>{if(A.hasKind("unit")&&A.domain==="boolean"){if(R===-1)R=T.length,T.push(A);else T[R]=L.intrinsic.boolean;return}T.push(A)}),T}unitBranches=this.branches.filter((T)=>T.in.hasKind("unit"));discriminant=this.discriminate();discriminantJson=this.discriminant?D0(this.discriminant):null;expression=this.distribute((T)=>T.nestableExpression,W0);get shortDescription(){return this.distribute((T)=>T.shortDescription,AA)}innerToJsonSchema(){return{anyOf:this.branchGroups.map((T)=>T.equals(L.intrinsic.boolean)?{type:"boolean"}:T.toJsonSchema())}}traverseAllows=(T,R)=>this.branches.some((A)=>A.traverseAllows(T,R));traverseApply=(T,R)=>{let A=[];for(let q=0;q<this.branches.length;q++){if(R.pushBranch(),this.branches[q].traverseApply(T,R),!R.hasError()){if(this.branches[q].includesMorph)return R.queuedMorphs.push(...R.popBranch().queuedMorphs);return R.popBranch()}A.push(R.popBranch().error)}R.errorFromNodeContext({code:"union",errors:A,meta:this.meta})};compile(T){if(!this.discriminant||this.unitBranches.length===this.branches.length&&this.branches.length===2)return this.compileIndiscriminable(T);let R=this.discriminant.optionallyChainedPropString;if(this.discriminant.kind==="domain")R=`typeof ${R} === "object" ? ${R} === null ? "null" : "object" : typeof ${R} === "function" ? "object" : typeof ${R}`;let A=this.discriminant.cases,q=Object.keys(A);if(T.block(`switch(${R})`,()=>{for(let O in A){let D=A[O],W=O==="default"?O:`case ${O}`;T.line(`${W}: return ${D===!0?D:T.invoke(D)}`)}return T}),T.traversalKind==="Allows"){T.return(!1);return}let _=AA(this.discriminant.kind==="domain"?q.map((O)=>{let D=O.slice(1,-1);return D==="function"?AR.object:AR[D]}):q),h=this.discriminant.path.map((O)=>typeof O==="string"?JSON.stringify(O):LT(O)),B=JSON.stringify(_),C=this.discriminant.kind==="domain"?`${B0}[${R}]`:`${C0}(${R})`;T.line(`ctx.errorFromNodeContext({
\tcode: "predicate",
\texpected: ${B},
\tactual: ${C},
\trelativePath: [${h}],
\tmeta: ${this.compiledMeta}
})`)}compileIndiscriminable(T){if(T.traversalKind==="Apply")T.const("errors","[]"),this.branches.forEach((R)=>T.line("ctx.pushBranch()").line(T.invoke(R)).if("!ctx.hasError()",()=>T.return(R.includesMorph?"ctx.queuedMorphs.push(...ctx.popBranch().queuedMorphs)":"ctx.popBranch()")).line("errors.push(ctx.popBranch().error)")),T.line(`ctx.errorFromNodeContext({ code: "union", errors, meta: ${this.compiledMeta} })`);else this.branches.forEach((R)=>T.if(`${T.invoke(R)}`,()=>T.return(!0))),T.return(!1)}get nestableExpression(){return this.isBoolean?"boolean":`(${this.expression})`}discriminate(){if(this.branches.length<2)return null;if(this.unitBranches.length===this.branches.length){let h=p(this.unitBranches,(B,C)=>[`${C.in.serializedValue}`,C.hasKind("morph")?C:!0]);return{kind:"unit",path:[],optionallyChainedPropString:"data",cases:h}}let T=[];for(let h=0;h<this.branches.length-1;h++){let B=this.branches[h];for(let C=h+1;C<this.branches.length;C++){let O=this.branches[C],D=pT(B.in,O.in,B.$);if(!(D instanceof X))continue;for(let W of D){if(!W.kind||W.optional)continue;let H,J;if(W.kind==="domain"){let{l:$,r:E}=W;H=`"${typeof $==="string"?$:$.domain}"`,J=`"${typeof E==="string"?E:E.domain}"`}else if(W.kind==="unit")H=W.l.serializedValue,J=W.r.serializedValue;else continue;let y=T.find(($)=>v9($.path,W.path)&&$.kind===W.kind);if(!y)T.push({kind:W.kind,cases:{[H]:[B],[J]:[O]},path:W.path});else y.cases[H]=fR(y.cases[H],B),y.cases[J]=fR(y.cases[J],O)}}}let R=T.sort((h,B)=>Object.keys(h.cases).length-Object.keys(B.cases).length).at(-1);if(!R)return null;let A=[...this.branches],q={kind:R.kind,path:R.path,optionallyChainedPropString:BO(R.path)},_=p(R.cases,(h,B)=>{let C=[];A=A.filter((D)=>!B.includes(D));for(let D of B){let W=y0(D,q);if(W===null)return[h,!0];C.push(W)}let O=C.length===1?C[0]:this.$.node("union",C);return Object.assign(this.referencesById,O.referencesById),[h,O]});if(A.length)_.default=this.$.node("union",A,{prereduced:!0}),Object.assign(this.referencesById,_.default.referencesById);return Object.assign(q,{cases:_})}}var BO=(T)=>T.reduce((R,A)=>R+Eh(A,!0),"data"),B0=LT(r8),C0=LT(o),vh={implementation:h0,Node:hO},D0=(T)=>({kind:T.kind,path:T.path.map((R)=>typeof R==="string"?R:SR(R)),cases:p(T.cases,(R,A)=>[R,A===!0?A:A.hasKind("union")&&A.discriminantJson?A.discriminantJson:A.json])}),O0={delimiter:" | ",finalDelimiter:" | "},W0=(T)=>AA(T,O0),AA=(T,R)=>{let A=R?.delimiter??", ",q=R?.finalDelimiter??" or ";if(T.length===0)return"never";if(T.length===1)return T[0];if(T.length===2&&T[0]==="false"&&T[1]==="true"||T[0]==="true"&&T[1]==="false")return"boolean";let _={},h=T.filter((C)=>_[C]?!1:_[C]=!0),B=h.pop();return`${h.join(A)}${h.length?q:""}${B}`},Vh=(T,R,A)=>{let q=R.map(()=>[]);for(let h=0;h<T.length;h++){let B={};for(let C=0;C<R.length;C++){if(q[C]===null)continue;if(T[h].equals(R[C])){q[C]=null,B={};break}let O=$T(T[h],R[C],A);if(O instanceof X)continue;if(O.equals(T[h])){q[C].push(T[h]),B={};break}if(O.equals(R[C]))q[C]=null;else B[C]=O}for(let C in B)q[C][h]=B[C]}let _=q.flatMap((h,B)=>h?.flatMap((C)=>C.branches)??R[B]);return _.length===0?X.init("union",T,R):_},H0=({branches:T,ordered:R})=>{if(T.length<2)return T;let A=T.map(()=>!0);for(let q=0;q<T.length;q++)for(let _=q+1;_<T.length&&A[q]&&A[_];_++){if(T[q].equals(T[_])){A[_]=!1;continue}let h=pT(T[q].in,T[_].in,T[0].$);if(h instanceof X)continue;if(!R)J0(T[q],T[_]);if(h.equals(T[q].in))A[q]=!!R;else if(h.equals(T[_].in))A[_]=!1}return T.filter((q,_)=>A[_])},J0=(T,R)=>{if((T.includesMorph||R.includesMorph)&&(!v9(T.shallowMorphs,R.shallowMorphs,{isEqual:(A,q)=>A.hasEqualMorphs(q)})||!v9(T.flatMorphs,R.flatMorphs,{isEqual:(A,q)=>A.propString===q.propString&&A.node.hasEqualMorphs(q.node)})))a(i0(T.expression,R.expression))},y0=(T,R)=>T.transform((A,q)=>{if(A==="domain"||A==="unit")return null;return q},{shouldTransform:(A,q)=>{let _=BO(q.path);if(!R.optionallyChainedPropString.startsWith(_))return!1;if(A.hasKind("domain")&&A.domain==="object")return!0;if((A.hasKind("domain")||R.kind==="unit")&&_===R.optionallyChainedPropString)return!0;return A.children.length!==0&&A.kind!=="index"}}),i0=(T,R)=>`An unordered union of a type including a morph and a type with overlapping input is indeterminate:
Left: ${T}
Right: ${R}`,$0=(T,R)=>`The intersection of two ordered unions is indeterminate:
Left: ${T}
Right: ${R}`;var I0=v({kind:"unit",hasAssociatedError:!0,keys:{unit:{preserveUndefined:!0,serialize:(T)=>T instanceof Date?T.toISOString():PR(T)}},normalize:(T)=>T,defaults:{description:(T)=>o(T.unit),problem:({expected:T,actual:R})=>`${T===R?`must be reference equal to ${T} (serialized to the same value)`:`must be ${T} (was ${R})`}`},intersections:{unit:(T,R)=>X.init("unit",T,R),...NR("unit",(T,R)=>{if(R.allows(T.unit))return T;let A=R.hasKind("intersection")?R.basis:R;if(A){let q=A.hasKind("domain")?A:L.intrinsic.object;if(T.domain!==q.domain){let _=T.domain==="undefined"||T.domain==="null"||T.domain==="boolean"?T.domain:L.intrinsic[T.domain];return X.init("domain",_,q)}}return X.init("assignability",T,R.hasKind("intersection")?R.children.find((q)=>!q.allows(T.unit)):R)})}});class DO extends N9{compiledValue=this.json.unit;serializedValue=typeof this.unit==="string"||this.unit instanceof Date?JSON.stringify(this.compiledValue):`${this.compiledValue}`;compiledCondition=CO(this.unit,this.serializedValue);compiledNegation=CO(this.unit,this.serializedValue,"negated");expression=o(this.unit);domain=VT(this.unit);get shortDescription(){return this.domain==="object"?AR.object:this.description}innerToJsonSchema(){return L.intrinsic.jsonPrimitive.allows(this.unit)?{const:this.unit}:qT.throwUnjsonifiableError(this.shortDescription)}traverseAllows=this.unit instanceof Date?(T)=>T instanceof Date&&T.toISOString()===this.compiledValue:Number.isNaN(this.unit)?(T)=>Number.isNaN(T):(T)=>T===this.unit}var mh={implementation:I0,Node:DO},CO=(T,R,A)=>{if(T instanceof Date){let q=`data instanceof Date && data.toISOString() === ${R}`;return A?`!(${q})`:q}if(Number.isNaN(T))return`${A?"!":""}Number.isNaN(data)`;return`data ${A?"!":"="}== ${R}`};var E0=v({kind:"index",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{signature:{child:!0,parse:(T,R)=>{let A=R.$.parseSchema(T);if(!A.extends(L.intrinsic.key))return a(F0(A.expression));let q=A.branches.filter((_)=>_.hasKind("unit"));if(q.length)return a(j0(q.map((_)=>o(_.unit))));return A}},value:{child:!0,parse:(T,R)=>R.$.parseSchema(T)}},normalize:(T)=>T,defaults:{description:(T)=>`[${T.signature.expression}]: ${T.value.description}`},intersections:{index:(T,R,A)=>{if(T.signature.equals(R.signature)){let q=$T(T.value,R.value,A),_=q instanceof X?L.intrinsic.never.internal:q;return A.$.node("index",{signature:T.signature,value:_})}if(T.signature.extends(R.signature)&&T.value.subsumes(R.value))return R;if(R.signature.extends(T.signature)&&R.value.subsumes(T.value))return T;return null}}});class OO extends qR{impliedBasis=L.intrinsic.object.internal;expression=`[${this.signature.expression}]: ${this.value.expression}`;traverseAllows=(T,R)=>xA(T).every((A)=>{if(this.signature.traverseAllows(A[0],R))return oT(A[0],()=>this.value.traverseAllows(A[1],R),R);return!0});traverseApply=(T,R)=>xA(T).forEach((A)=>{if(this.signature.traverseAllows(A[0],R))oT(A[0],()=>this.value.traverseApply(A[1],R),R)});_transform(T,R){R.path.push(this.signature);let A=super._transform(T,R);return R.path.pop(),A}get flatRefs(){return e(this.value.flatRefs.map((T)=>iR([this.signature,...T.path],T.node)),iR([this.signature],this.value))}compile(){}}var lh={implementation:E0,Node:OO},j0=(T)=>`Index keys ${T.join(", ")} should be specified as named props.`,F0=(T)=>`Indexed key definition '${T}' must be a string or symbol`;var b0=v({kind:"required",hasAssociatedError:!0,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(T,R)=>R.$.parseSchema(T)}},normalize:(T)=>T,defaults:{description:(T)=>`${T.compiledKey}: ${T.value.description}`,expected:(T)=>T.missingValueDescription,actual:()=>"missing"},intersections:{required:cA,optional:cA}});class WO extends wA{expression=`${this.compiledKey}: ${this.value.expression}`;errorContext=Object.freeze({code:"required",missingValueDescription:this.value.shortDescription,relativePath:[this.key],meta:this.meta});compiledErrorContext=R9(this.errorContext)}var dh={implementation:b0,Node:WO};var Q0=v({kind:"sequence",hasAssociatedError:!1,collapsibleKey:"variadic",keys:{prefix:{child:!0,parse:(T,R)=>{if(T.length===0)return;return T.map((A)=>R.$.parseSchema(A))}},optionals:{child:!0,parse:(T,R)=>{if(T.length===0)return;return T.map((A)=>R.$.parseSchema(A))}},defaultables:{child:(T)=>T.map((R)=>R[0]),parse:(T,R)=>{if(T.length===0)return;return T.map((A)=>{let q=R.$.parseSchema(A[0]);return vA(q,A[1],null),[q,A[1]]})},serialize:(T)=>T.map((R)=>[R[0].collapsibleJson,PR(R[1])])},variadic:{child:!0,parse:(T,R)=>R.$.parseSchema(T,R)},minVariadicLength:{parse:(T)=>T===0?void 0:T},postfix:{child:!0,parse:(T,R)=>{if(T.length===0)return;return T.map((A)=>R.$.parseSchema(A))}}},normalize:(T)=>{if(typeof T==="string")return{variadic:T};if("variadic"in T||"prefix"in T||"defaultables"in T||"optionals"in T||"postfix"in T||"minVariadicLength"in T){if(T.postfix?.length){if(!T.variadic)return a(u0);if(T.optionals?.length||T.defaultables?.length)return a(rh)}if(T.minVariadicLength&&!T.variadic)return a("minVariadicLength may not be specified without a variadic element");return T}return{variadic:T}},reduce:(T,R)=>{let A=T.minVariadicLength??0,q=T.prefix?.slice()??[],_=T.defaultables?.slice()??[],h=T.optionals?.slice()??[],B=T.postfix?.slice()??[];if(T.variadic){while(h.at(-1)?.equals(T.variadic))h.pop();if(h.length===0&&_.length===0)while(q.at(-1)?.equals(T.variadic))q.pop(),A++;while(B[0]?.equals(T.variadic))B.shift(),A++}else if(h.length===0&&_.length===0)q.push(...B.splice(0));if(A!==T.minVariadicLength||T.prefix&&T.prefix.length!==q.length)return R.node("sequence",{...T,prefix:q,defaultables:_,optionals:h,postfix:B,minVariadicLength:A},{prereduced:!0})},defaults:{description:(T)=>{if(T.isVariadicOnly)return`${T.variadic.nestableExpression}[]`;return`[${T.tuple.map((A)=>A.kind==="defaultables"?`${A.node.nestableExpression} = ${o(A.default)}`:A.kind==="optionals"?`${A.node.nestableExpression}?`:A.kind==="variadic"?`...${A.node.nestableExpression}[]`:A.node.expression).join(", ")}]`}},intersections:{sequence:(T,R,A)=>{let q=dA({l:T.tuple,r:R.tuple,disjoint:new X,result:[],fixedVariants:[],ctx:A}),_=q.disjoint.length===0?[q,...q.fixedVariants]:q.fixedVariants;return _.length===0?q.disjoint:_.length===1?A.$.node("sequence",HO(_[0].result)):A.$.node("union",_.map((h)=>({proto:Array,sequence:HO(h.result)})))}}});class JO extends qR{impliedBasis=L.intrinsic.Array.internal;tuple=N0(this.inner);prefixLength=this.prefix?.length??0;defaultablesLength=this.defaultables?.length??0;optionalsLength=this.optionals?.length??0;postfixLength=this.postfix?.length??0;prevariadic=this.tuple.filter((T)=>T.kind==="prefix"||T.kind==="defaultables"||T.kind==="optionals");variadicOrPostfix=sR(this.variadic&&[this.variadic],this.postfix);isVariadicOnly=this.prevariadic.length+this.postfixLength===0;minVariadicLength=this.inner.minVariadicLength??0;minLength=this.prefixLength+this.minVariadicLength+this.postfixLength;minLengthNode=this.minLength===0?null:this.$.node("minLength",this.minLength);maxLength=this.variadic?null:this.tuple.length;maxLengthNode=this.maxLength===null?null:this.$.node("maxLength",this.maxLength);impliedSiblings=this.minLengthNode?this.maxLengthNode?[this.minLengthNode,this.maxLengthNode]:[this.minLengthNode]:this.maxLengthNode?[this.maxLengthNode]:[];defaultValueMorphs=this.defaultables?.map(([T,R],A)=>Sh(this.prefixLength+A,T,R))??[];defaultValueMorphsReference=LT(this.defaultValueMorphs);elementAtIndex(T,R){if(R<this.prevariadic.length)return this.tuple[R];let A=T.length-this.postfixLength;if(R>=A)return{kind:"postfix",node:this.postfix[R-A]};return{kind:"variadic",node:this.variadic??CT(`Unexpected attempt to access index ${R} on ${this}`)}}traverseAllows=(T,R)=>{for(let A=0;A<T.length;A++)if(!this.elementAtIndex(T,A).node.traverseAllows(T[A],R))return!1;return!0};traverseApply=(T,R)=>{let A=0;for(;A<T.length;A++)oT(A,()=>this.elementAtIndex(T,A).node.traverseApply(T[A],R),R);for(;A<this.prefixLength+this.defaultablesLength;A++)R.queueMorphs(this.defaultValueMorphs[A-this.prefixLength])};get flatRefs(){let T=[];return p9(T,this.prevariadic.flatMap((R,A)=>e(R.node.flatRefs.map((q)=>iR([`${A}`,...q.path],q.node)),iR([`${A}`],R.node)))),p9(T,this.variadicOrPostfix.flatMap((R)=>e(R.flatRefs.map((A)=>iR([L.intrinsic.nonNegativeIntegerString.internal,...A.path],A.node)),iR([L.intrinsic.nonNegativeIntegerString.internal],R)))),T}get element(){return this.cacheGetter("element",this.$.node("union",this.children))}compile(T){if(this.prefix?.forEach((R,A)=>T.traverseKey(`${A}`,`data[${A}]`,R)),this.defaultables?.forEach((R,A)=>{let q=`${A+this.prefixLength}`;T.if(`${q} >= ${T.data}.length`,()=>T.traversalKind==="Allows"?T.return(!0):T.return(`ctx.queueMorphs(${this.defaultValueMorphsReference}[${A}])`)),T.traverseKey(q,`data[${q}]`,R[0])}),this.optionals?.forEach((R,A)=>{let q=`${A+this.prefixLength+this.defaultablesLength}`;T.if(`${q} >= ${T.data}.length`,()=>T.traversalKind==="Allows"?T.return(!0):T.return()),T.traverseKey(q,`data[${q}]`,R)}),this.variadic){if(this.postfix)T.const("firstPostfixIndex",`${T.data}.length${this.postfix?`- ${this.postfix.length}`:""}`);T.for(`i < ${this.postfix?"firstPostfixIndex":"data.length"}`,()=>T.traverseKey("i","data[i]",this.variadic),this.prevariadic.length),this.postfix?.forEach((R,A)=>{let q=`firstPostfixIndex + ${A}`;T.traverseKey(q,`data[${q}]`,R)})}if(T.traversalKind==="Allows")T.return(!0)}_transform(T,R){R.path.push(L.intrinsic.nonNegativeIntegerString.internal);let A=super._transform(T,R);return R.path.pop(),A}expression=this.description;reduceJsonSchema(T){if(this.prefix)T.prefixItems=this.prefix.map((R)=>R.toJsonSchema());if(this.optionals)return qT.throwUnjsonifiableError(`Optional tuple element${this.optionalsLength>1?"s":""} ${this.optionals.join(", ")}`);if(this.variadic){if(T.items=this.variadic?.toJsonSchema(),this.minLength)T.minItems=this.minLength;if(this.maxLength)T.maxItems=this.maxLength}else T.items=!1,delete T.minItems,delete T.maxItems;if(this.postfix)return qT.throwUnjsonifiableError(`Postfix tuple element${this.postfixLength>1?"s":""} ${this.postfix.join(", ")}`);return T}}var oh={implementation:Q0,Node:JO},N0=(T)=>{let R=[];if(T.prefix?.forEach((A)=>R.push({kind:"prefix",node:A})),T.defaultables?.forEach(([A,q])=>R.push({kind:"defaultables",node:A,default:q})),T.optionals?.forEach((A)=>R.push({kind:"optionals",node:A})),T.variadic)R.push({kind:"variadic",node:T.variadic});return T.postfix?.forEach((A)=>R.push({kind:"postfix",node:A})),R},HO=(T)=>T.reduce((R,A)=>{if(A.kind==="variadic")R.variadic=A.node;else if(A.kind==="defaultables")R.defaultables=e(R.defaultables,[[A.node,A.default]]);else R[A.kind]=e(R[A.kind],A.node);return R},{}),rh="A postfix required element cannot follow an optional or defaultable element",u0="A postfix element requires a variadic element",dA=(T)=>{let[R,...A]=T.l,[q,..._]=T.r;if(!R||!q)return T;let h=A.at(-1)?.kind==="postfix",B=_.at(-1)?.kind==="postfix",C=R.kind==="prefix"||q.kind==="prefix"?"prefix":R.kind==="postfix"||q.kind==="postfix"?"postfix":R.kind==="variadic"&&q.kind==="variadic"?"variadic":h||B?"prefix":R.kind==="defaultables"||q.kind==="defaultables"?"defaultables":"optionals";if(R.kind==="prefix"&&q.kind==="variadic"&&B){let H=dA({...T,fixedVariants:[],r:_.map((J)=>({...J,kind:"prefix"}))});if(H.disjoint.length===0)T.fixedVariants.push(H)}else if(q.kind==="prefix"&&R.kind==="variadic"&&h){let H=dA({...T,fixedVariants:[],l:A.map((J)=>({...J,kind:"prefix"}))});if(H.disjoint.length===0)T.fixedVariants.push(H)}let O=$T(R.node,q.node,T.ctx);if(O instanceof X)if(C==="prefix"||C==="postfix")T.disjoint.push(...O.withPrefixKey(C==="prefix"?`${T.result.length}`:`-${A.length+1}`,"required")),T.result=[...T.result,{kind:C,node:L.intrinsic.never.internal}];else if(C==="optionals"||C==="defaultables")return T;else return dA({...T,fixedVariants:[],l:A.map((H)=>({...H,kind:"prefix"})),r:A.map((H)=>({...H,kind:"prefix"}))});else if(C==="defaultables"){if(R.kind==="defaultables"&&q.kind==="defaultables"&&R.default!==q.default)a(Mh(R.default,q.default));T.result=[...T.result,{kind:C,node:O,default:R.kind==="defaultables"?R.default:q.kind==="defaultables"?q.default:CT(`Unexpected defaultable intersection from ${R.kind} and ${q.kind} elements.`)}]}else T.result=[...T.result,{kind:C,node:O}];let D=T.l.length,W=T.r.length;if(R.kind!=="variadic"||D>=W&&(q.kind==="variadic"||W===1))T.l=A;if(q.kind!=="variadic"||W>=D&&(R.kind==="variadic"||D===1))T.r=_;return dA(T)};var ph="^(?:0|[1-9]\\d*)$",k0=new RegExp(ph),yO=LT(k0);var $O=(T)=>(R)=>{if(R.props.length||R.index){let A=R.index?.map(String)??[];if(R.props.forEach((_)=>A.push(_[T])),R.undeclared)A.push(`+ (undeclared): ${R.undeclared}`);let q=`{ ${A.join(", ")} }`;return R.sequence?`${q} & ${R.sequence.description}`:q}return R.sequence?.description??"{}"},a0=$O("description"),K0=$O("expression"),G0=v({kind:"structure",hasAssociatedError:!1,normalize:(T,R)=>{if(!T.undeclared&&R.resolvedConfig.onUndeclaredKey!=="ignore")return{...T,undeclared:R.resolvedConfig.onUndeclaredKey};return T},keys:{required:{child:!0,parse:PT("required"),reduceIo:(T,R,A)=>{R.required=e(R.required,A.map((q)=>q[T]));return}},optional:{child:!0,parse:PT("optional"),reduceIo:(T,R,A)=>{if(T==="in"){R.optional=A.map((q)=>q.in);return}A.forEach((q)=>R[q.outProp.kind]=e(R[q.outProp.kind],q.outProp.out))}},index:{child:!0,parse:PT("index")},sequence:{child:!0,parse:PT("sequence")},undeclared:{parse:(T)=>T==="ignore"?void 0:T}},defaults:{description:a0},intersections:{structure:(T,R,A)=>{let q={...T.inner},_={...R.inner},h=new X;if(T.undeclared){let O=T.keyof();if(R.requiredKeys.forEach((D)=>{if(!O.allows(D))h.add("presence",L.intrinsic.never.internal,R.propsByKey[D].value,{path:[D]})}),_.optional)_.optional=_.optional.filter((D)=>O.allows(D.key));if(_.index)_.index=_.index.flatMap((D)=>{if(D.signature.extends(O))return D;let W=pT(O,D.signature,A.$);if(W instanceof X)return[];let H=lq(W,D.value,A.$);if(H.required)_.required=sR(_.required,H.required);if(H.optional)_.optional=sR(_.optional,H.optional);return H.index??[]})}if(R.undeclared){let O=R.keyof();if(T.requiredKeys.forEach((D)=>{if(!O.allows(D))h.add("presence",T.propsByKey[D].value,L.intrinsic.never.internal,{path:[D]})}),q.optional)q.optional=q.optional.filter((D)=>O.allows(D.key));if(q.index)q.index=q.index.flatMap((D)=>{if(D.signature.extends(O))return D;let W=pT(O,D.signature,A.$);if(W instanceof X)return[];let H=lq(W,D.value,A.$);if(H.required)q.required=sR(q.required,H.required);if(H.optional)q.optional=sR(q.optional,H.optional);return H.index??[]})}let B={};if(T.undeclared||R.undeclared)B.undeclared=T.undeclared==="reject"||R.undeclared==="reject"?"reject":"delete";let C=s9({kind:"structure",baseInner:B,l:t9(q),r:t9(_),roots:[],ctx:A});if(C instanceof X)h.push(...C);if(h.length)return h;return C}}});class IO extends qR{impliedBasis=L.intrinsic.object.internal;impliedSiblings=this.children.flatMap((T)=>T.impliedSiblings??[]);props=sR(this.required,this.optional);propsByKey=p(this.props,(T,R)=>[R.key,R]);propsByKeyReference=LT(this.propsByKey);expression=K0(this);requiredKeys=this.required?.map((T)=>T.key)??[];optionalKeys=this.optional?.map((T)=>T.key)??[];literalKeys=[...this.requiredKeys,...this.optionalKeys];_keyof;keyof(){if(this._keyof)return this._keyof;let T=this.$.units(this.literalKeys).branches;return this.index?.forEach(({signature:R})=>{T=T.concat(R.branches)}),this._keyof=this.$.node("union",T)}map(T){return this.$.node("structure",this.props.flatMap(T).reduce((R,A)=>{let q=this.propsByKey[A.key];if(jT(A)){if(A.kind!=="required"&&A.kind!=="optional")return a(`Map result must have kind "required" or "optional" (was ${A.kind})`);return R[A.kind]=e(R[A.kind],A),R}let _=A.kind??q?.kind??"required",h=p(A,(B,C)=>(B in VA.implementation.keys)?[B,C]:[]);return R[_]=e(R[_],this.$.node(_,h)),R},{}))}assertHasKeys(T){let R=T.filter((A)=>!mA(A,this.keyof()));if(R.length)return a(iO(this.expression,R))}get(T,...R){let A,q=!1,_=L0(T);if((typeof _==="string"||typeof _==="symbol")&&this.propsByKey[_])A=this.propsByKey[_].value,q=this.propsByKey[_].required;if(this.index?.forEach((B)=>{if(mA(_,B.signature))A=A?.and(B.value)??B.value}),this.sequence&&mA(_,L.intrinsic.nonNegativeIntegerString))if(f(_,"root")){if(this.sequence.variadic)A=A?.and(this.sequence.element)??this.sequence.element}else{let B=Number.parseInt(_);if(B<this.sequence.prevariadic.length){let C=this.sequence.prevariadic[B].node;A=A?.and(C)??C,q||=B<this.sequence.prefixLength}else if(this.sequence.variadic){let C=this.$.node("union",this.sequence.variadicOrPostfix);A=A?.and(C)??C}}if(!A){if(this.sequence?.variadic&&f(_,"root")&&_.extends(L.intrinsic.number))return a(g0(_.expression,this.sequence.expression));return a(iO(this.expression,[_]))}let h=A.get(...R);return q?h:h.or(L.intrinsic.undefined)}exhaustive=this.undeclared!==void 0||this.index!==void 0;pick(...T){return this.assertHasKeys(T),this.$.node("structure",this.filterKeys("pick",T))}omit(...T){return this.assertHasKeys(T),this.$.node("structure",this.filterKeys("omit",T))}optionalize(){let{required:T,...R}=this.inner;return this.$.node("structure",{...R,optional:this.props.map((A)=>A.hasKind("required")?this.$.node("optional",A.inner):A)})}require(){let{optional:T,...R}=this.inner;return this.$.node("structure",{...R,required:this.props.map((A)=>A.hasKind("optional")?{key:A.key,value:A.value}:A)})}merge(T){let R=this.filterKeys("omit",[T.keyof()]);if(T.required)R.required=e(R.required,T.required);if(T.optional)R.optional=e(R.optional,T.optional);if(T.index)R.index=e(R.index,T.index);if(T.sequence)R.sequence=T.sequence;if(T.undeclared)R.undeclared=T.undeclared;else delete R.undeclared;return this.$.node("structure",R)}filterKeys(T,R){let A=Zq(this.inner),q=(_)=>{let h=R.some((B)=>mA(_,B));return T==="pick"?h:!h};if(A.required)A.required=A.required.filter((_)=>q(_.key));if(A.optional)A.optional=A.optional.filter((_)=>q(_.key));if(A.index)A.index=A.index.filter((_)=>q(_.signature));return A}traverseAllows=(T,R)=>this._traverse("Allows",T,R);traverseApply=(T,R)=>this._traverse("Apply",T,R);_traverse=(T,R,A)=>{let q=A?.currentErrorCount??0;for(let h=0;h<this.props.length;h++)if(T==="Allows"){if(!this.props[h].traverseAllows(R,A))return!1}else if(this.props[h].traverseApply(R,A),A.failFast&&A.currentErrorCount>q)return!1;if(this.sequence){if(T==="Allows"){if(!this.sequence.traverseAllows(R,A))return!1}else if(this.sequence.traverseApply(R,A),A.failFast&&A.currentErrorCount>q)return!1}if(!this.exhaustive)return!0;let _=Object.keys(R);_.push(...Object.getOwnPropertySymbols(R));for(let h=0;h<_.length;h++){let B=_[h],C=!1;if(this.index){for(let O of this.index)if(O.signature.traverseAllows(B,A)){if(T==="Allows"){if(!oT(B,()=>O.value.traverseAllows(R[B],A),A))return!1}else if(oT(B,()=>O.value.traverseApply(R[B],A),A),A.failFast&&A.currentErrorCount>q)return!1;C=!0}}if(this.undeclared){if(C||=B in this.propsByKey,C||=this.sequence!==void 0&&typeof B==="string"&&L.intrinsic.nonNegativeIntegerString.allows(B),!C){if(T==="Allows")return!1;if(this.undeclared==="reject")A.errorFromNodeContext({code:"predicate",expected:"removed",actual:"",relativePath:[B],meta:this.meta});else A.queueMorphs([(O)=>{return delete O[B],O}]);if(A.failFast)return!1}}}return!0};compile(T){if(T.traversalKind==="Apply")T.initializeErrorCount();if(this.props.forEach((R)=>{if(T.check(R),T.traversalKind==="Apply")T.returnIfFailFast()}),this.sequence){if(T.check(this.sequence),T.traversalKind==="Apply")T.returnIfFailFast()}if(this.exhaustive)T.const("keys","Object.keys(data)"),T.line("keys.push(...Object.getOwnPropertySymbols(data))"),T.for("i < keys.length",()=>this.compileExhaustiveEntry(T));if(T.traversalKind==="Allows")T.return(!0)}compileExhaustiveEntry(T){if(T.const("k","keys[i]"),this.undeclared)T.let("matched",!1);if(this.index?.forEach((R)=>{T.if(`${T.invoke(R.signature,{arg:"k",kind:"Allows"})}`,()=>{if(T.traverseKey("k","data[k]",R.value),this.undeclared)T.set("matched",!0);return T})}),this.undeclared){if(this.props?.length!==0)T.line(`matched ||= k in ${this.propsByKeyReference}`);if(this.sequence)T.line(`matched ||= typeof k === "string" && ${yO}.test(k)`);T.if("!matched",()=>{if(T.traversalKind==="Allows")return T.return(!1);return this.undeclared==="reject"?T.line(`ctx.errorFromNodeContext({ code: "predicate", expected: "removed", actual: "", relativePath: [k], meta: ${this.compiledMeta} })`).if("ctx.failFast",()=>T.return()):T.line("ctx.queueMorphs([data => { delete data[k]; return data }])")})}return T}reduceJsonSchema(T){switch(T.type){case"object":return this.reduceObjectJsonSchema(T);case"array":if(this.props.length||this.index)return qT.throwUnjsonifiableError(`Additional properties on array ${this.expression}`);return this.sequence?.reduceJsonSchema(T)??T;default:return qT.throwInternalOperandError("structure",T)}}reduceObjectJsonSchema(T){if(this.props.length){if(T.properties={},this.props.forEach((R)=>{if(typeof R.key==="symbol")return qT.throwUnjsonifiableError(`Sybolic key ${R.serializedKey}`);T.properties[R.key]=R.value.toJsonSchema()}),this.requiredKeys.length)T.required=this.requiredKeys}if(this.index?.forEach((R)=>{if(R.signature.equals(L.intrinsic.string))return T.additionalProperties=R.value.toJsonSchema();if(!R.signature.extends(L.intrinsic.string))return qT.throwUnjsonifiableError(`Symbolic index signature ${R.signature.exclude(L.intrinsic.string)}`);R.signature.branches.forEach((A)=>{if(!A.hasKind("intersection")||A.pattern?.length!==1)return qT.throwUnjsonifiableError(`Index signature ${A}`);T.patternProperties??={},T.patternProperties[A.pattern[0].rule]=R.value.toJsonSchema()})}),this.undeclared&&!T.additionalProperties)T.additionalProperties=!1;return T}}var nh={implementation:G0,Node:IO},L0=(T)=>{if(f(T,"root")&&T.hasKind("unit"))T=T.unit;if(typeof T==="number")T=`${T}`;return T},g0=(T,R)=>`${T} is not allowed as an array index on ${R}. Use the 'nonNegativeIntegerString' keyword instead.`,lq=(T,R,A)=>{let[q,_]=o8(T.branches,(B)=>B.hasKind("unit"));if(!q.length)return{index:A.node("index",{signature:T,value:R})};let h={};if(q.forEach((B)=>{let C=A.node("required",{key:B.unit,value:R});h[C.kind]=e(h[C.kind],C)}),_.length)h.index=A.node("index",{signature:_,value:R});return h},x0=(T)=>f(T,"root")?T.expression:o(T),iO=(T,R)=>`Key${R.length===1?"":"s"} ${R.map(x0).join(", ")} ${R.length===1?"does":"do"} not exist on ${T}`;var TA={...vD,alias:lA.implementation,domain:Ph.implementation,unit:mh.implementation,proto:wh.implementation,union:vh.implementation,morph:ch.implementation,intersection:Yh.implementation,divisor:kh.implementation,pattern:Xh.implementation,predicate:uh.implementation,required:dh.implementation,optional:VA.implementation,index:lh.implementation,sequence:oh.implementation,structure:nh.implementation};L.defaultConfig=Object.assign(p(TA,(T,R)=>[T,R.defaults]),{jitless:qD(),clone:TD,onUndeclaredKey:"ignore"});var pD={...mD,alias:lA.Node,domain:Ph.Node,unit:mh.Node,proto:wh.Node,union:vh.Node,morph:ch.Node,intersection:Yh.Node,divisor:kh.Node,pattern:Xh.Node,predicate:uh.Node,required:dh.Node,optional:VA.Node,index:lh.Node,sequence:oh.Node,structure:nh.Node};class u9 extends hh{get[lT](){return"module"}}var sh=(T,R)=>new u9(p(T,(A,q)=>[A,f(q,"module")?sh(q,R):R.bindReference(q)]));var z0=(T)=>yT(T)?T:("branches"in T)&&yT(T.branches)?T.branches:void 0,X0=(T,R)=>a(`Node of kind ${R} is not valid as a ${T} definition`),EO=(T)=>`#${T} duplicates public alias ${T}`,jO={};L.ambient??={};var FO;class dq{config;resolvedConfig;id=`${Object.keys(jO).length}$`;get[lT](){return"scope"}referencesById={};references=[];resolutions={};exportedNames=[];aliases={};resolved=!1;nodesByHash={};constructor(T,R){this.config=R??{},this.resolvedConfig=aD(R),Object.entries(T).map((q)=>this.preparseOwnAliasEntry(...q)).forEach(([q,_])=>{let h=q;if(q[0]==="#"){if(h=q.slice(1),h in this.aliases)a(EO(h));this.aliases[h]=_}else{if(h in this.aliases)a(EO(q));this.aliases[h]=_,this.exportedNames.push(h)}if(!f(_,"module")&&!f(_,"generic")&&!tR(_)){let B=this.preparseOwnDefinitionFormat(_,{alias:h});if(f(B,"root"))this.resolutions[h]=this.bindReference(B);else this.resolutions[h]=this.createParseContext(B).id}}),FO??=this.node("union",{branches:["string","number","object","bigint","symbol",{unit:!0},{unit:!1},{unit:void 0},{unit:null}]},{prereduced:!0}),this.nodesByHash[FO.hash]=this.node("intersection",{},{prereduced:!0}),jO[this.id]=this}get internal(){return this}_json;get json(){if(!this._json)this.export();return this._json}defineSchema(T){return T}generic=(...T)=>{let R=this;return(A,q)=>new A9(T,q?new Pq(A):A,R,R,q??null)};units=(T,R)=>{let A=[];for(let _ of T)if(!A.includes(_))A.push(_);let q=A.map((_)=>this.node("unit",{unit:_},R));return this.node("union",q,{...R,prereduced:!0})};lazyResolutions=[];lazilyResolve(T,R){let A=this.node("alias",{reference:R??"synthetic",resolve:T},{prereduced:!0});if(!this.resolved)this.lazyResolutions.push(A);return A}schema=(T,R)=>this.finalize(this.parseSchema(T,R));parseSchema=(T,R)=>this.node(YA(T),T,R);preparseNode(T,R,A){let q=typeof T==="string"?T:YA(R,T);if(jT(R)&&R.kind===q)return R;if(q==="alias"&&!A?.prereduced){let{reference:B}=lA.implementation.normalize(R,this);if(B.startsWith("$")){let C=this.resolveRoot(B.slice(1));R=C,q=C.kind}}else if(q==="union"&&mT(R,"object")){let B=z0(R);if(B?.length===1)R=B[0],q=YA(R)}let h=TA[q].normalize?.(R,this)??R;if(jT(h))return h.kind===q?h:X0(q,h.kind);return{...A,$:this,kind:q,def:h,prefix:A.alias??q}}bindReference(T){let R=T.$===this?T:jT(T)?new T.constructor(T.attachments,this):new A9(T.params,T.bodyDef,T.$,this,T.hkt);if(!this.resolved)Object.assign(this.referencesById,R.referencesById);return R}resolveRoot(T){return this.maybeResolveRoot(T)??a(TB(T))}maybeResolveRoot(T){let R=this.maybeResolve(T);if(f(R,"generic"))return;return R}maybeResolveSubalias(T){return th(this.aliases,T)??th(this.ambient,T)}get ambient(){return L.ambient}maybeResolve(T){let R=this.resolutions[T];if(R){if(typeof R!=="string")return R;let q=vT[R];if(f(q,"root"))return this.resolutions[T]=q;if(f(q,"context")){if(q.phase==="resolving")return this.node("alias",{reference:`$${T}`},{prereduced:!0});if(q.phase==="resolved")return CT(`Unexpected resolved context for was uncached by its scope: ${o(q)}`);q.phase="resolving";let _=this.bindReference(this.parseOwnDefinitionFormat(q.def,q));return q.phase="resolved",vT[_.id]=_,vT[q.id]=_,this.resolutions[T]=_}return CT(`Unexpected nodesById entry for ${R}: ${o(q)}`)}let A=this.aliases[T]??this.ambient?.[T];if(!A)return this.maybeResolveSubalias(T);if(A=this.normalizeRootScopeValue(A),f(A,"generic"))return this.resolutions[T]=this.bindReference(A);if(f(A,"module"))if(A.root)return this.resolutions[T]=this.bindReference(A.root);else return a(uO(T));return this.resolutions[T]=this.parse(A,{alias:T})}createParseContext(T){let R=T.id??Zh(T.prefix);return vT[R]=Object.assign(T,{[lT]:"context",$:this,id:R,phase:"unresolved"})}import(...T){return new u9(p(this.export(...T),(R,A)=>[`#${R}`,A]))}precompilation;_exportedResolutions;_exports;export(...T){if(!this._exports){this._exports={};for(let A of this.exportedNames){let q=this.aliases[A];this._exports[A]=f(q,"module")?sh(q,this):bO(this.maybeResolve(A))}if(this.lazyResolutions.forEach((A)=>A.resolution),this.resolvedConfig.ambient===!0)Object.assign(L.ambient,this._exports);else if(typeof this.resolvedConfig.ambient==="string")Object.assign(L.ambient,{[this.resolvedConfig.ambient]:new u9({...this._exports})});if(this._exportedResolutions=NO(this,this._exports),this._json=QO(this._exportedResolutions),Object.assign(this.resolutions,this._exportedResolutions),this.references=Object.values(this.referencesById),!this.resolvedConfig.jitless)this.precompilation=aO(this.references),kO(this.references,this.precompilation);this.resolved=!0}let R=T.length?T:this.exportedNames;return new u9(p(R,(A,q)=>[q,this._exports[q]]))}resolve(T){return this.export()[T]}node=(T,R,A={})=>{let q=this.preparseNode(T,R,A);if(jT(q))return this.bindReference(q);let _=this.createParseContext(q);return vT[_.id]=this.bindReference(fh(_))};parse=(T,R={})=>this.finalize(this.parseDefinition(T,R));parseDefinition(T,R={}){if(f(T,"root"))return this.bindReference(T);let A=this.preparseOwnDefinitionFormat(T,R);if(f(A,"root"))return this.bindReference(A);let q=this.createParseContext(A);vT[q.id]=q;let _=this.bindReference(this.parseOwnDefinitionFormat(T,q));if(_.isCyclic)_=rD(_,q.id);return vT[q.id]=_,_}finalize(T){if(bO(T),!T.precompilation&&!this.resolvedConfig.jitless)f0(T.references);return T}}class eh extends dq{parseOwnDefinitionFormat(T,R){return fh(R)}preparseOwnDefinitionFormat(T,R){return this.preparseNode(YA(T),T,R)}preparseOwnAliasEntry(T,R){return[T,R]}normalizeRootScopeValue(T){return T}}var bO=(T)=>{return T.references.filter((R)=>R.hasKind("alias")).forEach((R)=>{Object.assign(R.referencesById,R.resolution.referencesById),T.references.forEach((A)=>{if(R.id in A.referencesById)Object.assign(A.referencesById,R.referencesById)})}),T},QO=(T)=>p(T,(R,A)=>[R,f(A,"root")||f(A,"generic")?A.json:f(A,"module")?QO(A):CT(`Unexpected resolution ${o(A)}`)]),th=(T,R)=>{let A=R.indexOf(".");if(A===-1)return;let q=R.slice(0,A),_=T[q];if(_===void 0)return;if(!f(_,"module"))return a(Z0(q));let h=R.slice(A+1),B=_[h];if(B===void 0)return th(_,h);if(f(B,"root")||f(B,"generic"))return B;if(f(B,"module"))return B.root??a(uO(R));CT(`Unexpected resolution for alias '${R}': ${o(B)}`)},oq=(T,R)=>new eh(T,R),oA=new eh({});var NO=(T,R)=>{let A={};for(let q in R){let _=R[q];if(f(_,"module")){let h=NO(T,_),B=p(h,(C,O)=>[`${q}.${C}`,O]);Object.assign(A,B)}else if(f(_,"root")||f(_,"generic"))A[q]=_;else CT(`Unexpected scope resolution ${o(_)}`)}return A},TB=(T)=>`'${T}' is unresolvable`,Z0=(T)=>`'${T}' must reference a module to be accessed using dot syntax`,uO=(T)=>`Reference to submodule '${T}' must specify an alias`,f0=(T)=>kO(T,aO(T)),kO=(T,R)=>{let A=U0(R);for(let q of T){if(q.precompilation)continue;if(q.traverseAllows=A[`${q.id}Allows`].bind(A),q.isRoot()&&!q.allowsRequiresContext)q.allows=q.traverseAllows;q.traverseApply=A[`${q.id}Apply`].bind(A),q.precompilation=R}},U0=(T)=>new zq().return(T).compile()(),aO=(T)=>T.reduce((R,A)=>{let q=new Xq("Allows").indent();A.compile(q);let _=q.write(`${A.id}Allows`),h=new Xq("Apply").indent();A.compile(h);let B=h.write(`${A.id}Apply`);return`${R}${_},
${B},
`},`{
`)+"}";oA.export();var{schema:OT,node:qA,defineSchema:uu,generic:hR}=oA;var KO=oq({bigint:"bigint",boolean:[{unit:!1},{unit:!0}],false:{unit:!1},never:[],null:{unit:null},number:"number",object:"object",string:"string",symbol:"symbol",true:{unit:!0},unknown:{},undefined:{unit:void 0},Array,Date},{prereducedAliases:!0}).export();L.intrinsic={...KO};var GO=oq({integer:{domain:"number",divisor:1},lengthBoundable:["string",Array],key:["string","symbol"],nonNegativeIntegerString:{domain:"string",pattern:ph}},{prereducedAliases:!0}).export();Object.assign(L.intrinsic,GO);var M0=oq({jsonPrimitive:["string","number",{unit:!0},{unit:!1},{unit:null}],jsonObject:{domain:"object",index:{signature:"string",value:"$jsonData"}},jsonArray:{proto:Array,sequence:"$jsonData"},jsonData:["$jsonPrimitive","$jsonObject","$jsonArray"],json:["$jsonObject","$jsonArray"]},{prereducedAliases:!0}).export(),c={...KO,...GO,...M0,emptyStructure:qA("structure",{},{prereduced:!0})};L.intrinsic={...c};var gO=(T)=>typeof T==="string"&&T[0]==="d"&&(T[1]==="'"||T[1]==='"')&&T.at(-1)===T[1],LO=(T)=>T.toString()!=="Invalid Date",xO=(T)=>T.slice(2,-1),RB=(T)=>`'${T}' could not be parsed by the Date constructor`,zO=(T,R)=>S0(T,R),S0=(T,R)=>{let A=new Date(T);if(LO(A))return A;let q=JD(T);if(q!==void 0){let _=new Date(q);if(LO(_))return _}return R?a(R===!0?RB(T):R):void 0};var AB=(T,R)=>{let A=T.scanner.shiftUntil(P0[ZO[R]]);if(T.scanner.lookahead==="")return T.error(c0(A,R));if(T.scanner.shift(),R==="/"){try{new RegExp(A)}catch(q){a(String(q))}T.root=T.ctx.$.node("intersection",{domain:"string",pattern:A},{prereduced:!0})}else if(ZT(R,qB))T.root=T.ctx.$.node("unit",{unit:A});else{let q=zO(A,RB(A));T.root=T.ctx.$.node("unit",{meta:A,unit:q})}},qB={"'":1,'"':1},XO={"/":1,"'":1,'"':1},ZO={"d'":"'",'d"':'"',"'":"'",'"':'"',"/":"/"},P0={"'":(T)=>T.lookahead==="'",'"':(T)=>T.lookahead==='"',"/":(T)=>T.lookahead==="/"},Y0={'"':"double-quote","'":"single-quote","/":"forward slash"},c0=(T,R)=>`${R}${T} requires a closing ${Y0[ZO[R]]}`;var fO=(T)=>`Private type references should not include '#'. Use '${T}' instead.`,rq="Optional definitions like 'string?' are only valid as properties in an object or tuple",pq="Defaultable definitions like 'number = 0' are only valid as properties in an object or tuple";var UO={">":!0,">=":!0},MO={"<":!0,"<=":!0};var _A={"<":">",">":"<","<=":">=",">=":"<=","==":"=="},SO=(T)=>`Unmatched )${T===""?"":` before ${T}`}`,nq=(T)=>`Missing ${T}`,PO=(T,R)=>`Left bounds are only valid when paired with right bounds (try ...${R}${T})`,sq=(T)=>`Left-bounded expressions must specify their limits using < or <= (was ${T})`,YO=(T,R,A,q)=>`An expression may have at most one left bound (parsed ${T}${_A[R]}, ${A}${_A[q]})`;var cO=(T,R,A)=>wO(T,R,A,[]),wO=(T,R,A,q)=>{let _=A.parseUntilFinalizer();if(q.push(_.root),_.finalizer===">"){if(q.length!==R.params.length)return A.error(_B(T,R.names,q.map((h)=>h.expression)));return q}if(_.finalizer===",")return wO(T,R,A,q);return _.error(nq(">"))},_B=(T,R,A)=>`${T}<${R.join(", ")}> requires exactly ${R.length} args (got ${A.length}${A.length===0?"":`: ${A.join(", ")}`})`;var hB=(T)=>{let R=T.scanner.shiftUntilNextTerminator();if(R==="keyof")T.addPrefix("keyof");else T.root=V0(T,R)},w0=(T,R,A)=>{if(A.scanner.shiftUntilNonWhitespace(),A.scanner.shift()!=="<")return A.error(_B(T,R.names,[]));let _=cO(T,R,A);return R(..._)},V0=(T,R)=>v0(T,R)??m0(T,R)??T.error(R===""?T.scanner.lookahead==="#"?fO(T.shiftedByOne().scanner.shiftUntilNextTerminator()):BB(T):TB(R)),v0=(T,R)=>{if(T.ctx.args?.[R]){let q=T.ctx.args[R];if(typeof q!=="string")return q;return T.ctx.$.node("alias",{reference:q},{prereduced:!0})}let A=T.ctx.$.maybeResolve(R);if(f(A,"root"))return A;if(A===void 0)return;if(f(A,"generic"))return w0(R,A,T);return a(`Unexpected resolution ${o(A)}`)},m0=(T,R)=>{let A=yD(R);if(A!==void 0)return T.ctx.$.node("unit",{unit:A});let q=$D(R);if(q!==void 0)return T.ctx.$.node("unit",{unit:q})},BB=(T)=>{let R=T.previousOperator();return R?CB(R,T.scanner.unscanned):l0(T.scanner.unscanned)},CB=(T,R="")=>`Token '${T}' requires a right operand${R?` before '${R}'`:""}`,l0=(T)=>`Expected an expression${T?` before '${T}'`:""}`;var DB=(T)=>T.scanner.lookahead===""?T.error(BB(T)):T.scanner.lookahead==="("?T.shiftedByOne().reduceGroupOpen():T.scanner.lookaheadIsIn(XO)?AB(T,T.scanner.shift()):T.scanner.lookaheadIsIn(T9)?DB(T.shiftedByOne()):T.scanner.lookahead==="d"?T.scanner.nextLookahead in qB?AB(T,`${T.scanner.shift()}${T.scanner.shift()}`):hB(T):hB(T);class cR extends ih{shiftUntilNextTerminator(){return this.shiftUntilNonWhitespace(),this.shiftUntil(()=>(this.lookahead in cR.terminatingChars))}static terminatingChars={"<":1,">":1,"=":1,"|":1,"&":1,")":1,"[":1,"%":1,",":1,":":1,"?":1,"#":1,...T9};static finalizingLookaheads={">":1,",":1,"":1,"=":1,"?":1};static lookaheadIsFinalizing=(T,R)=>T===">"?R[0]==="="?R[1]==="=":R.trimStart()===""||ZT(R.trimStart()[0],cR.terminatingChars):T==="="?R[0]!=="=":T===","||T==="?"}var vO=(T,R)=>{let A=d0(T,R);if(T.root.hasKind("unit")){if(typeof T.root.unit==="number"){T.reduceLeftBound(T.root.unit,A),T.unsetRoot();return}if(T.root.unit instanceof Date){let q=`d'${T.root.description??T.root.unit.toISOString()}'`;T.unsetRoot(),T.reduceLeftBound(q,A);return}}return r0(T,A)},mO={"<":1,">":1,"=":1},d0=(T,R)=>T.scanner.lookaheadIs("=")?`${R}${T.scanner.shift()}`:R;var VO=(T,R,A,q)=>{if(A.extends(L.intrinsic.number)){if(typeof R!=="number")return a(OB(T,R,q));return T==="=="?["min","max"]:T[0]===">"?["min"]:["max"]}if(A.extends(L.intrinsic.lengthBoundable)){if(typeof R!=="number")return a(OB(T,R,q));return T==="=="?["exactLength"]:T[0]===">"?["minLength"]:["maxLength"]}if(A.extends(L.intrinsic.Date))return T==="=="?["after","before"]:T[0]===">"?["after"]:["before"];return a(UD(A.expression))},o0=(T)=>({rule:gO(T.limit)?xO(T.limit):T.limit,exclusive:T.comparator.length===1}),r0=(T,R)=>{let A=T.unsetRoot(),q=T.scanner.location;T.parseOperand();let _=T.unsetRoot(),h=T.scanner.sliceChars(q,T.scanner.location);if(T.root=A,!_.hasKind("unit")||typeof _.unit!=="number"&&!(_.unit instanceof Date))return T.error(OB(R,h,"right"));let B=_.unit,C=R.length===1,O=VO(R,typeof B==="number"?B:h,A,"right");for(let W of O)T.constrainRoot(W,R==="=="?{rule:B}:{rule:B,exclusive:C});if(!T.branches.leftBound)return;if(!ZT(R,MO))return T.error(sq(R));let D=VO(T.branches.leftBound.comparator,T.branches.leftBound.limit,A,"left");T.constrainRoot(D[0],o0(T.branches.leftBound)),T.branches.leftBound=null},OB=(T,R,A)=>`Comparator ${A==="left"?_A[T]:T} must be ${A==="left"?"preceded":"followed"} by a corresponding literal (was ${R})`;var lO=(T)=>{T.scanner.shiftUntilNonWhitespace();let R=T.scanner.shiftUntilNextTerminator();T.root=T.root.brand(R)};var oO=(T)=>{let R=T.scanner.shiftUntilNextTerminator(),A=iD(R,{errorOnFail:dO(R)});if(A===0)T.error(dO(0));T.root=T.root.constrain("divisor",A)},dO=(T)=>`% operator must be followed by a non-zero integer literal (was ${T})`;var WB=(T)=>{let R=T.scanner.shift();return R===""?T.finalize(""):R==="["?T.scanner.shift()==="]"?T.setRoot(T.root.array()):T.error(p0):R==="|"||R==="&"?T.pushRootToBranch(R):R===")"?T.finalizeGroup():cR.lookaheadIsFinalizing(R,T.scanner.unscanned)?T.finalize(R):ZT(R,mO)?vO(T,R):R==="%"?oO(T):R==="#"?lO(T):(R in T9)?WB(T):T.error(tq(R))},tq=(T,R="")=>`'${T}' is not allowed here${R&&` (should be ${R})`}`,p0="Missing expected ']'";var rO=(T)=>{let R=T.unsetRoot();T.parseOperand();let A=T.unsetRoot();if(!A.hasKind("unit"))return T.error(n0(A.expression));let q=A.unit instanceof Date?()=>new Date(A.unit):A.unit;return[R,"=",q]},n0=(T)=>`Default value '${T}' must a literal value`;var HB=(T,R)=>{let A=R.$.maybeResolveRoot(T);if(A)return A;if(T.endsWith("[]")){let h=R.$.maybeResolveRoot(T.slice(0,-2));if(h)return h.array()}let q=new hA(new cR(T),R),_=s0(q);if(q.finalizer===">")a(tq(">"));return _},s0=(T)=>{T.parseOperand();let R=rA(T).root;if(!R)return CT(`Root was unexpectedly unset after parsing string '${T.scanner.scanned}'`);if(T.finalizer==="=")R=rO(T);else if(T.finalizer==="?")R=[R,"?"];if(T.scanner.shiftUntilNonWhitespace(),T.scanner.lookahead)a(tq(T.scanner.lookahead));return R},rA=(T)=>{while(T.finalizer===void 0)t0(T);return T},t0=(T)=>T.hasRoot()?T.parseOperator():T.parseOperand();class hA{root;branches={prefixes:[],leftBound:null,intersection:null,union:null};finalizer;groups=[];scanner;ctx;constructor(T,R){this.scanner=T,this.ctx=R}error(T){return a(T)}hasRoot(){return this.root!==void 0}setRoot(T){this.root=T}unsetRoot(){let T=this.root;return this.root=void 0,T}constrainRoot(...T){this.root=this.root.constrain(T[0],T[1])}finalize(T){if(this.groups.length)return this.error(nq(")"));this.finalizeBranches(),this.finalizer=T}reduceLeftBound(T,R){let A=_A[R];if(!ZT(A,UO))return this.error(sq(R));if(this.branches.leftBound)return this.error(YO(this.branches.leftBound.limit,this.branches.leftBound.comparator,T,A));this.branches.leftBound={comparator:A,limit:T}}finalizeBranches(){if(this.assertRangeUnset(),this.branches.union)this.pushRootToBranch("|"),this.root=this.branches.union;else if(this.branches.intersection)this.pushRootToBranch("&"),this.root=this.branches.intersection;else this.applyPrefixes()}finalizeGroup(){this.finalizeBranches();let T=this.groups.pop();if(!T)return this.error(SO(this.scanner.unscanned));this.branches=T}addPrefix(T){this.branches.prefixes.push(T)}applyPrefixes(){while(this.branches.prefixes.length){let T=this.branches.prefixes.pop();this.root=T==="keyof"?this.root.keyof():CT(`Unexpected prefix '${T}'`)}}pushRootToBranch(T){this.assertRangeUnset(),this.applyPrefixes();let R=this.root;if(this.branches.intersection=this.branches.intersection?.rawAnd(R)??R,T==="|")this.branches.union=this.branches.union?.rawOr(this.branches.intersection)??this.branches.intersection,this.branches.intersection=null;this.root=void 0}parseUntilFinalizer(){return rA(new hA(this.scanner,this.ctx))}parseOperator(){return WB(this)}parseOperand(){return DB(this)}assertRangeUnset(){if(this.branches.leftBound)return this.error(PO(this.branches.leftBound.limit,this.branches.leftBound.comparator))}reduceGroupOpen(){this.groups.push(this.branches),this.branches={prefixes:[],leftBound:null,union:null,intersection:null}}previousOperator(){return this.branches.leftBound?.comparator??this.branches.prefixes.at(-1)??(this.branches.intersection?"&":this.branches.union?"|":void 0)}shiftedByOne(){return this.scanner.shift(),this}}var e0="An empty string is not a valid generic parameter name",eq=(T,R,A)=>{T.shiftUntilNonWhitespace();let q=T.shiftUntilNextTerminator();if(q===""){if(T.lookahead===""&&R.length)return R;return a(e0)}return T.shiftUntilNonWhitespace(),T5(T,q,R,A)},pO="extends ",T5=(T,R,A,q)=>{if(T.shiftUntilNonWhitespace(),T.unscanned.startsWith(pO))T.jumpForward(pO.length);else{if(T.lookahead===",")T.shift();return A.push(R),eq(T,A,q)}let _=rA(new hA(T,q));return A.push([R,_.root]),eq(T,A,q)};var T_=(T,R)=>{if(yT(T)){if(T[1]==="=")return[R.$.parseOwnDefinitionFormat(T[0],R),"=",T[2]];if(T[1]==="?")return[R.$.parseOwnDefinitionFormat(T[0],R),"?"]}return R_(T,R)},nO="Only required keys may make their values optional, e.g. { [mySymbol]: ['number', '?'] }",sO="Only required keys may specify default values, e.g. { value: 'number = 0' }";var tO=(T,R)=>{let A,q={},_=xA(T);for(let[B,C]of _){let O=q5(B);if(O.kind==="spread"){if(!yR(q))return a(A5);let y=R.$.parseOwnDefinitionFormat(C,R);if(y.equals(c.object))continue;if(!y.hasKind("intersection")||!y.basis?.equals(c.object))return a(_5(y.expression));A=y.structure;continue}if(O.kind==="undeclared"){if(C!=="reject"&&C!=="delete"&&C!=="ignore")a(R5(C));q.undeclared=C;continue}let D=T_(C,R),W=O;if(O.kind==="required"){if(!yT(D))JB(q,"required",{key:O.normalized,value:D},R);else JB(q,"optional",D[1]==="="?{key:O.normalized,value:D[0],default:D[2]}:{key:O.normalized,value:D[0]},R);continue}if(yT(D)){if(D[1]==="?")a(nO);if(D[1]==="=")a(sO)}if(O.kind==="optional"){JB(q,"optional",{key:O.normalized,value:D},R);continue}let H=R.$.parseOwnDefinitionFormat(W.normalized,R),J=lq(H,D,R.$);if(J.index)q.index=e(q.index,J.index);if(J.required)q.required=e(q.required,J.required)}let h=R.$.node("structure",q);return R.$.parseSchema({domain:"object",structure:A?.merge(h)??h})},JB=(T,R,A,q)=>{T[R]=e(T[R],q.$.node(R,A))},R5=(T)=>`Value of '+' key must be 'reject', 'delete', or 'ignore' (was ${o(T)})`,A5="Spread operator may only be used as the first key in an object",q5=(T)=>typeof T==="symbol"?{kind:"required",normalized:T}:T.at(-1)==="?"?T.at(-2)===fA?{kind:"required",normalized:`${T.slice(0,-2)}?`}:{kind:"optional",normalized:T.slice(0,-1)}:T[0]==="["&&T.at(-1)==="]"?{kind:"index",normalized:T.slice(1,-1)}:T[0]===fA&&T[1]==="["&&T.at(-1)==="]"?{kind:"required",normalized:T.slice(1)}:T==="..."?{kind:"spread"}:T==="+"?{kind:"undeclared"}:{kind:"required",normalized:T==="\\..."?"...":T==="\\+"?"+":T},_5=(T)=>`Spread operand must resolve to an object literal type (was ${T})`;var RW=(T,R)=>H5(T)?_W[T[0]](T,R):C5(T)?qW[T[1]](T,R):null,h5=(T,R)=>R.$.parseOwnDefinitionFormat(T[1],R).keyof(),eO=(T,R)=>{if(T[2]===void 0)return a(CB(T[1],""));let A=R.$.parseOwnDefinitionFormat(T[0],R),q=R.$.parseOwnDefinitionFormat(T[2],R);if(T[1]==="|")return R.$.node("union",{branches:[A,q]});let _=pT(A,q,R.$);if(_ instanceof X)return _.throw();return _},B5=(T,R)=>R.$.parseOwnDefinitionFormat(T[0],R).array(),C5=(T)=>qW[T[1]]!==void 0,D5=(T,R)=>{if(typeof T[2]!=="function")return a(AW("=>",T[2]));return R.$.parseOwnDefinitionFormat(T[0],R).pipe(T[2])},AW=(T,R)=>`${T===":"?"Narrow":"Morph"} expression requires a function following '${T}' (was ${typeof R})`,O5=(T,R)=>{if(typeof T[2]!=="function")return a(AW(":",T[2]));return R.$.parseOwnDefinitionFormat(T[0],R).constrain("predicate",T[2])},W5=(T,R)=>R.$.parseOwnDefinitionFormat(T[0],R).configureShallowDescendants(T[2]),qW={"[]":B5,"|":eO,"&":eO,":":O5,"=>":D5,"@":W5,"=":()=>a(pq),"?":()=>a(rq)},_W={keyof:h5,instanceof:(T,R)=>{if(typeof T[1]!=="function")return a(TW(XA(T[1])));let A=T.slice(1).map((q)=>typeof q==="function"?R.$.node("proto",{proto:q}):a(TW(XA(q))));return A.length===1?A[0]:R.$.node("union",{branches:A})},"===":(T,R)=>R.$.units(T.slice(1))},H5=(T)=>_W[T[0]]!==void 0,TW=(T)=>`Expected a constructor following 'instanceof' operator (was ${T})`;var CW=(T,R)=>{let A=[{}],q=0;while(q<T.length){let _=!1;if(T[q]==="..."&&q<T.length-1)_=!0,q++;let h=T_(T[q],R),[B,C,O]=!yT(h)?[h]:h;if(q++,_){if(!B.extends(L.intrinsic.Array))return a(i5(B.expression));A=A.flatMap((D)=>B.distribute((W)=>y5(Zq(D),W)))}else A=A.map((D)=>{if(C==="?")return DW(D,B);if(C==="=")return J5(D,B,O);return yB(D,B)})}return R.$.parseSchema(A.map((_)=>yR(_)?{proto:Array,exactLength:0}:{proto:Array,sequence:_}))},yB=(T,R)=>{if(T.defaultables||T.optionals)return a(T.variadic?rh:$5);if(T.variadic)T.postfix=e(T.postfix,R);else T.prefix=e(T.prefix,R);return T},DW=(T,R)=>{if(T.variadic)return a(OW);return T.optionals=e(T.optionals,R),T},J5=(T,R,A)=>{if(T.variadic)return a(OW);if(T.optionals)return a(I5);return T.defaultables=e(T.defaultables,[[R,A]]),T},hW=(T,R)=>{if(T.postfix)a(BW);if(T.variadic){if(!T.variadic.equals(R))a(BW)}else T.variadic=R.internal;return T},y5=(T,R)=>{let A=R.firstReferenceOfKind("sequence");if(!A)return hW(T,L.intrinsic.unknown);if(A.prefix?.forEach((q)=>yB(T,q)),A.optionals?.forEach((q)=>DW(T,q)),A.variadic)hW(T,A.variadic);return A.postfix?.forEach((q)=>yB(T,q)),T},i5=(T)=>`Spread element must be an array (was ${T})`,BW="A tuple may have at most one variadic element",$5="A required element may not follow an optional element",OW="An optional element may not follow a variadic element";var I5="A defaultable element may not follow an optional element without a default";var E5={},R_=(T,R)=>{if(typeof T==="string"){if(R.args&&Object.keys(R.args).some((q)=>T.includes(q)))return HB(T,R);let A=E5[R.$.id]??={};return A[T]??=HB(T,R)}return mT(T,"object")?j5(T,R):a(iB(VT(T)))},j5=(T,R)=>{let A=zA(T);switch(A){case void 0:if(f(T,"root"))return T;return tO(T,R);case"Array":return F5(T,R);case"RegExp":return R.$.node("intersection",{domain:"string",pattern:T},{prereduced:!0});case"Function":{let q=tR(T)?T():T;if(f(q,"root"))return q;return a(iB("Function"))}default:return a(iB(A??o(T)))}},F5=(T,R)=>RW(T,R)??CW(T,R),iB=(T)=>`Type definitions must be strings or objects (was ${T})`;class $B extends eR{constructor(T){let R=Object.assign({errors:dT,hkt:ST,$:T,raw:T.parse,module:T.constructor.module,scope:T.constructor.scope,define:T.define,generic:T.generic,schema:T.schema,keywords:T.ambient,unit:T.unit,enumerated:T.enumerated,instanceOf:T.instanceOf},T.ambientAttachments);super((...A)=>{if(A.length===1)return T.parse(A[0]);if(A.length===2&&typeof A[0]==="string"&&A[0][0]==="<"&&A[0].at(-1)===">"){let q=A[0].slice(1,-1),_=T.parseGenericParams(q,{});return new A9(_,A[1],T,T,null)}return T.parse(A)},{bind:T,attach:R})}}var A_=L;class q_ extends dq{cacheGetter(T,R){return Object.defineProperty(this,T,{value:R}),R}get ambientAttachments(){if(!A_.typeAttachments)return;return this.cacheGetter("ambientAttachments",p(A_.typeAttachments,(T,R)=>[T,this.bindReference(R)]))}preparseOwnAliasEntry(T,R){let A=T.indexOf("<");if(A===-1)return[T,R];if(T.at(-1)!==">")a("'>' must be the last character of a generic declaration in a scope");let q=T.slice(0,A),_=T.slice(A+1,-1);return[q,()=>{let h=this.parseGenericParams(_,{alias:q});return xD(h,R,this)}]}parseGenericParams(T,R){return eq(new cR(T),[],this.createParseContext({...R,def:T,prefix:"generic"}))}normalizeRootScopeValue(T){if(tR(T)&&!f(T,"generic"))return T();return T}preparseOwnDefinitionFormat(T,R){return{...R,def:T,prefix:R.alias??"type"}}parseOwnDefinitionFormat(T,R){if(!(R.alias&&(R.alias in this.aliases))&&!R.args)R.args={this:R.id};let q=R_(T,R);if(yT(q)){if(q[1]==="=")return a(pq);if(q[1]==="?")return a(rq)}return q}unit=(T)=>this.units([T]);enumerated=(...T)=>this.units(T);instanceOf=(T)=>this.node("proto",{proto:T},{prereduced:!0});type=new $B(this);declare=()=>({type:this.type});define(T){return T}static scope=(T,R={})=>new q_(T,R);static module=(T,R={})=>this.scope(T,R).export()}var IB=Object.assign(q_.scope,{define:(T)=>T}),n=q_;class WW extends ST{}var b5=hR(["base",c.object],["props",c.object])((T)=>T.base.merge(T.props),WW),EB=n.module({Key:c.key,Merge:b5});class HW extends ST{}var Q5=hR("element")((T)=>{let R=T.element.exclude(c.Array),A=R.array();return R.rawOr(A).pipe(V9).distribute((q)=>q.assertHasKind("morph").declareOut(A),OT)},HW),JW=n.module({root:c.Array,readonly:"root",index:c.nonNegativeIntegerString,liftFrom:Q5});var jB=OT(["string",E9.FileConstructor]),N5=jB.rawOr(jB.array()),yW=OT({meta:"an object representing parsed form data",domain:"object",index:{signature:"string",value:N5}}),iW=n.module({root:["instanceof",FormData],value:jB,parsed:yW,parse:OT({in:FormData,morphs:(T)=>{let R={};for(let[A,q]of T)if(A in R){let _=R[A];if(typeof _==="string"||_ instanceof E9.FileConstructor)R[A]=[_,q];else _.push(q)}else R[A]=q;return R},declaredOut:yW})});var $W=n.module({Int8:["instanceof",Int8Array],Uint8:["instanceof",Uint8Array],Uint8Clamped:["instanceof",Uint8ClampedArray],Int16:["instanceof",Int16Array],Uint16:["instanceof",Uint16Array],Int32:["instanceof",Int32Array],Uint32:["instanceof",Uint32Array],Float32:["instanceof",Float32Array],Float64:["instanceof",Float64Array],BigInt64:["instanceof",BigInt64Array],BigUint64:["instanceof",BigUint64Array]});var u5={Boolean:1,Number:1,String:1},__=n.module({...p({...Bh,...Dh},(T,R)=>(T in u5)?[]:[T,["instanceof",R]]),Array:JW,TypedArray:$W,FormData:iW});var k5=OT({domain:{domain:"number",meta:"a number representing a Unix timestamp"},divisor:{rule:1,meta:"an integer representing a Unix timestamp"},min:{rule:-8640000000000000,meta:"a Unix timestamp after -8640000000000000"},max:{rule:8640000000000000,meta:"a Unix timestamp before 8640000000000000"},meta:"an integer representing a safe Unix timestamp"}),a5=OT({domain:"number",divisor:1}),h_=n.module({root:c.number,integer:a5,epoch:k5,safe:OT({domain:"number",min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,predicate:{predicate:(T)=>!Number.isNaN(T),meta:"a safe number"}}),NaN:["===",Number.NaN],Infinity:["===",Number.POSITIVE_INFINITY],NegativeInfinity:["===",Number.NEGATIVE_INFINITY]});var bT=(T,R)=>qA("intersection",{domain:"string",pattern:{rule:T.source,flags:T.flags,meta:R}}),IW=bT(UA,"a well-formed integer string"),GW=n.module({root:IW,parse:OT({in:IW,morphs:(T,R)=>{let A=Number.parseInt(T);return Number.isSafeInteger(A)?A:R.error("an integer in the range Number.MIN_SAFE_INTEGER to Number.MAX_SAFE_INTEGER")},declaredOut:c.integer})}),K5=n.module({root:bT(/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,"base64-encoded"),url:bT(/^(?:[A-Za-z0-9_-]{4})*(?:[A-Za-z0-9_-]{2}(?:==|%3D%3D)?|[A-Za-z0-9_-]{3}(?:=|%3D)?)?$/,"base64url-encoded")}),EW=bT(/^[A-Z].*$/,"capitalized"),G5=n.module({root:OT({in:"string",morphs:(T)=>T.charAt(0).toUpperCase()+T.slice(1),declaredOut:EW}),preformatted:EW}),L5=(T)=>{let R=T.replace(/[- ]+/g,""),A=0,q,_,h=!1;for(let B=R.length-1;B>=0;B--){if(q=R.substring(B,B+1),_=Number.parseInt(q,10),h)if(_*=2,_>=10)A+=_%10+1;else A+=_;else A+=_;h=!h}return!!(A%10===0?R:!1)},g5=/^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14}|^(81[0-9]{14,17}))$/,x5=OT({domain:"string",pattern:{meta:"a credit card number",rule:g5.source},predicate:{meta:"a credit card number",predicate:L5}});var z5=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;var X5=(T)=>!Number.isNaN(new Date(T).valueOf()),jW=OT({domain:"string",predicate:{meta:"a parsable date",predicate:X5}}).assertHasKind("intersection"),FW=GW.root.internal.narrow((T,R)=>{let A=Number.parseInt(T),q=h_.epoch(A);if(q instanceof dT)return R.errors.merge(q),!1;return!0}).withMeta({description:"an integer string representing a safe Unix timestamp"}).assertHasKind("intersection"),Z5=n.module({root:FW,parse:OT({in:FW,morphs:(T)=>new Date(T),declaredOut:c.Date})}),bW=bT(z5,"an ISO 8601 (YYYY-MM-DDTHH:mm:ss.sssZ) date").internal.assertHasKind("intersection"),f5=n.module({root:bW,parse:OT({in:bW,morphs:(T)=>new Date(T),declaredOut:c.Date})}),U5=n.module({root:jW,parse:OT({declaredIn:jW,in:"string",morphs:(T,R)=>{let A=new Date(T);if(Number.isNaN(A.valueOf()))return R.error("a parsable date");return A},declaredOut:c.Date}),iso:f5,epoch:Z5}),M5=bT(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/,"an email address"),QW="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",q9=`(${QW}[.]){3}${QW}`,S5=new RegExp(`^${q9}$`),gT="(?:[0-9a-fA-F]{1,4})",P5=new RegExp(`^((?:${gT}:){7}(?:${gT}|:)|(?:${gT}:){6}(?:${q9}|:${gT}|:)|(?:${gT}:){5}(?::${q9}|(:${gT}){1,2}|:)|(?:${gT}:){4}(?:(:${gT}){0,1}:${q9}|(:${gT}){1,3}|:)|(?:${gT}:){3}(?:(:${gT}){0,2}:${q9}|(:${gT}){1,4}|:)|(?:${gT}:){2}(?:(:${gT}){0,3}:${q9}|(:${gT}){1,5}|:)|(?:${gT}:){1}(?:(:${gT}){0,4}:${q9}|(:${gT}){1,6}|:)|(?::((?::${gT}){0,5}:${q9}|(?::${gT}){1,7}|:)))(%[0-9a-zA-Z.]{1,})?$`),Y5=n.module({root:["v4 | v6","@","an IP address"],v4:bT(S5,"an IPv4 address"),v6:bT(P5,"an IPv6 address")}),pA="a JSON string",LW=(T)=>{if(!(T instanceof SyntaxError))throw T;return`must be ${pA} (${T})`},c5=OT({domain:"string",predicate:{meta:pA,predicate:(T,R)=>{try{return JSON.parse(T),!0}catch(A){return R.reject({code:"predicate",expected:pA,problem:LW(A)})}}}}),w5=(T,R)=>{if(T.length===0)return R.error({code:"predicate",expected:pA,actual:"empty"});try{return JSON.parse(T)}catch(A){return R.error({code:"predicate",expected:pA,problem:LW(A)})}},V5=n.module({root:c5,parse:OT({in:"string",morphs:w5,declaredOut:c.json})}),NW=bT(/^[a-z]*$/,"only lowercase letters"),v5=n.module({root:OT({in:"string",morphs:(T)=>T.toLowerCase(),declaredOut:NW}),preformatted:NW}),gW=["NFC","NFD","NFKC","NFKD"],nA=p(gW,(T,R)=>[R,OT({domain:"string",predicate:(A)=>A.normalize(R)===A,meta:`${R}-normalized unicode`})]),B_=p(gW,(T,R)=>[R,OT({in:"string",morphs:(A)=>A.normalize(R),declaredOut:nA[R]})]),m5=n.module({root:B_.NFC,preformatted:nA.NFC}),l5=n.module({root:B_.NFD,preformatted:nA.NFD}),d5=n.module({root:B_.NFKC,preformatted:nA.NFKC}),o5=n.module({root:B_.NFKD,preformatted:nA.NFKD}),r5=n.module({root:"NFC",NFC:m5,NFD:l5,NFKC:d5,NFKD:o5}),uW=bT(OD,"a well-formed numeric string"),p5=n.module({root:uW,parse:OT({in:uW,morphs:(T)=>Number.parseFloat(T),declaredOut:c.number})}),n5=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,s5=bT(n5,"a semantic version (see https://semver.org/)"),kW=bT(/^\S.*\S$|^\S?$/,"trimmed"),t5=n.module({root:OT({in:"string",morphs:(T)=>T.trim(),declaredOut:kW}),preformatted:kW}),aW=bT(/^[A-Z]*$/,"only uppercase letters"),e5=n.module({root:OT({in:"string",morphs:(T)=>T.toUpperCase(),declaredOut:aW}),preformatted:aW}),T3=(T)=>{if(URL.canParse)return URL.canParse(T);try{return new URL(T),!0}catch{return!1}},KW=OT({domain:"string",predicate:{meta:"a URL string",predicate:T3}}),R3=n.module({root:KW,parse:OT({declaredIn:KW,in:"string",morphs:(T,R)=>{try{return new URL(T)}catch{return R.error("a URL string")}},declaredOut:OT(URL)})}),A3=n.module({root:["versioned | nil | max","@","a UUID"],"#nil":"'00000000-0000-0000-0000-000000000000'","#max":"'ffffffff-ffff-ffff-ffff-ffffffffffff'","#versioned":/[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,v1:bT(/^[0-9a-f]{8}-[0-9a-f]{4}-1[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv1"),v2:bT(/^[0-9a-f]{8}-[0-9a-f]{4}-2[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv2"),v3:bT(/^[0-9a-f]{8}-[0-9a-f]{4}-3[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv3"),v4:bT(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv4"),v5:bT(/^[0-9a-f]{8}-[0-9a-f]{4}-5[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv5"),v6:bT(/^[0-9a-f]{8}-[0-9a-f]{4}-6[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv6"),v7:bT(/^[0-9a-f]{8}-[0-9a-f]{4}-7[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv7"),v8:bT(/^[0-9a-f]{8}-[0-9a-f]{4}-8[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,"a UUIDv8")}),xW=n.module({root:c.string,alpha:bT(/^[A-Za-z]*$/,"only letters"),alphanumeric:bT(/^[A-Za-z\d]*$/,"only letters and digits 0-9"),base64:K5,capitalize:G5,creditCard:x5,date:U5,digits:bT(/^\d*$/,"only digits 0-9"),email:M5,integer:GW,ip:Y5,json:V5,lower:v5,normalize:r5,numeric:p5,semver:s5,trim:t5,upper:e5,url:R3,uuid:A3});var FB=n.module({bigint:c.bigint,boolean:c.boolean,false:c.false,never:c.never,null:c.null,number:c.number,object:c.object,string:c.string,symbol:c.symbol,true:c.true,unknown:c.unknown,undefined:c.undefined}),zW=n.module({root:c.unknown,any:c.unknown}),q3=n.module({root:c.json,stringify:qA("morph",{in:c.json,morphs:(T)=>JSON.stringify(T),declaredOut:c.string})}),XW=n.module({root:c.object,json:q3});class ZW extends ST{description="a generic type that instantiates an object from a single index signature and corresponding value type"}var _3=hR(["K",c.key],"V")((T)=>({domain:"object",index:{signature:T.K,value:T.V}}),ZW);class fW extends ST{}var h3=hR(["T",c.object],["K",c.key])((T)=>T.T.pick(T.K),fW);class UW extends ST{}var B3=hR(["T",c.object],["K",c.key])((T)=>T.T.omit(T.K),UW);class MW extends ST{}var C3=hR(["T",c.object])((T)=>T.T.partial(),MW);class SW extends ST{}var D3=hR(["T",c.object])((T)=>T.T.required(),SW);class PW extends ST{}var O3=hR("T","U")((T)=>T.T.exclude(T.U),PW);class YW extends ST{}var W3=hR("T","U")((T)=>T.T.extract(T.U),YW),bB=n.module({Exclude:O3,Extract:W3,Omit:B3,Partial:C3,Pick:h3,Record:_3,Required:D3});A_.typeAttachments={...FB,Key:EB.Key,Record:bB.Record,Array:__.Array.root,Date:__.Date};var k9=IB({...FB,...bB,...__,...EB,string:xW,number:h_,object:XW,unknown:zW},{prereducedAliases:!0,ambient:!0}),H3=k9.export(),C_=k9.type,J3=k9.generic,YK=k9.schema,y3=k9.define,i3=k9.declare;var $3=C_({$schema:"string = 'https://getjustd.com/schema.json'",ui:"string",utils:"string",gray:"string = 'zinc'",css:"string","alias?":"string",language:"'typescript' | 'javascript' = 'typescript'"});class cW{filePath;constructor(T){this.filePath=BA.resolve(process.cwd(),T.filePath)}parseConfig(T){let R=$3(T);if(R instanceof C_.errors)throw new Error(`Failed to parse config: ${R.message}`);return R}async doesConfigExist(){try{return await wR.access(this.filePath),!0}catch(T){return!1}}async loadConfig(){let T=await wR.readFile(this.filePath,"utf-8");return this.parseConfig(JSON.parse(T))}async updateConfig(T){try{let A={...await this.loadConfig(),...T},q=this.parseConfig(A);return await wR.writeFile(this.filePath,JSON.stringify(q,null,2),"utf-8"),A}catch(R){throw new Error(`Failed to update config: ${R}`)}}async createConfig(T){try{let R=this.parseConfig(T),A=BA.dirname(this.filePath);return await wR.mkdir(A,{recursive:!0}),await wR.writeFile(this.filePath,JSON.stringify(R,null,2),"utf-8"),R}catch(R){throw new Error(`Failed to create config: ${R}`)}}}var xT=new cW({filePath:"justd.json"});function a9(T,R){return BA.join(T.ui,`${R}.${T.language==="typescript"?"tsx":"jsx"}`)}import g9,{join as I3,dirname as _G,resolve as hG}from"node:path";import _9 from"node:process";import MH from"readline";import E3 from"events";import{createRequire as j3}from"node:module";import{spawn as F3}from"child_process";import b3,{normalize as Q3,delimiter as wW,resolve as N3,dirname as u3}from"path";import{cwd as k3}from"process";import{PassThrough as a3}from"stream";import K3,{promises as $G,existsSync as IG}from"node:fs";import G3 from"os";import L3 from"tty";import g3 from"node:os";import SH from"fs";import PH from"fs/promises";import x3 from"node:fs/promises";function OC(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}var QB,VW;function z3(){if(VW)return QB;VW=1;let{hasOwnProperty:T}=Object.prototype,R=(C,O={})=>{if(typeof O==="string")O={section:O};O.align=O.align===!0,O.newline=O.newline===!0,O.sort=O.sort===!0,O.whitespace=O.whitespace===!0||O.align===!0,O.platform=O.platform||typeof process!=="undefined"&&process.platform,O.bracketedArray=O.bracketedArray!==!1;let D=O.platform==="win32"?`\r
`:`
`,W=O.whitespace?" = ":"=",H=[],J=O.sort?Object.keys(C).sort():Object.keys(C),y=0;if(O.align)y=h(J.filter((N)=>C[N]===null||Array.isArray(C[N])||typeof C[N]!=="object").map((N)=>Array.isArray(C[N])?`${N}[]`:N).concat([""]).reduce((N,K)=>h(N).length>=h(K).length?N:K)).length;let $="",E=O.bracketedArray?"[]":"";for(let N of J){let K=C[N];if(K&&Array.isArray(K))for(let k of K)$+=h(`${N}${E}`).padEnd(y," ")+W+h(k)+D;else if(K&&typeof K==="object")H.push(N);else $+=h(N).padEnd(y," ")+W+h(K)+D}if(O.section&&$.length)$="["+h(O.section)+"]"+(O.newline?D+D:D)+$;for(let N of H){let K=A(N,".").join("\\."),k=(O.section?O.section+".":"")+K,G=R(C[N],{...O,section:k});if($.length&&G.length)$+=D;$+=G}return $};function A(C,O){var D=0,W=0,H=0,J=[];do if(H=C.indexOf(O,D),H!==-1){if(D=H+O.length,H>0&&C[H-1]==="\\")continue;J.push(C.slice(W,H)),W=H+O.length}while(H!==-1);return J.push(C.slice(W)),J}let q=(C,O={})=>{O.bracketedArray=O.bracketedArray!==!1;let D=Object.create(null),W=D,H=null,J=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,y=C.split(/[\r\n]+/g),$={};for(let N of y){if(!N||N.match(/^\s*[;#]/)||N.match(/^\s*$/))continue;let K=N.match(J);if(!K)continue;if(K[1]!==void 0){if(H=B(K[1]),H==="__proto__"){W=Object.create(null);continue}W=D[H]=D[H]||Object.create(null);continue}let k=B(K[2]),G;if(O.bracketedArray)G=k.length>2&&k.slice(-2)==="[]";else $[k]=($?.[k]||0)+1,G=$[k]>1;let F=G&&k.endsWith("[]")?k.slice(0,-2):k;if(F==="__proto__")continue;let g=K[3]?B(K[4]):!0,P=g==="true"||g==="false"||g==="null"?JSON.parse(g):g;if(G){if(!T.call(W,F))W[F]=[];else if(!Array.isArray(W[F]))W[F]=[W[F]]}if(Array.isArray(W[F]))W[F].push(P);else W[F]=P}let E=[];for(let N of Object.keys(D)){if(!T.call(D,N)||typeof D[N]!=="object"||Array.isArray(D[N]))continue;let K=A(N,".");W=D;let k=K.pop(),G=k.replace(/\\\./g,".");for(let F of K){if(F==="__proto__")continue;if(!T.call(W,F)||typeof W[F]!=="object")W[F]=Object.create(null);W=W[F]}if(W===D&&G===k)continue;W[G]=D[N],E.push(N)}for(let N of E)delete D[N];return D},_=(C)=>{return C.startsWith('"')&&C.endsWith('"')||C.startsWith("'")&&C.endsWith("'")},h=(C)=>{if(typeof C!=="string"||C.match(/[=\r\n]/)||C.match(/^\[/)||C.length>1&&_(C)||C!==C.trim())return JSON.stringify(C);return C.split(";").join("\\;").split("#").join("\\#")},B=(C)=>{if(C=(C||"").trim(),_(C)){if(C.charAt(0)==="'")C=C.slice(1,-1);try{C=JSON.parse(C)}catch{}}else{let O=!1,D="";for(let W=0,H=C.length;W<H;W++){let J=C.charAt(W);if(O){if("\\;#".indexOf(J)!==-1)D+=J;else D+="\\"+J;O=!1}else if(";#".indexOf(J)!==-1)break;else if(J==="\\")O=!0;else D+=J}if(O)D+="\\";return D.trim()}return C};return QB={parse:q,decode:q,stringify:R,encode:R,safe:h,unsafe:B},QB}var uG=z3();var NB={},uB,vW;function $R(){if(vW)return uB;vW=1;let T,R,A,q,_=!0;if(typeof process!=="undefined")({FORCE_COLOR:T,NODE_DISABLE_COLORS:R,NO_COLOR:A,TERM:q}=process.env||{}),_=process.stdout&&process.stdout.isTTY;let h={enabled:!R&&A==null&&q!=="dumb"&&(T!=null&&T!=="0"||_),reset:O(0,0),bold:O(1,22),dim:O(2,22),italic:O(3,23),underline:O(4,24),inverse:O(7,27),hidden:O(8,28),strikethrough:O(9,29),black:O(30,39),red:O(31,39),green:O(32,39),yellow:O(33,39),blue:O(34,39),magenta:O(35,39),cyan:O(36,39),white:O(37,39),gray:O(90,39),grey:O(90,39),bgBlack:O(40,49),bgRed:O(41,49),bgGreen:O(42,49),bgYellow:O(43,49),bgBlue:O(44,49),bgMagenta:O(45,49),bgCyan:O(46,49),bgWhite:O(47,49)};function B(D,W){let H=0,J,y="",$="";for(;H<D.length;H++)if(J=D[H],y+=J.open,$+=J.close,~W.indexOf(J.close))W=W.replace(J.rgx,J.close+J.open);return y+W+$}function C(D,W){let H={has:D,keys:W};return H.reset=h.reset.bind(H),H.bold=h.bold.bind(H),H.dim=h.dim.bind(H),H.italic=h.italic.bind(H),H.underline=h.underline.bind(H),H.inverse=h.inverse.bind(H),H.hidden=h.hidden.bind(H),H.strikethrough=h.strikethrough.bind(H),H.black=h.black.bind(H),H.red=h.red.bind(H),H.green=h.green.bind(H),H.yellow=h.yellow.bind(H),H.blue=h.blue.bind(H),H.magenta=h.magenta.bind(H),H.cyan=h.cyan.bind(H),H.white=h.white.bind(H),H.gray=h.gray.bind(H),H.grey=h.grey.bind(H),H.bgBlack=h.bgBlack.bind(H),H.bgRed=h.bgRed.bind(H),H.bgGreen=h.bgGreen.bind(H),H.bgYellow=h.bgYellow.bind(H),H.bgBlue=h.bgBlue.bind(H),H.bgMagenta=h.bgMagenta.bind(H),H.bgCyan=h.bgCyan.bind(H),H.bgWhite=h.bgWhite.bind(H),H}function O(D,W){let H={open:`\x1B[${D}m`,close:`\x1B[${W}m`,rgx:new RegExp(`\\x1b\\[${W}m`,"g")};return function(J){if(this!==void 0&&this.has!==void 0)return!!~this.has.indexOf(D)||(this.has.push(D),this.keys.push(H)),J===void 0?this:h.enabled?B(this.keys,J+""):J+"";return J===void 0?C([D],[H]):h.enabled?B([H],J+""):J+""}}return uB=h,uB}var kB,mW;function X3(){if(mW)return kB;return mW=1,kB=(T,R)=>{if(T.meta&&T.name!=="escape")return;if(T.ctrl){if(T.name==="a")return"first";if(T.name==="c")return"abort";if(T.name==="d")return"abort";if(T.name==="e")return"last";if(T.name==="g")return"reset";if(T.name==="n")return"down";if(T.name==="p")return"up";return}if(R){if(T.name==="j")return"down";if(T.name==="k")return"up"}if(T.name==="return")return"submit";if(T.name==="enter")return"submit";if(T.name==="backspace")return"delete";if(T.name==="delete")return"deleteForward";if(T.name==="abort")return"abort";if(T.name==="escape")return"exit";if(T.name==="tab")return"next";if(T.name==="pagedown")return"nextPage";if(T.name==="pageup")return"prevPage";if(T.name==="home")return"home";if(T.name==="end")return"end";if(T.name==="up")return"up";if(T.name==="down")return"down";if(T.name==="right")return"right";if(T.name==="left")return"left";return!1},kB}var aB,lW;function WC(){if(lW)return aB;return lW=1,aB=(T)=>{let R=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),A=new RegExp(R,"g");return typeof T==="string"?T.replace(A,""):T},aB}var KB,dW;function IR(){if(dW)return KB;dW=1;let T="\x1B",R=`${T}[`,A="\x07",q={to(B,C){if(!C)return`${R}${B+1}G`;return`${R}${C+1};${B+1}H`},move(B,C){let O="";if(B<0)O+=`${R}${-B}D`;else if(B>0)O+=`${R}${B}C`;if(C<0)O+=`${R}${-C}A`;else if(C>0)O+=`${R}${C}B`;return O},up:(B=1)=>`${R}${B}A`,down:(B=1)=>`${R}${B}B`,forward:(B=1)=>`${R}${B}C`,backward:(B=1)=>`${R}${B}D`,nextLine:(B=1)=>`${R}E`.repeat(B),prevLine:(B=1)=>`${R}F`.repeat(B),left:`${R}G`,hide:`${R}?25l`,show:`${R}?25h`,save:`${T}7`,restore:`${T}8`},_={up:(B=1)=>`${R}S`.repeat(B),down:(B=1)=>`${R}T`.repeat(B)},h={screen:`${R}2J`,up:(B=1)=>`${R}1J`.repeat(B),down:(B=1)=>`${R}J`.repeat(B),line:`${R}2K`,lineEnd:`${R}K`,lineStart:`${R}1K`,lines(B){let C="";for(let O=0;O<B;O++)C+=this.line+(O<B-1?q.up():"");if(B)C+=q.left;return C}};return KB={cursor:q,scroll:_,erase:h,beep:A},KB}var GB,oW;function Z3(){if(oW)return GB;oW=1;let T=WC(),{erase:R,cursor:A}=IR(),q=(_)=>[...T(_)].length;return GB=function(_,h){if(!h)return R.line+A.to(0);let B=0,C=_.split(/\r?\n/);for(let O of C)B+=1+Math.floor(Math.max(q(O)-1,0)/h);return R.lines(B)},GB}var LB,rW;function YH(){if(rW)return LB;rW=1;let T={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""},R={arrowUp:T.arrowUp,arrowDown:T.arrowDown,arrowLeft:T.arrowLeft,arrowRight:T.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"",ellipsis:"...",pointerSmall:"",line:"",pointer:">"};return LB=process.platform==="win32"?R:T,LB}var gB,pW;function f3(){if(pW)return gB;pW=1;let T=$R(),R=YH(),A=Object.freeze({password:{scale:1,render:(O)=>"*".repeat(O.length)},emoji:{scale:2,render:(O)=>"\uD83D\uDE03".repeat(O.length)},invisible:{scale:0,render:(O)=>""},default:{scale:1,render:(O)=>`${O}`}}),q=(O)=>A[O]||A.default,_=Object.freeze({aborted:T.red(R.cross),done:T.green(R.tick),exited:T.yellow(R.cross),default:T.cyan("?")});return gB={styles:A,render:q,symbols:_,symbol:(O,D,W)=>D?_.aborted:W?_.exited:O?_.done:_.default,delimiter:(O)=>T.gray(O?R.ellipsis:R.pointerSmall),item:(O,D)=>T.gray(O?D?R.pointerSmall:"+":R.line)},gB}var xB,nW;function U3(){if(nW)return xB;nW=1;let T=WC();return xB=function(R,A){let q=String(T(R)||"").split(/\r?\n/);if(!A)return q.length;return q.map((_)=>Math.ceil(_.length/A)).reduce((_,h)=>_+h)},xB}var zB,sW;function M3(){if(sW)return zB;return sW=1,zB=(T,R={})=>{let A=Number.isSafeInteger(parseInt(R.margin))?new Array(parseInt(R.margin)).fill(" ").join(""):R.margin||"",q=R.width;return(T||"").split(/\r?\n/g).map((_)=>_.split(/\s+/g).reduce((h,B)=>{if(B.length+A.length>=q||h[h.length-1].length+B.length+1<q)h[h.length-1]+=` ${B}`;else h.push(`${A}${B}`);return h},[A]).join(`
`)).join(`
`)},zB}var XB,tW;function S3(){if(tW)return XB;return tW=1,XB=(T,R,A)=>{A=A||R;let q=Math.min(R-A,T-Math.floor(A/2));if(q<0)q=0;let _=Math.min(q+A,R);return{startIndex:q,endIndex:_}},XB}var ZB,eW;function uR(){if(eW)return ZB;return eW=1,ZB={action:X3(),clear:Z3(),style:f3(),strip:WC(),figures:YH(),lines:U3(),wrap:M3(),entriesToDisplay:S3()},ZB}var fB,TH;function h9(){if(TH)return fB;TH=1;let T=MH,{action:R}=uR(),A=E3,{beep:q,cursor:_}=IR(),h=$R();class B extends A{constructor(C={}){super();this.firstRender=!0,this.in=C.stdin||process.stdin,this.out=C.stdout||process.stdout,this.onRender=(C.onRender||(()=>{return})).bind(this);let O=T.createInterface({input:this.in,escapeCodeTimeout:50});if(T.emitKeypressEvents(this.in,O),this.in.isTTY)this.in.setRawMode(!0);let D=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,W=(H,J)=>{let y=R(J,D);if(y===!1)this._&&this._(H,J);else if(typeof this[y]==="function")this[y](J);else this.bell()};this.close=()=>{if(this.out.write(_.show),this.in.removeListener("keypress",W),this.in.isTTY)this.in.setRawMode(!1);O.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",W)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(q)}render(){if(this.onRender(h),this.firstRender)this.firstRender=!1}}return fB=B,fB}var UB,RH;function P3(){if(RH)return UB;RH=1;let T=$R(),R=h9(),{erase:A,cursor:q}=IR(),{style:_,clear:h,lines:B,figures:C}=uR();class O extends R{constructor(D={}){super(D);this.transform=_.render(D.style),this.scale=this.transform.scale,this.msg=D.message,this.initial=D.initial||"",this.validator=D.validate||(()=>!0),this.value="",this.errorMsg=D.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=h("",this.out.columns),this.render()}set value(D){if(!D&&this.initial)this.placeholder=!0,this.rendered=T.gray(this.transform.render(this.initial));else this.placeholder=!1,this.rendered=this.transform.render(D);this._value=D,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let D=await this.validator(this.value);if(typeof D==="string")this.errorMsg=D,D=!1;this.error=!D}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(D){if(this.placeholder)return;this.cursor=this.cursor+D,this.cursorOffset+=D}_(D,W){let H=this.value.slice(0,this.cursor),J=this.value.slice(this.cursor);this.value=`${H}${D}${J}`,this.red=!1,this.cursor=this.placeholder?0:H.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let D=this.value.slice(0,this.cursor-1),W=this.value.slice(this.cursor);if(this.value=`${D}${W}`,this.red=!1,this.isCursorAtStart())this.cursorOffset=0;else this.cursorOffset++,this.moveCursor(-1);this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let D=this.value.slice(0,this.cursor),W=this.value.slice(this.cursor+1);if(this.value=`${D}${W}`,this.red=!1,this.isCursorAtEnd())this.cursorOffset=0;else this.cursorOffset++;this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(q.down(B(this.outputError,this.out.columns)-1)+h(this.outputError,this.out.columns));this.out.write(h(this.outputText,this.out.columns))}if(super.render(),this.outputError="",this.outputText=[_.symbol(this.done,this.aborted),T.bold(this.msg),_.delimiter(this.done),this.red?T.red(this.rendered):this.rendered].join(" "),this.error)this.outputError+=this.errorMsg.split(`
`).reduce((D,W,H)=>D+`
${H?" ":C.pointerSmall} ${T.red().italic(W)}`,"");this.out.write(A.line+q.to(0)+this.outputText+q.save+this.outputError+q.restore+q.move(this.cursorOffset,0))}}return UB=O,UB}var MB,AH;function Y3(){if(AH)return MB;AH=1;let T=$R(),R=h9(),{style:A,clear:q,figures:_,wrap:h,entriesToDisplay:B}=uR(),{cursor:C}=IR();class O extends R{constructor(D={}){super(D);this.msg=D.message,this.hint=D.hint||"- Use arrow-keys. Return to submit.",this.warn=D.warn||"- This option is disabled",this.cursor=D.initial||0,this.choices=D.choices.map((W,H)=>{if(typeof W==="string")W={title:W,value:H};return{title:W&&(W.title||W.value||W),value:W&&(W.value===void 0?H:W.value),description:W&&W.description,selected:W&&W.selected,disabled:W&&W.disabled}}),this.optionsPerPage=D.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=q("",this.out.columns),this.render()}moveCursor(D){this.cursor=D,this.value=this.choices[D].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){if(!this.selection.disabled)this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close();else this.bell()}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){if(this.cursor===0)this.moveCursor(this.choices.length-1);else this.moveCursor(this.cursor-1);this.render()}down(){if(this.cursor===this.choices.length-1)this.moveCursor(0);else this.moveCursor(this.cursor+1);this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(D,W){if(D===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(C.hide);else this.out.write(q(this.outputText,this.out.columns));super.render();let{startIndex:D,endIndex:W}=B(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[A.symbol(this.done,this.aborted),T.bold(this.msg),A.delimiter(!1),this.done?this.selection.title:this.selection.disabled?T.yellow(this.warn):T.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let H=D;H<W;H++){let J,y,$="",E=this.choices[H];if(H===D&&D>0)y=_.arrowUp;else if(H===W-1&&W<this.choices.length)y=_.arrowDown;else y=" ";if(E.disabled)J=this.cursor===H?T.gray().underline(E.title):T.strikethrough().gray(E.title),y=(this.cursor===H?T.bold().gray(_.pointer)+" ":"  ")+y;else if(J=this.cursor===H?T.cyan().underline(E.title):E.title,y=(this.cursor===H?T.cyan(_.pointer)+" ":"  ")+y,E.description&&this.cursor===H){if($=` - ${E.description}`,y.length+J.length+$.length>=this.out.columns||E.description.split(/\r?\n/).length>1)$=`
`+h(E.description,{margin:3,width:this.out.columns})}this.outputText+=`${y} ${J}${T.gray($)}
`}}this.out.write(this.outputText)}}return MB=O,MB}var SB,qH;function c3(){if(qH)return SB;qH=1;let T=$R(),R=h9(),{style:A,clear:q}=uR(),{cursor:_,erase:h}=IR();class B extends R{constructor(C={}){super(C);this.msg=C.message,this.value=!!C.initial,this.active=C.active||"on",this.inactive=C.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(C,O){if(C===" ")this.value=!this.value;else if(C==="1")this.value=!0;else if(C==="0")this.value=!1;else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(_.hide);else this.out.write(q(this.outputText,this.out.columns));super.render(),this.outputText=[A.symbol(this.done,this.aborted),T.bold(this.msg),A.delimiter(this.done),this.value?this.inactive:T.cyan().underline(this.inactive),T.gray("/"),this.value?T.cyan().underline(this.active):this.active].join(" "),this.out.write(h.line+_.to(0)+this.outputText)}}return SB=B,SB}var PB,_H;function VR(){if(_H)return PB;_H=1;class T{constructor({token:R,date:A,parts:q,locales:_}){this.token=R,this.date=A||new Date,this.parts=q||[this],this.locales=_||{}}up(){}down(){}next(){let R=this.parts.indexOf(this);return this.parts.find((A,q)=>q>R&&A instanceof T)}setTo(R){}prev(){let R=[].concat(this.parts).reverse(),A=R.indexOf(this);return R.find((q,_)=>_>A&&q instanceof T)}toString(){return String(this.date)}}return PB=T,PB}var YB,hH;function w3(){if(hH)return YB;hH=1;let T=VR();class R extends T{constructor(A={}){super(A)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let A=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?A.toUpperCase():A}}return YB=R,YB}var cB,BH;function V3(){if(BH)return cB;BH=1;let T=VR(),R=(q)=>{return q=q%10,q===1?"st":q===2?"nd":q===3?"rd":"th"};class A extends T{constructor(q={}){super(q)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(q){this.date.setDate(parseInt(q.substr(-2)))}toString(){let q=this.date.getDate(),_=this.date.getDay();return this.token==="DD"?String(q).padStart(2,"0"):this.token==="Do"?q+R(q):this.token==="d"?_+1:this.token==="ddd"?this.locales.weekdaysShort[_]:this.token==="dddd"?this.locales.weekdays[_]:q}}return cB=A,cB}var wB,CH;function v3(){if(CH)return wB;CH=1;let T=VR();class R extends T{constructor(A={}){super(A)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(A){this.date.setHours(parseInt(A.substr(-2)))}toString(){let A=this.date.getHours();if(/h/.test(this.token))A=A%12||12;return this.token.length>1?String(A).padStart(2,"0"):A}}return wB=R,wB}var VB,DH;function m3(){if(DH)return VB;DH=1;let T=VR();class R extends T{constructor(A={}){super(A)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(A){this.date.setMilliseconds(parseInt(A.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return VB=R,VB}var vB,OH;function l3(){if(OH)return vB;OH=1;let T=VR();class R extends T{constructor(A={}){super(A)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(A){this.date.setMinutes(parseInt(A.substr(-2)))}toString(){let A=this.date.getMinutes();return this.token.length>1?String(A).padStart(2,"0"):A}}return vB=R,vB}var mB,WH;function d3(){if(WH)return mB;WH=1;let T=VR();class R extends T{constructor(A={}){super(A)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(A){A=parseInt(A.substr(-2))-1,this.date.setMonth(A<0?0:A)}toString(){let A=this.date.getMonth(),q=this.token.length;return q===2?String(A+1).padStart(2,"0"):q===3?this.locales.monthsShort[A]:q===4?this.locales.months[A]:String(A+1)}}return mB=R,mB}var lB,HH;function o3(){if(HH)return lB;HH=1;let T=VR();class R extends T{constructor(A={}){super(A)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(A){this.date.setSeconds(parseInt(A.substr(-2)))}toString(){let A=this.date.getSeconds();return this.token.length>1?String(A).padStart(2,"0"):A}}return lB=R,lB}var dB,JH;function r3(){if(JH)return dB;JH=1;let T=VR();class R extends T{constructor(A={}){super(A)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(A){this.date.setFullYear(A.substr(-4))}toString(){let A=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?A.substr(-2):A}}return dB=R,dB}var oB,yH;function p3(){if(yH)return oB;return yH=1,oB={DatePart:VR(),Meridiem:w3(),Day:V3(),Hours:v3(),Milliseconds:m3(),Minutes:l3(),Month:d3(),Seconds:o3(),Year:r3()},oB}var rB,iH;function n3(){if(iH)return rB;iH=1;let T=$R(),R=h9(),{style:A,clear:q,figures:_}=uR(),{erase:h,cursor:B}=IR(),{DatePart:C,Meridiem:O,Day:D,Hours:W,Milliseconds:H,Minutes:J,Month:y,Seconds:$,Year:E}=p3(),N=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,K={1:({token:F})=>F.replace(/\\(.)/g,"$1"),2:(F)=>new D(F),3:(F)=>new y(F),4:(F)=>new E(F),5:(F)=>new O(F),6:(F)=>new W(F),7:(F)=>new J(F),8:(F)=>new $(F),9:(F)=>new H(F)},k={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class G extends R{constructor(F={}){super(F);this.msg=F.message,this.cursor=0,this.typed="",this.locales=Object.assign(k,F.locales),this._date=F.initial||new Date,this.errorMsg=F.error||"Please Enter A Valid Value",this.validator=F.validate||(()=>!0),this.mask=F.mask||"YYYY-MM-DD HH:mm:ss",this.clear=q("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(F){if(F)this._date.setTime(F.getTime())}set mask(F){let g;this.parts=[];while(g=N.exec(F)){let V=g.shift(),m=g.findIndex((kT)=>kT!=null);this.parts.push(m in K?K[m]({token:g[m]||V,date:this.date,parts:this.parts,locales:this.locales}):g[m]||V)}let P=this.parts.reduce((V,m)=>{if(typeof m==="string"&&typeof V[V.length-1]==="string")V[V.length-1]+=m;else V.push(m);return V},[]);this.parts.splice(0),this.parts.push(...P),this.reset()}moveCursor(F){this.typed="",this.cursor=F,this.fire()}reset(){this.moveCursor(this.parts.findIndex((F)=>F instanceof C)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let F=await this.validator(this.value);if(typeof F==="string")this.errorMsg=F,F=!1;this.error=!F}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let F=this.parts[this.cursor].prev();if(F==null)return this.bell();this.moveCursor(this.parts.indexOf(F)),this.render()}right(){let F=this.parts[this.cursor].next();if(F==null)return this.bell();this.moveCursor(this.parts.indexOf(F)),this.render()}next(){let F=this.parts[this.cursor].next();this.moveCursor(F?this.parts.indexOf(F):this.parts.findIndex((g)=>g instanceof C)),this.render()}_(F){if(/\d/.test(F))this.typed+=F,this.parts[this.cursor].setTo(this.typed),this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(B.hide);else this.out.write(q(this.outputText,this.out.columns));if(super.render(),this.outputText=[A.symbol(this.done,this.aborted),T.bold(this.msg),A.delimiter(!1),this.parts.reduce((F,g,P)=>F.concat(P===this.cursor&&!this.done?T.cyan().underline(g.toString()):g),[]).join("")].join(" "),this.error)this.outputText+=this.errorMsg.split(`
`).reduce((F,g,P)=>F+`
${P?" ":_.pointerSmall} ${T.red().italic(g)}`,"");this.out.write(h.line+B.to(0)+this.outputText)}}return rB=G,rB}var pB,$H;function s3(){if($H)return pB;$H=1;let T=$R(),R=h9(),{cursor:A,erase:q}=IR(),{style:_,figures:h,clear:B,lines:C}=uR(),O=/[0-9]/,D=(J)=>J!==void 0,W=(J,y)=>{let $=Math.pow(10,y);return Math.round(J*$)/$};class H extends R{constructor(J={}){super(J);this.transform=_.render(J.style),this.msg=J.message,this.initial=D(J.initial)?J.initial:"",this.float=!!J.float,this.round=J.round||2,this.inc=J.increment||1,this.min=D(J.min)?J.min:-1/0,this.max=D(J.max)?J.max:1/0,this.errorMsg=J.error||"Please Enter A Valid Value",this.validator=J.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(J){if(!J&&J!==0)this.placeholder=!0,this.rendered=T.gray(this.transform.render(`${this.initial}`)),this._value="";else this.placeholder=!1,this.rendered=this.transform.render(`${W(J,this.round)}`),this._value=W(J,this.round);this.fire()}get value(){return this._value}parse(J){return this.float?parseFloat(J):parseInt(J)}valid(J){return J==="-"||J==="."&&this.float||O.test(J)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let J=this.value;this.value=J!==""?J:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let J=await this.validator(this.value);if(typeof J==="string")this.errorMsg=J,J=!1;this.error=!J}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let J=this.value;this.value=J!==""?J:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value==="")this.value=this.min-this.inc;if(this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value==="")this.value=this.min+this.inc;if(this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let J=this.value.toString();if(J.length===0)return this.bell();if(this.value=this.parse(J=J.slice(0,-1))||"",this.value!==""&&this.value<this.min)this.value=this.min;this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(J,y){if(!this.valid(J))return this.bell();let $=Date.now();if($-this.lastHit>1000)this.typed="";if(this.typed+=J,this.lastHit=$,this.color="cyan",J===".")return this.fire();if(this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire(),this.render()}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(A.down(C(this.outputError,this.out.columns)-1)+B(this.outputError,this.out.columns));this.out.write(B(this.outputText,this.out.columns))}if(super.render(),this.outputError="",this.outputText=[_.symbol(this.done,this.aborted),T.bold(this.msg),_.delimiter(this.done),!this.done||!this.done&&!this.placeholder?T[this.color]().underline(this.rendered):this.rendered].join(" "),this.error)this.outputError+=this.errorMsg.split(`
`).reduce((J,y,$)=>J+`
${$?" ":h.pointerSmall} ${T.red().italic(y)}`,"");this.out.write(q.line+A.to(0)+this.outputText+A.save+this.outputError+A.restore)}}return pB=H,pB}var nB,IH;function cH(){if(IH)return nB;IH=1;let T=$R(),{cursor:R}=IR(),A=h9(),{clear:q,figures:_,style:h,wrap:B,entriesToDisplay:C}=uR();class O extends A{constructor(D={}){super(D);if(this.msg=D.message,this.cursor=D.cursor||0,this.scrollIndex=D.cursor||0,this.hint=D.hint||"",this.warn=D.warn||"- This option is disabled -",this.minSelected=D.min,this.showMinError=!1,this.maxChoices=D.max,this.instructions=D.instructions,this.optionsPerPage=D.optionsPerPage||10,this.value=D.choices.map((W,H)=>{if(typeof W==="string")W={title:W,value:H};return{title:W&&(W.title||W.value||W),description:W&&W.description,value:W&&(W.value===void 0?H:W.value),selected:W&&W.selected,disabled:W&&W.disabled}}),this.clear=q("",this.out.columns),!D.overrideRender)this.render()}reset(){this.value.map((D)=>!D.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((D)=>D.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let D=this.value.filter((W)=>W.selected);if(this.minSelected&&D.length<this.minSelected)this.showMinError=!0,this.render();else this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){if(this.cursor===0)this.cursor=this.value.length-1;else this.cursor--;this.render()}down(){if(this.cursor===this.value.length-1)this.cursor=0;else this.cursor++;this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((D)=>D.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let D=this.value[this.cursor];if(D.selected)D.selected=!1,this.render();else if(D.disabled||this.value.filter((W)=>W.selected).length>=this.maxChoices)return this.bell();else D.selected=!0,this.render()}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let D=!this.value[this.cursor].selected;this.value.filter((W)=>!W.disabled).forEach((W)=>W.selected=D),this.render()}_(D,W){if(D===" ")this.handleSpaceToggle();else if(D==="a")this.toggleAll();else return this.bell()}renderInstructions(){if(this.instructions===void 0||this.instructions){if(typeof this.instructions==="string")return this.instructions;return`
Instructions:
    ${_.arrowUp}/${_.arrowDown}: Highlight option
    ${_.arrowLeft}/${_.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer"}return""}renderOption(D,W,H,J){let y=(W.selected?T.green(_.radioOn):_.radioOff)+" "+J+" ",$,E;if(W.disabled)$=D===H?T.gray().underline(W.title):T.strikethrough().gray(W.title);else if($=D===H?T.cyan().underline(W.title):W.title,D===H&&W.description){if(E=` - ${W.description}`,y.length+$.length+E.length>=this.out.columns||W.description.split(/\r?\n/).length>1)E=`
`+B(W.description,{margin:y.length,width:this.out.columns})}return y+$+T.gray(E||"")}paginateOptions(D){if(D.length===0)return T.red("No matches for this query.");let{startIndex:W,endIndex:H}=C(this.cursor,D.length,this.optionsPerPage),J,y=[];for(let $=W;$<H;$++){if($===W&&W>0)J=_.arrowUp;else if($===H-1&&H<D.length)J=_.arrowDown;else J=" ";y.push(this.renderOption(this.cursor,D[$],$,J))}return`
`+y.join(`
`)}renderOptions(D){if(!this.done)return this.paginateOptions(D);return""}renderDoneOrInstructions(){if(this.done)return this.value.filter((W)=>W.selected).map((W)=>W.title).join(", ");let D=[T.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled)D.push(T.yellow(this.warn));return D.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(R.hide);super.render();let D=[h.symbol(this.done,this.aborted),T.bold(this.msg),h.delimiter(!1),this.renderDoneOrInstructions()].join(" ");if(this.showMinError)D+=T.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1;D+=this.renderOptions(this.value),this.out.write(this.clear+D),this.clear=q(D,this.out.columns)}}return nB=O,nB}var sB,EH;function t3(){if(EH)return sB;EH=1;let T=$R(),R=h9(),{erase:A,cursor:q}=IR(),{style:_,clear:h,figures:B,wrap:C,entriesToDisplay:O}=uR(),D=(y,$)=>y[$]&&(y[$].value||y[$].title||y[$]),W=(y,$)=>y[$]&&(y[$].title||y[$].value||y[$]),H=(y,$)=>{let E=y.findIndex((N)=>N.value===$||N.title===$);return E>-1?E:void 0};class J extends R{constructor(y={}){super(y);this.msg=y.message,this.suggest=y.suggest,this.choices=y.choices,this.initial=typeof y.initial==="number"?y.initial:H(y.choices,y.initial),this.select=this.initial||y.cursor||0,this.i18n={noMatches:y.noMatches||"no matches found"},this.fallback=y.fallback||this.initial,this.clearFirst=y.clearFirst||!1,this.suggestions=[],this.input="",this.limit=y.limit||10,this.cursor=0,this.transform=_.render(y.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=h("",this.out.columns),this.complete(this.render),this.render()}set fallback(y){this._fb=Number.isSafeInteger(parseInt(y))?parseInt(y):y}get fallback(){let y;if(typeof this._fb==="number")y=this.choices[this._fb];else if(typeof this._fb==="string")y={title:this._fb};return y||this._fb||{title:this.i18n.noMatches}}moveSelect(y){if(this.select=y,this.suggestions.length>0)this.value=D(this.suggestions,y);else this.value=this.fallback.value;this.fire()}async complete(y){let $=this.completing=this.suggest(this.input,this.choices),E=await $;if(this.completing!==$)return;this.suggestions=E.map((K,k,G)=>({title:W(G,k),value:D(G,k),description:K.description})),this.completing=!1;let N=Math.max(E.length-1,0);this.moveSelect(Math.min(N,this.select)),y&&y()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){if(this.clearFirst&&this.input.length>0)this.reset();else this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(y,$){let E=this.input.slice(0,this.cursor),N=this.input.slice(this.cursor);this.input=`${E}${y}${N}`,this.cursor=E.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let y=this.input.slice(0,this.cursor-1),$=this.input.slice(this.cursor);this.input=`${y}${$}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let y=this.input.slice(0,this.cursor),$=this.input.slice(this.cursor+1);this.input=`${y}${$}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){if(this.select===0)this.moveSelect(this.suggestions.length-1);else this.moveSelect(this.select-1);this.render()}down(){if(this.select===this.suggestions.length-1)this.moveSelect(0);else this.moveSelect(this.select+1);this.render()}next(){if(this.select===this.suggestions.length-1)this.moveSelect(0);else this.moveSelect(this.select+1);this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(y,$,E,N){let K,k=E?B.arrowUp:N?B.arrowDown:" ",G=$?T.cyan().underline(y.title):y.title;if(k=($?T.cyan(B.pointer)+" ":"  ")+k,y.description){if(K=` - ${y.description}`,k.length+G.length+K.length>=this.out.columns||y.description.split(/\r?\n/).length>1)K=`
`+C(y.description,{margin:3,width:this.out.columns})}return k+" "+G+T.gray(K||"")}render(){if(this.closed)return;if(this.firstRender)this.out.write(q.hide);else this.out.write(h(this.outputText,this.out.columns));super.render();let{startIndex:y,endIndex:$}=O(this.select,this.choices.length,this.limit);if(this.outputText=[_.symbol(this.done,this.aborted,this.exited),T.bold(this.msg),_.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let E=this.suggestions.slice(y,$).map((N,K)=>this.renderOption(N,this.select===K+y,K===0&&y>0,K+y===$-1&&$<this.choices.length)).join(`
`);this.outputText+=`
`+(E||T.gray(this.fallback.title))}this.out.write(A.line+q.to(0)+this.outputText)}}return sB=J,sB}var tB,jH;function e3(){if(jH)return tB;jH=1;let T=$R(),{cursor:R}=IR(),A=cH(),{clear:q,style:_,figures:h}=uR();class B extends A{constructor(C={}){C.overrideRender=!0;super(C);this.inputValue="",this.clear=q("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){if(this.cursor===0)this.cursor=this.filteredOptions.length-1;else this.cursor--;this.render()}down(){if(this.cursor===this.filteredOptions.length-1)this.cursor=0;else this.cursor++;this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((C)=>C.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){if(this.inputValue.length)this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions()}updateFilteredOptions(){let C=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((D)=>{if(this.inputValue){if(typeof D.title==="string"){if(D.title.toLowerCase().includes(this.inputValue.toLowerCase()))return!0}if(typeof D.value==="string"){if(D.value.toLowerCase().includes(this.inputValue.toLowerCase()))return!0}return!1}return!0});let O=this.filteredOptions.findIndex((D)=>D===C);this.cursor=O<0?0:O,this.render()}handleSpaceToggle(){let C=this.filteredOptions[this.cursor];if(C.selected)C.selected=!1,this.render();else if(C.disabled||this.value.filter((O)=>O.selected).length>=this.maxChoices)return this.bell();else C.selected=!0,this.render()}handleInputChange(C){this.inputValue=this.inputValue+C,this.updateFilteredOptions()}_(C,O){if(C===" ")this.handleSpaceToggle();else this.handleInputChange(C)}renderInstructions(){if(this.instructions===void 0||this.instructions){if(typeof this.instructions==="string")return this.instructions;return`
Instructions:
    ${h.arrowUp}/${h.arrowDown}: Highlight option
    ${h.arrowLeft}/${h.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`}return""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:T.gray("Enter something to filter")}
`}renderOption(C,O,D,W){let H=(O.selected?T.green(h.radioOn):h.radioOff)+" "+W+" ",J;if(O.disabled)J=C===D?T.gray().underline(O.title):T.strikethrough().gray(O.title);else J=C===D?T.cyan().underline(O.title):O.title;return H+J}renderDoneOrInstructions(){if(this.done)return this.value.filter((O)=>O.selected).map((O)=>O.title).join(", ");let C=[T.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled)C.push(T.yellow(this.warn));return C.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(R.hide);super.render();let C=[_.symbol(this.done,this.aborted),T.bold(this.msg),_.delimiter(!1),this.renderDoneOrInstructions()].join(" ");if(this.showMinError)C+=T.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1;C+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+C),this.clear=q(C,this.out.columns)}}return tB=B,tB}var eB,FH;function Ti(){if(FH)return eB;FH=1;let T=$R(),R=h9(),{style:A,clear:q}=uR(),{erase:_,cursor:h}=IR();class B extends R{constructor(C={}){super(C);this.msg=C.message,this.value=C.initial,this.initialValue=!!C.initial,this.yesMsg=C.yes||"yes",this.yesOption=C.yesOption||"(Y/n)",this.noMsg=C.no||"no",this.noOption=C.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(C,O){if(C.toLowerCase()==="y")return this.value=!0,this.submit();if(C.toLowerCase()==="n")return this.value=!1,this.submit();return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(h.hide);else this.out.write(q(this.outputText,this.out.columns));super.render(),this.outputText=[A.symbol(this.done,this.aborted),T.bold(this.msg),A.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:T.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(_.line+h.to(0)+this.outputText)}}return eB=B,eB}var TC,bH;function Ri(){if(bH)return TC;return bH=1,TC={TextPrompt:P3(),SelectPrompt:Y3(),TogglePrompt:c3(),DatePrompt:n3(),NumberPrompt:s3(),MultiselectPrompt:cH(),AutocompletePrompt:t3(),AutocompleteMultiselectPrompt:e3(),ConfirmPrompt:Ti()},TC}var QH;function Ai(){if(QH)return NB;return QH=1,function(T){let R=T,A=Ri(),q=(B)=>B;function _(B,C,O={}){return new Promise((D,W)=>{let H=new A[B](C),J=O.onAbort||q,y=O.onSubmit||q,$=O.onExit||q;H.on("state",C.onState||q),H.on("submit",(E)=>D(y(E))),H.on("exit",(E)=>D($(E))),H.on("abort",(E)=>W(J(E)))})}R.text=(B)=>_("TextPrompt",B),R.password=(B)=>{return B.style="password",R.text(B)},R.invisible=(B)=>{return B.style="invisible",R.text(B)},R.number=(B)=>_("NumberPrompt",B),R.date=(B)=>_("DatePrompt",B),R.confirm=(B)=>_("ConfirmPrompt",B),R.list=(B)=>{let C=B.separator||",";return _("TextPrompt",B,{onSubmit:(O)=>O.split(C).map((D)=>D.trim())})},R.toggle=(B)=>_("TogglePrompt",B),R.select=(B)=>_("SelectPrompt",B),R.multiselect=(B)=>{B.choices=[].concat(B.choices||[]);let C=(O)=>O.filter((D)=>D.selected).map((D)=>D.value);return _("MultiselectPrompt",B,{onAbort:C,onSubmit:C})},R.autocompleteMultiselect=(B)=>{B.choices=[].concat(B.choices||[]);let C=(O)=>O.filter((D)=>D.selected).map((D)=>D.value);return _("AutocompleteMultiselectPrompt",B,{onAbort:C,onSubmit:C})};let h=(B,C)=>Promise.resolve(C.filter((O)=>O.title.slice(0,B.length).toLowerCase()===B.toLowerCase()));R.autocomplete=(B)=>{return B.suggest=B.suggest||h,B.choices=[].concat(B.choices||[]),_("AutocompletePrompt",B)}}(NB),NB}var RC,NH;function qi(){if(NH)return RC;NH=1;let T=Ai(),R=["suggest","format","onState","validate","onRender","type"],A=()=>{};async function q(C=[],{onSubmit:O=A,onCancel:D=A}={}){let W={},H=q._override||{};C=[].concat(C);let J,y,$,E,N,K,k=async(G,F,g=!1)=>{if(!g&&G.validate&&G.validate(F)!==!0)return;return G.format?await G.format(F,W):F};for(y of C){if({name:E,type:N}=y,typeof N==="function")N=await N(J,{...W},y),y.type=N;if(!N)continue;for(let G in y){if(R.includes(G))continue;let F=y[G];y[G]=typeof F==="function"?await F(J,{...W},K):F}if(K=y,typeof y.message!=="string")throw new Error("prompt message is required");if({name:E,type:N}=y,T[N]===void 0)throw new Error(`prompt type (${N}) is not defined`);if(H[y.name]!==void 0){if(J=await k(y,H[y.name]),J!==void 0){W[E]=J;continue}}try{J=q._injected?_(q._injected,y.initial):await T[N](y),W[E]=J=await k(y,J,!0),$=await O(y,J,W)}catch(G){$=!await D(y,W)}if($)return W}return W}function _(C,O){let D=C.shift();if(D instanceof Error)throw D;return D===void 0?O:D}function h(C){q._injected=(q._injected||[]).concat(C)}function B(C){q._override=Object.assign({},C)}return RC=Object.assign(q,{prompt:q,prompts:T,inject:h,override:B}),RC}var AC,uH;function _i(){if(uH)return AC;return uH=1,AC=qi(),AC}var hi=_i(),Bi=OC(hi);function wH(T){return(R)=>{if(R.length>1)return[T,"run",R[0],"--",...R.slice(1)];else return[T,"run",R[0]]}}function Ci(){return(T)=>{return["deno","run",`npm:${T[0]}`,...T.slice(1)]}}var Di={agent:["npm",0],run:wH("npm"),install:["npm","i",0],frozen:["npm","ci"],global:["npm","i","-g",0],add:["npm","i",0],upgrade:["npm","update",0],"upgrade-interactive":null,execute:["npx",0],"execute-local":["npx",0],uninstall:["npm","uninstall",0],global_uninstall:["npm","uninstall","-g",0]},VH={agent:["yarn",0],run:["yarn","run",0],install:["yarn","install",0],frozen:["yarn","install","--frozen-lockfile"],global:["yarn","global","add",0],add:["yarn","add",0],upgrade:["yarn","upgrade",0],"upgrade-interactive":["yarn","upgrade-interactive",0],execute:["npx",0],"execute-local":["yarn","exec",0],uninstall:["yarn","remove",0],global_uninstall:["yarn","global","remove",0]},Oi={...VH,frozen:["yarn","install","--immutable"],upgrade:["yarn","up",0],"upgrade-interactive":["yarn","up","-i",0],execute:["yarn","dlx",0],"execute-local":["yarn","exec",0],global:["npm","i","-g",0],global_uninstall:["npm","uninstall","-g",0]},kH={agent:["pnpm",0],run:["pnpm","run",0],install:["pnpm","i",0],frozen:["pnpm","i","--frozen-lockfile"],global:["pnpm","add","-g",0],add:["pnpm","add",0],upgrade:["pnpm","update",0],"upgrade-interactive":["pnpm","update","-i",0],execute:["pnpm","dlx",0],"execute-local":["pnpm","exec",0],uninstall:["pnpm","remove",0],global_uninstall:["pnpm","remove","--global",0]},Wi={agent:["bun",0],run:["bun","run",0],install:["bun","install",0],frozen:["bun","install","--frozen-lockfile"],global:["bun","add","-g",0],add:["bun","add",0],upgrade:["bun","update",0],"upgrade-interactive":["bun","update",0],execute:["bun","x",0],"execute-local":["bun","x",0],uninstall:["bun","remove",0],global_uninstall:["bun","remove","-g",0]},Hi={agent:["deno",0],run:["deno","task",0],install:["deno","install",0],frozen:["deno","install","--frozen"],global:["deno","install","-g",0],add:["deno","add",0],upgrade:["deno","outdated","--update",0],"upgrade-interactive":["deno","outdated","--update",0],execute:Ci(),"execute-local":["deno","task","--eval",0],uninstall:["deno","remove",0],global_uninstall:["deno","uninstall","-g",0]},Ji={npm:Di,yarn:VH,"yarn@berry":Oi,pnpm:kH,"pnpm@6":{...kH,run:wH("pnpm")},bun:Wi,deno:Hi};var vH=["npm","yarn","yarn@berry","pnpm","pnpm@6","bun","deno"],DC={"bun.lock":"bun","bun.lockb":"bun","deno.lock":"deno","pnpm-lock.yaml":"pnpm","yarn.lock":"yarn","package-lock.json":"npm","npm-shrinkwrap.json":"npm"},mH={bun:"https://bun.sh",deno:"https://deno.com",pnpm:"https://pnpm.io/installation","pnpm@6":"https://pnpm.io/6.x/installation",yarn:"https://classic.yarnpkg.com/en/docs/install","yarn@berry":"https://yarnpkg.com/getting-started/install",npm:"https://docs.npmjs.com/cli/v8/configuring-npm/install"};async function yi(T={}){let{cwd:R,onUnknown:A}=T;for(let q of ii(R)){for(let h of Object.keys(DC))if(await lH(g9.join(q,h))){let B=DC[h],C=await aH(g9.join(q,"package.json"),A);if(C)return C;else return{name:B,agent:B}}let _=await aH(g9.join(q,"package.json"),A);if(_)return _}return null}function*ii(T=_9.cwd()){let R=g9.resolve(T),{root:A}=g9.parse(R);while(R&&R!==A)yield R,R=g9.dirname(R)}async function aH(T,R){return!T||!await lH(T)?null:$i(T,R)}function $i(T,R){try{let A=JSON.parse(K3.readFileSync(T,"utf8")),q;if(typeof A.packageManager==="string"){let[_,h]=A.packageManager.replace(/^\^/,"").split("@"),B=h;if(_==="yarn"&&Number.parseInt(h)>1)return q="yarn@berry",B="berry",{name:_,agent:q,version:B};else if(_==="pnpm"&&Number.parseInt(h)<7)return q="pnpm@6",{name:_,agent:q,version:B};else if(vH.includes(_))return q=_,{name:_,agent:q,version:B};else return R?.(A.packageManager)??null}}catch{}return null}async function lH(T){try{if((await x3.stat(T)).isFile())return!0}catch{}return!1}var WT="\x1B[",sA="\x1B]",DA="\x07",D_=";",dH=process.env.TERM_PROGRAM==="Apple_Terminal",TT={};TT.cursorTo=(T,R)=>{if(typeof T!=="number")throw new TypeError("The `x` argument is required");if(typeof R!=="number")return WT+(T+1)+"G";return WT+(R+1)+";"+(T+1)+"H"};TT.cursorMove=(T,R)=>{if(typeof T!=="number")throw new TypeError("The `x` argument is required");let A="";if(T<0)A+=WT+-T+"D";else if(T>0)A+=WT+T+"C";if(R<0)A+=WT+-R+"A";else if(R>0)A+=WT+R+"B";return A};TT.cursorUp=(T=1)=>WT+T+"A";TT.cursorDown=(T=1)=>WT+T+"B";TT.cursorForward=(T=1)=>WT+T+"C";TT.cursorBackward=(T=1)=>WT+T+"D";TT.cursorLeft=WT+"G";TT.cursorSavePosition=dH?"\x1B7":WT+"s";TT.cursorRestorePosition=dH?"\x1B8":WT+"u";TT.cursorGetPosition=WT+"6n";TT.cursorNextLine=WT+"E";TT.cursorPrevLine=WT+"F";TT.cursorHide=WT+"?25l";TT.cursorShow=WT+"?25h";TT.eraseLines=(T)=>{let R="";for(let A=0;A<T;A++)R+=TT.eraseLine+(A<T-1?TT.cursorUp():"");if(T)R+=TT.cursorLeft;return R};TT.eraseEndLine=WT+"K";TT.eraseStartLine=WT+"1K";TT.eraseLine=WT+"2K";TT.eraseDown=WT+"J";TT.eraseUp=WT+"1J";TT.eraseScreen=WT+"2J";TT.scrollUp=WT+"S";TT.scrollDown=WT+"T";TT.clearScreen="\x1Bc";TT.clearTerminal=process.platform==="win32"?`${TT.eraseScreen}${WT}0f`:`${TT.eraseScreen}${WT}3J${WT}H`;TT.beep=DA;TT.link=(T,R)=>{return[sA,"8",D_,D_,R,DA,T,sA,"8",D_,D_,DA].join("")};TT.image=(T,R={})=>{let A=`${sA}1337;File=inline=1`;if(R.width)A+=`;width=${R.width}`;if(R.height)A+=`;height=${R.height}`;if(R.preserveAspectRatio===!1)A+=";preserveAspectRatio=0";return A+":"+T.toString("base64")+DA};TT.iTerm={setCwd:(T=process.cwd())=>`${sA}50;CurrentDir=${T}${DA}`,annotation:(T,R={})=>{let A=`${sA}1337;`,q=typeof R.x!=="undefined",_=typeof R.y!=="undefined";if((q||_)&&!(q&&_&&typeof R.length!=="undefined"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");if(T=T.replace(/\|/g,""),A+=R.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",R.length>0)A+=(q?[T,R.length,R.x,R.y]:[R.length,T]).join("|");else A+=T;return A+DA}};var qC,KH;function oH(){if(KH)return qC;return KH=1,qC=(T,R=process.argv)=>{let A=T.startsWith("-")?"":T.length===1?"-":"--",q=R.indexOf(A+T),_=R.indexOf("--");return q!==-1&&(_===-1||q<_)},qC}var _C,GH;function Ii(){if(GH)return _C;GH=1;let T=G3,R=L3,A=oH(),{env:q}=process,_;if(A("no-color")||A("no-colors")||A("color=false")||A("color=never"))_=0;else if(A("color")||A("colors")||A("color=true")||A("color=always"))_=1;if("FORCE_COLOR"in q)if(q.FORCE_COLOR==="true")_=1;else if(q.FORCE_COLOR==="false")_=0;else _=q.FORCE_COLOR.length===0?1:Math.min(parseInt(q.FORCE_COLOR,10),3);function h(O){if(O===0)return!1;return{level:O,hasBasic:!0,has256:O>=2,has16m:O>=3}}function B(O,D){if(_===0)return 0;if(A("color=16m")||A("color=full")||A("color=truecolor"))return 3;if(A("color=256"))return 2;if(O&&!D&&_===void 0)return 0;let W=_||0;if(q.TERM==="dumb")return W;if(process.platform==="win32"){let H=T.release().split(".");if(Number(H[0])>=10&&Number(H[2])>=10586)return Number(H[2])>=14931?3:2;return 1}if("CI"in q){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((H)=>(H in q))||q.CI_NAME==="codeship")return 1;return W}if("TEAMCITY_VERSION"in q)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(q.TEAMCITY_VERSION)?1:0;if(q.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in q){let H=parseInt((q.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(q.TERM_PROGRAM){case"iTerm.app":return H>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(q.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(q.TERM))return 1;if("COLORTERM"in q)return 1;return W}function C(O){let D=B(O,O&&O.isTTY);return h(D)}return _C={supportsColor:C,stdout:h(B(!0,R.isatty(1))),stderr:h(B(!0,R.isatty(2)))},_C}var hC,LH;function Ei(){if(LH)return hC;LH=1;let T=Ii(),R=oH();function A(_){if(/^\d{3,4}$/.test(_)){let B=/(\d{1,2})(\d{2})/.exec(_);return{major:0,minor:parseInt(B[1],10),patch:parseInt(B[2],10)}}let h=(_||"").split(".").map((B)=>parseInt(B,10));return{major:h[0],minor:h[1],patch:h[2]}}function q(_){let{env:h}=process;if("FORCE_HYPERLINK"in h)return!(h.FORCE_HYPERLINK.length>0&&parseInt(h.FORCE_HYPERLINK,10)===0);if(R("no-hyperlink")||R("no-hyperlinks")||R("hyperlink=false")||R("hyperlink=never"))return!1;if(R("hyperlink=true")||R("hyperlink=always"))return!0;if(!T.supportsColor(_))return!1;if(_&&!_.isTTY)return!1;if(process.platform==="win32")return!1;if("NETLIFY"in h)return!0;if("CI"in h)return!1;if("TEAMCITY_VERSION"in h)return!1;if("TERM_PROGRAM"in h){let B=A(h.TERM_PROGRAM_VERSION);switch(h.TERM_PROGRAM){case"iTerm.app":if(B.major===3)return B.minor>=1;return B.major>3}}if("VTE_VERSION"in h){if(h.VTE_VERSION==="0.50.0")return!1;let B=A(h.VTE_VERSION);return B.major>0||B.minor>=50}return!1}return hC={supportsHyperlink:q,stdout:q(process.stdout),stderr:q(process.stderr)},hC}var ji=Ei(),HC=OC(ji);function tA(T,R,{target:A="stdout",...q}={}){if(!HC[A]){if(q.fallback===!1)return T;return typeof q.fallback==="function"?q.fallback(T,R):`${T} (${R})`}return TT.link(T,R)}tA.isSupported=HC.stdout;tA.stderr=(T,R,A={})=>tA(T,R,{target:"stderr",...A});tA.stderr.isSupported=HC.stderr;var CA=j3(import.meta.url),Fi=Object.create,rH=Object.defineProperty,bi=Object.getOwnPropertyDescriptor,Qi=Object.getOwnPropertyNames,Ni=Object.getPrototypeOf,ui=Object.prototype.hasOwnProperty,B9=((T)=>typeof CA<"u"?CA:typeof Proxy<"u"?new Proxy(T,{get:(R,A)=>(typeof CA<"u"?CA:R)[A]}):T)(function(T){if(typeof CA<"u")return CA.apply(this,arguments);throw Error('Dynamic require of "'+T+'" is not supported')}),sT=(T,R)=>()=>(R||T((R={exports:{}}).exports,R),R.exports),ki=(T,R,A,q)=>{if(R&&typeof R=="object"||typeof R=="function")for(let _ of Qi(R))!ui.call(T,_)&&_!==A&&rH(T,_,{get:()=>R[_],enumerable:!(q=bi(R,_))||q.enumerable});return T},ai=(T,R,A)=>(A=T!=null?Fi(Ni(T)):{},ki(rH(A,"default",{value:T,enumerable:!0}),T)),Ki=sT((T,R)=>{R.exports=h,h.sync=B;var A=B9("fs");function q(C,O){var D=O.pathExt!==void 0?O.pathExt:process.env.PATHEXT;if(!D||(D=D.split(";"),D.indexOf("")!==-1))return!0;for(var W=0;W<D.length;W++){var H=D[W].toLowerCase();if(H&&C.substr(-H.length).toLowerCase()===H)return!0}return!1}function _(C,O,D){return!C.isSymbolicLink()&&!C.isFile()?!1:q(O,D)}function h(C,O,D){A.stat(C,function(W,H){D(W,W?!1:_(H,C,O))})}function B(C,O){return _(A.statSync(C),C,O)}}),Gi=sT((T,R)=>{R.exports=q,q.sync=_;var A=B9("fs");function q(C,O,D){A.stat(C,function(W,H){D(W,W?!1:h(H,O))})}function _(C,O){return h(A.statSync(C),O)}function h(C,O){return C.isFile()&&B(C,O)}function B(C,O){var{mode:D,uid:W,gid:H}=C,J=O.uid!==void 0?O.uid:process.getuid&&process.getuid(),y=O.gid!==void 0?O.gid:process.getgid&&process.getgid(),$=parseInt("100",8),E=parseInt("010",8),N=parseInt("001",8),K=$|E,k=D&N||D&E&&H===y||D&$&&W===J||D&K&&J===0;return k}}),Li=sT((T,R)=>{B9("fs");var A;process.platform==="win32"||global.TESTING_WINDOWS?A=Ki():A=Gi(),R.exports=q,q.sync=_;function q(h,B,C){if(typeof B=="function"&&(C=B,B={}),!C){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(O,D){q(h,B||{},function(W,H){W?D(W):O(H)})})}A(h,B||{},function(O,D){O&&(O.code==="EACCES"||B&&B.ignoreErrors)&&(O=null,D=!1),C(O,D)})}function _(h,B){try{return A.sync(h,B||{})}catch(C){if(B&&B.ignoreErrors||C.code==="EACCES")return!1;throw C}}}),gi=sT((T,R)=>{var A=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",q=B9("path"),_=A?";":":",h=Li(),B=(W)=>Object.assign(new Error(`not found: ${W}`),{code:"ENOENT"}),C=(W,H)=>{let J=H.colon||_,y=W.match(/\//)||A&&W.match(/\\/)?[""]:[...A?[process.cwd()]:[],...(H.path||process.env.PATH||"").split(J)],$=A?H.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",E=A?$.split(J):[""];return A&&W.indexOf(".")!==-1&&E[0]!==""&&E.unshift(""),{pathEnv:y,pathExt:E,pathExtExe:$}},O=(W,H,J)=>{typeof H=="function"&&(J=H,H={}),H||(H={});let{pathEnv:y,pathExt:$,pathExtExe:E}=C(W,H),N=[],K=(G)=>new Promise((F,g)=>{if(G===y.length)return H.all&&N.length?F(N):g(B(W));let P=y[G],V=/^".*"$/.test(P)?P.slice(1,-1):P,m=q.join(V,W),kT=!V&&/^\.[\\\/]/.test(W)?W.slice(0,2)+m:m;F(k(kT,G,0))}),k=(G,F,g)=>new Promise((P,V)=>{if(g===$.length)return P(K(F+1));let m=$[g];h(G+m,{pathExt:E},(kT,TR)=>{if(!kT&&TR)if(H.all)N.push(G+m);else return P(G+m);return P(k(G,F,g+1))})});return J?K(0).then((G)=>J(null,G),J):K(0)},D=(W,H)=>{H=H||{};let{pathEnv:J,pathExt:y,pathExtExe:$}=C(W,H),E=[];for(let N=0;N<J.length;N++){let K=J[N],k=/^".*"$/.test(K)?K.slice(1,-1):K,G=q.join(k,W),F=!k&&/^\.[\\\/]/.test(W)?W.slice(0,2)+G:G;for(let g=0;g<y.length;g++){let P=F+y[g];try{if(h.sync(P,{pathExt:$}))if(H.all)E.push(P);else return P}catch{}}}if(H.all&&E.length)return E;if(H.nothrow)return null;throw B(W)};R.exports=O,O.sync=D}),xi=sT((T,R)=>{var A=(q={})=>{let _=q.env||process.env;return(q.platform||process.platform)!=="win32"?"PATH":Object.keys(_).reverse().find((h)=>h.toUpperCase()==="PATH")||"Path"};R.exports=A,R.exports.default=A}),zi=sT((T,R)=>{var A=B9("path"),q=gi(),_=xi();function h(C,O){let D=C.options.env||process.env,W=process.cwd(),H=C.options.cwd!=null,J=H&&process.chdir!==void 0&&!process.chdir.disabled;if(J)try{process.chdir(C.options.cwd)}catch{}let y;try{y=q.sync(C.command,{path:D[_({env:D})],pathExt:O?A.delimiter:void 0})}catch{}finally{J&&process.chdir(W)}return y&&(y=A.resolve(H?C.options.cwd:"",y)),y}function B(C){return h(C)||h(C,!0)}R.exports=B}),Xi=sT((T,R)=>{var A=/([()\][%!^"`<>&|;, *?])/g;function q(h){return h=h.replace(A,"^$1"),h}function _(h,B){return h=`${h}`,h=h.replace(/(\\*)"/g,"$1$1\\\""),h=h.replace(/(\\*)$/,"$1$1"),h=`"${h}"`,h=h.replace(A,"^$1"),B&&(h=h.replace(A,"^$1")),h}R.exports.command=q,R.exports.argument=_}),Zi=sT((T,R)=>{R.exports=/^#!(.*)/}),fi=sT((T,R)=>{var A=Zi();R.exports=(q="")=>{let _=q.match(A);if(!_)return null;let[h,B]=_[0].replace(/#! ?/,"").split(" "),C=h.split("/").pop();return C==="env"?B:B?`${C} ${B}`:C}}),Ui=sT((T,R)=>{var A=B9("fs"),q=fi();function _(h){let B=Buffer.alloc(150),C;try{C=A.openSync(h,"r"),A.readSync(C,B,0,150,0),A.closeSync(C)}catch{}return q(B.toString())}R.exports=_}),Mi=sT((T,R)=>{var A=B9("path"),q=zi(),_=Xi(),h=Ui(),B=process.platform==="win32",C=/\.(?:com|exe)$/i,O=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function D(J){J.file=q(J);let y=J.file&&h(J.file);return y?(J.args.unshift(J.file),J.command=y,q(J)):J.file}function W(J){if(!B)return J;let y=D(J),$=!C.test(y);if(J.options.forceShell||$){let E=O.test(y);J.command=A.normalize(J.command),J.command=_.command(J.command),J.args=J.args.map((K)=>_.argument(K,E));let N=[J.command].concat(J.args).join(" ");J.args=["/d","/s","/c",`"${N}"`],J.command=process.env.comspec||"cmd.exe",J.options.windowsVerbatimArguments=!0}return J}function H(J,y,$){y&&!Array.isArray(y)&&($=y,y=null),y=y?y.slice(0):[],$=Object.assign({},$);let E={command:J,args:y,options:$,file:void 0,original:{command:J,args:y}};return $.shell?E:W(E)}R.exports=H}),Si=sT((T,R)=>{var A=process.platform==="win32";function q(C,O){return Object.assign(new Error(`${O} ${C.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${O} ${C.command}`,path:C.command,spawnargs:C.args})}function _(C,O){if(!A)return;let D=C.emit;C.emit=function(W,H){if(W==="exit"){let J=h(H,O);if(J)return D.call(C,"error",J)}return D.apply(C,arguments)}}function h(C,O){return A&&C===1&&!O.file?q(O.original,"spawn"):null}function B(C,O){return A&&C===1&&!O.file?q(O.original,"spawnSync"):null}R.exports={hookChildProcess:_,verifyENOENT:h,verifyENOENTSync:B,notFoundError:q}}),Pi=sT((T,R)=>{var A=B9("child_process"),q=Mi(),_=Si();function h(C,O,D){let W=q(C,O,D),H=A.spawn(W.command,W.args,W.options);return _.hookChildProcess(H,W),H}function B(C,O,D){let W=q(C,O,D),H=A.spawnSync(W.command,W.args,W.options);return H.error=H.error||_.verifyENOENTSync(H.status,W),H}R.exports=h,R.exports.spawn=h,R.exports.sync=B,R.exports._parse=q,R.exports._enoent=_}),Yi=/^path$/i,gH={key:"PATH",value:""};function ci(T){for(let R in T){if(!Object.prototype.hasOwnProperty.call(T,R)||!Yi.test(R))continue;let A=T[R];return A?{key:R,value:A}:gH}return gH}function wi(T,R){let A=R.value.split(wW),q=T,_;do A.push(N3(q,"node_modules",".bin")),_=q,q=u3(q);while(q!==_);return{key:R.key,value:A.join(wW)}}function Vi(T,R){let A={...process.env,...R},q=wi(T,ci(A));return A[q.key]=q.value,A}var vi=(T)=>{let R=T.length,A=new a3,q=()=>{--R===0&&A.emit("end")};for(let _ of T)_.pipe(A,{end:!1}),_.on("end",q);return A},mi=ai(Pi()),xH=class extends Error{result;output;get exitCode(){if(this.result.exitCode!==null)return this.result.exitCode}constructor(T,R){super(`Process exited with non-zero status (${T.exitCode})`),this.result=T,this.output=R}},li={timeout:void 0,persist:!1},di={windowsHide:!0};function oi(T,R){return{command:Q3(T),args:R??[]}}function ri(T){let R=new AbortController;for(let A of T){if(A.aborted)return R.abort(),A;let q=()=>{R.abort(A.reason)};A.addEventListener("abort",q,{signal:R.signal})}return R.signal}var pi=class{_process;_aborted=!1;_options;_command;_args;_resolveClose;_processClosed;_thrownError;get process(){return this._process}get pid(){return this._process?.pid}get exitCode(){if(this._process&&this._process.exitCode!==null)return this._process.exitCode}constructor(T,R,A){this._options={...li,...A},this._command=T,this._args=R??[],this._processClosed=new Promise((q)=>{this._resolveClose=q})}kill(T){return this._process?.kill(T)===!0}get aborted(){return this._aborted}get killed(){return this._process?.killed===!0}pipe(T,R,A){return ni(T,R,{...A,stdin:this})}async*[Symbol.asyncIterator](){let T=this._process;if(!T)return;let R=[];this._streamErr&&R.push(this._streamErr),this._streamOut&&R.push(this._streamOut);let A=vi(R),q=MH.createInterface({input:A});for await(let _ of q)yield _.toString();if(await this._processClosed,T.removeAllListeners(),this._thrownError)throw this._thrownError;if(this._options?.throwOnError&&this.exitCode!==0&&this.exitCode!==void 0)throw new xH(this)}async _waitForOutput(){let T=this._process;if(!T)throw new Error("No process was started");let R="",A="";if(this._streamOut)for await(let _ of this._streamOut)A+=_.toString();if(this._streamErr)for await(let _ of this._streamErr)R+=_.toString();if(await this._processClosed,this._options?.stdin&&await this._options.stdin,T.removeAllListeners(),this._thrownError)throw this._thrownError;let q={stderr:R,stdout:A,exitCode:this.exitCode};if(this._options.throwOnError&&this.exitCode!==0&&this.exitCode!==void 0)throw new xH(this,q);return q}then(T,R){return this._waitForOutput().then(T,R)}_streamOut;_streamErr;spawn(){let T=k3(),R=this._options,A={...di,...R.nodeOptions},q=[];this._resetState(),R.timeout!==void 0&&q.push(AbortSignal.timeout(R.timeout)),R.signal!==void 0&&q.push(R.signal),R.persist===!0&&(A.detached=!0),q.length>0&&(A.signal=ri(q)),A.env=Vi(T,A.env);let{command:_,args:h}=oi(this._command,this._args),B=mi._parse(_,h,A),C=F3(B.command,B.args,B.options);if(C.stderr&&(this._streamErr=C.stderr),C.stdout&&(this._streamOut=C.stdout),this._process=C,C.once("error",this._onError),C.once("close",this._onClose),R.stdin!==void 0&&C.stdin&&R.stdin.process){let{stdout:O}=R.stdin.process;O&&O.pipe(C.stdin)}}_resetState(){this._aborted=!1,this._processClosed=new Promise((T)=>{this._resolveClose=T}),this._thrownError=void 0}_onError=(T)=>{if(T.name==="AbortError"&&(!(T.cause instanceof Error)||T.cause.name!=="TimeoutError")){this._aborted=!0;return}this._thrownError=T};_onClose=()=>{this._resolveClose&&this._resolveClose()}},pH=(T,R,A)=>{let q=new pi(T,R,A);return q.spawn(),q},ni=pH;var K9={},G9={},zH;function si(){if(zH)return G9;zH=1,Object.defineProperty(G9,"__esModule",{value:!0}),G9.sync=G9.isexe=void 0;let T=SH,R=PH,A=async(B,C={})=>{let{ignoreErrors:O=!1}=C;try{return _(await R.stat(B),C)}catch(D){let W=D;if(O||W.code==="EACCES")return!1;throw W}};G9.isexe=A;let q=(B,C={})=>{let{ignoreErrors:O=!1}=C;try{return _(T.statSync(B),C)}catch(D){let W=D;if(O||W.code==="EACCES")return!1;throw W}};G9.sync=q;let _=(B,C)=>B.isFile()&&h(B,C),h=(B,C)=>{let O=C.uid??process.getuid?.(),D=C.groups??process.getgroups?.()??[],W=C.gid??process.getgid?.()??D[0];if(O===void 0||W===void 0)throw new Error("cannot get uid or gid");let H=new Set([W,...D]),J=B.mode,y=B.uid,$=B.gid,E=parseInt("100",8),N=parseInt("010",8),K=parseInt("001",8),k=E|N;return!!(J&K||J&N&&H.has($)||J&E&&y===O||J&k&&O===0)};return G9}var L9={},XH;function ti(){if(XH)return L9;XH=1,Object.defineProperty(L9,"__esModule",{value:!0}),L9.sync=L9.isexe=void 0;let T=SH,R=PH,A=async(B,C={})=>{let{ignoreErrors:O=!1}=C;try{return h(await R.stat(B),B,C)}catch(D){let W=D;if(O||W.code==="EACCES")return!1;throw W}};L9.isexe=A;let q=(B,C={})=>{let{ignoreErrors:O=!1}=C;try{return h(T.statSync(B),B,C)}catch(D){let W=D;if(O||W.code==="EACCES")return!1;throw W}};L9.sync=q;let _=(B,C)=>{let{pathExt:O=process.env.PATHEXT||""}=C,D=O.split(";");if(D.indexOf("")!==-1)return!0;for(let W=0;W<D.length;W++){let H=D[W].toLowerCase(),J=B.substring(B.length-H.length).toLowerCase();if(H&&J===H)return!0}return!1},h=(B,C,O)=>B.isFile()&&_(C,O);return L9}var BC={},ZH;function ei(){if(ZH)return BC;return ZH=1,Object.defineProperty(BC,"__esModule",{value:!0}),BC}var fH;function T2(){if(fH)return K9;return fH=1,function(T){var R=K9.__createBinding||(Object.create?function(D,W,H,J){if(J===void 0)J=H;var y=Object.getOwnPropertyDescriptor(W,H);if(!y||("get"in y?!W.__esModule:y.writable||y.configurable))y={enumerable:!0,get:function(){return W[H]}};Object.defineProperty(D,J,y)}:function(D,W,H,J){if(J===void 0)J=H;D[J]=W[H]}),A=K9.__setModuleDefault||(Object.create?function(D,W){Object.defineProperty(D,"default",{enumerable:!0,value:W})}:function(D,W){D.default=W}),q=K9.__importStar||function(D){if(D&&D.__esModule)return D;var W={};if(D!=null){for(var H in D)if(H!=="default"&&Object.prototype.hasOwnProperty.call(D,H))R(W,D,H)}return A(W,D),W},_=K9.__exportStar||function(D,W){for(var H in D)if(H!=="default"&&!Object.prototype.hasOwnProperty.call(W,H))R(W,D,H)};Object.defineProperty(T,"__esModule",{value:!0}),T.sync=T.isexe=T.posix=T.win32=void 0;let h=q(si());T.posix=h;let B=q(ti());T.win32=B,_(ei(),T);let O=(process.env._ISEXE_TEST_PLATFORM_||process.platform)==="win32"?B:h;T.isexe=O.isexe,T.sync=O.sync}(K9),K9}var CC,UH;function R2(){if(UH)return CC;UH=1;let{isexe:T,sync:R}=T2(),{join:A,delimiter:q,sep:_,posix:h}=b3,B=process.platform==="win32",C=new RegExp(`[${h.sep}${_===h.sep?"":_}]`.replace(/(\\)/g,"\\$1")),O=new RegExp(`^\\.${C.source}`),D=($)=>Object.assign(new Error(`not found: ${$}`),{code:"ENOENT"}),W=($,{path:E=process.env.PATH,pathExt:N=process.env.PATHEXT,delimiter:K=q})=>{let k=$.match(C)?[""]:[...B?[process.cwd()]:[],...(E||"").split(K)];if(B){let G=N||[".EXE",".CMD",".BAT",".COM"].join(K),F=G.split(K).flatMap((g)=>[g,g.toLowerCase()]);if($.includes(".")&&F[0]!=="")F.unshift("");return{pathEnv:k,pathExt:F,pathExtExe:G}}return{pathEnv:k,pathExt:[""]}},H=($,E)=>{let N=/^".*"$/.test($)?$.slice(1,-1):$;return(!N&&O.test(E)?E.slice(0,2):"")+A(N,E)},J=async($,E={})=>{let{pathEnv:N,pathExt:K,pathExtExe:k}=W($,E),G=[];for(let F of N){let g=H(F,$);for(let P of K){let V=g+P;if(await T(V,{pathExt:k,ignoreErrors:!0})){if(!E.all)return V;G.push(V)}}}if(E.all&&G.length)return G;if(E.nothrow)return null;throw D($)},y=($,E={})=>{let{pathEnv:N,pathExt:K,pathExtExe:k}=W($,E),G=[];for(let F of N){let g=H(F,$);for(let P of K){let V=g+P;if(R(V,{pathExt:k,ignoreErrors:!0})){if(!E.all)return V;G.push(V)}}}if(E.all&&G.length)return G;if(E.nothrow)return null;throw D($)};return CC=J,J.sync=y,CC}var A2=R2(),q2=OC(A2),_2=I3(g3.tmpdir(),"antfu-ni");function nH(T){return q2.sync(T,{nothrow:!0})!==null}async function JC({autoInstall:T,programmatic:R,cwd:A}={}){let{name:q,agent:_,version:h}=await yi({cwd:A,onUnknown:(B)=>{if(!R)console.warn("[ni] Unknown packageManager:",B);return}})||{};if(q&&!nH(q)&&!R){if(!T){if(console.warn(`[ni] Detected ${q} but it doesn't seem to be installed.
`),_9.env.CI)_9.exit(1);let B=tA(q,mH[q]),{tryInstall:C}=await Bi({name:"tryInstall",type:"confirm",message:`Would you like to globally install ${B}?`});if(!C)_9.exit(1)}await pH("npm",["i","-g",`${q}${h?`@${h}`:""}`],{nodeOptions:{stdio:"inherit",cwd:A},throwOnError:!0})}return _}var kG=_9.env.NI_CONFIG_FILE,h2=_9.platform==="win32"?_9.env.USERPROFILE:_9.env.HOME,aG=g9.join(h2||"~/",".nirc");async function O_(){let T=await JC({programmatic:!0});if(T==="yarn@berry")return"yarn";if(T==="pnpm@6")return"pnpm";if(T==="bun")return"bun";return T??"npm"}import HT from"node:fs";import{existsSync as sH}from"node:fs";import kR from"node:path";function UT(T){let R=kR.join(process.cwd(),T);return HT.existsSync(R)}function x9(){if(C9())return"resources/css/app.css";if(UT("src")&&!HT.existsSync("artisan")&&YT())return"src/app/globals.css";if(UT("app")&&YT()&&!HT.existsSync("artisan"))return"app/globals.css";if(UT("app")&&!HT.existsSync("artisan")&&aR())return"app/tailwind.css";if(UT("src")&&!HT.existsSync("artisan")&&!aR()&&!YT())return"src/index.css";return"src/index.css"}function OA(){if(C9())return"resources/js/components";if(UT("src")&&!HT.existsSync("artisan")&&YT())return"src/components";if(UT("app")&&YT()&&!HT.existsSync("artisan"))return"components";if(UT("app")&&!HT.existsSync("artisan")&&aR())return"app/components";if(UT("src")&&!HT.existsSync("artisan")&&!aR()&&!YT())return"src/components";return"components"}function yC(){if(C9())return"resources/js/utils";if(UT("src")&&!HT.existsSync("artisan")&&YT())return"src/utils";if(UT("app")&&YT()&&!HT.existsSync("artisan"))return"utils";if(UT("app")&&!HT.existsSync("artisan")&&aR())return"app/utils";if(UT("src")&&!HT.existsSync("artisan")&&!aR()&&!YT())return"src/utils";return"utils"}function YT(){return HT.existsSync("next.config.ts")||HT.existsSync("next.config.js")||HT.existsSync("next.config.mjs")}function tH(T=process.cwd()){let R=["node_modules","vendor",".git",".svn",".hg","dist","build","out","target",".next",".vercel",".idea",".vscode",".cache",".npm",".yarn","tmp","logs","coverage",".nyc_output"];if(HT.existsSync(kR.join(T,"tsconfig.json")))return!0;return HT.readdirSync(T,{withFileTypes:!0}).filter((q)=>q.isDirectory()&&!R.includes(q.name)).map((q)=>kR.join(T,q.name)).some((q)=>HT.existsSync(kR.join(q,"tsconfig.json")))}function aR(){let T=kR.join(process.cwd(),"package.json");if(sH(T)){let R=JSON.parse(HT.readFileSync(T,"utf8")),{dependencies:A={},devDependencies:q={}}=R;return"@remix-run/react"in A||"@remix-run/react"in q}return!1}function vR(T){let R=kR.join(process.cwd(),"package.json");if(HT.existsSync(R)){let A=JSON.parse(HT.readFileSync(R,"utf8")),{dependencies:q={},devDependencies:_={}}=A,h=q.tailwindcss||_.tailwindcss;if(h){let B=h.replace(/^\D*/,"");return Number.parseInt(B.split(".")[0],10)===T}}return!1}function iC(){let T=kR.join(process.cwd(),"package.json");if(sH(T)){let R=JSON.parse(HT.readFileSync(T,"utf8")),{dependencies:A={},devDependencies:q={}}=R;return"tailwindcss"in A||"tailwindcss"in q}return!1}function C9(){return HT.existsSync(kR.resolve(process.cwd(),"artisan"))}function eH(){let T=kR.join(process.cwd(),"justd.json");if(!HT.existsSync(T)){NT(`${i9("justd.json not found")}. Please run ${AT("npx justd-cli@latest init")} to initialize the project.`);return}return JSON.parse(HT.readFileSync(T,"utf-8")).ui||`${OA()}/ui`}var T6=kR.resolve(process.cwd(),"justd.json"),R6=()=>{return HT.existsSync("package.json")||YT()||C9()||aR()||iC()},WA=(T,R)=>{if(T==="javascript")return R.replace(".ts",".js");return R};import v7,{writeFileSync as m7}from"node:fs";import jA from"node:fs";import Oq from"node:path";var D9=(T)=>T.name==="up"||T.name==="k"||T.ctrl&&T.name==="p",HA=(T)=>T.name==="down"||T.name==="j"||T.ctrl&&T.name==="n",A6=(T)=>T.name==="space",W_=(T)=>T.name==="backspace",H_=(T)=>"123456789".includes(T.name),O9=(T)=>T.name==="enter"||T.name==="return";class $C extends Error{name="AbortPromptError";message="Prompt was aborted";constructor(T){super();this.cause=T?.cause}}class IC extends Error{name="CancelPromptError";message="Prompt was canceled"}class EC extends Error{name="ExitPromptError"}class jC extends Error{name="HookError"}class z9 extends Error{name="ValidationError"}import{AsyncResource as J6}from"node:async_hooks";import{AsyncLocalStorage as B2,AsyncResource as C2}from"node:async_hooks";var q6=new B2;function D2(T){return{rl:T,hooks:[],hooksCleanup:[],hooksEffect:[],index:0,handleChange(){}}}function _6(T,R){let A=D2(T);return q6.run(A,()=>{function q(_){A.handleChange=()=>{A.index=0,_()},A.handleChange()}return R(q)})}function X9(){let T=q6.getStore();if(!T)throw new jC("[Inquirer] Hook functions can only be called from within a prompt");return T}function FC(){return X9().rl}function bC(T){let R=(...A)=>{let q=X9(),_=!1,h=q.handleChange;q.handleChange=()=>{_=!0};let B=T(...A);if(_)h();return q.handleChange=h,B};return C2.bind(R)}function JA(T){let R=X9(),{index:A}=R,q={get(){return R.hooks[A]},set(h){R.hooks[A]=h},initialized:A in R.hooks},_=T(q);return R.index++,_}function h6(){X9().handleChange()}var Z9={queue(T){let R=X9(),{index:A}=R;R.hooksEffect.push(()=>{R.hooksCleanup[A]?.();let q=T(FC());if(q!=null&&typeof q!=="function")throw new z9("useEffect return value must be a cleanup function or nothing.");R.hooksCleanup[A]=q})},run(){let T=X9();bC(()=>{T.hooksEffect.forEach((R)=>{R()}),T.hooksEffect.length=0})()},clearAll(){let T=X9();T.hooksCleanup.forEach((R)=>{R?.()}),T.hooksEffect.length=0,T.hooksCleanup.length=0}};function uT(T){return JA((R)=>{let A=(_)=>{if(R.get()!==_)R.set(_),h6()};if(R.initialized)return[R.get(),A];let q=typeof T==="function"?T():T;return R.set(q),[q,A]})}function f9(T,R){JA((A)=>{let q=A.get();if(!Array.isArray(q)||R.some((h,B)=>!Object.is(h,q[B])))Z9.queue(T);A.set(R)})}var BR=XT(eA(),1);import KR from"node:process";function H2(){if(KR.platform!=="win32")return KR.env.TERM!=="linux";return Boolean(KR.env.WT_SESSION)||Boolean(KR.env.TERMINUS_SUBLIME)||KR.env.ConEmuTask==="{cmd::Cmder}"||KR.env.TERM_PROGRAM==="Terminus-Sublime"||KR.env.TERM_PROGRAM==="vscode"||KR.env.TERM==="xterm-256color"||KR.env.TERM==="alacritty"||KR.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var C6={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"",squareDarkShade:"",squareMediumShade:"",squareLightShade:"",squareTop:"",squareBottom:"",squareLeft:"",squareRight:"",squareCenter:"",bullet:"",dot:"",ellipsis:"",pointerSmall:"",triangleUp:"",triangleUpSmall:"",triangleDown:"",triangleDownSmall:"",triangleLeftSmall:"",triangleRightSmall:"",home:"",heart:"",musicNote:"",musicNoteBeamed:"",arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",arrowLeftRight:"",arrowUpDown:"",almostEqual:"",notEqual:"",lessOrEqual:"",greaterOrEqual:"",identical:"",infinity:"",subscriptZero:"",subscriptOne:"",subscriptTwo:"",subscriptThree:"",subscriptFour:"",subscriptFive:"",subscriptSix:"",subscriptSeven:"",subscriptEight:"",subscriptNine:"",oneHalf:"",oneThird:"",oneQuarter:"",oneFifth:"",oneSixth:"",oneEighth:"",twoThirds:"",twoFifths:"",threeQuarters:"",threeFifths:"",threeEighths:"",fourFifths:"",fiveSixths:"",fiveEighths:"",sevenEighths:"",line:"",lineBold:"",lineDouble:"",lineDashed0:"",lineDashed1:"",lineDashed2:"",lineDashed3:"",lineDashed4:"",lineDashed5:"",lineDashed6:"",lineDashed7:"",lineDashed8:"",lineDashed9:"",lineDashed10:"",lineDashed11:"",lineDashed12:"",lineDashed13:"",lineDashed14:"",lineDashed15:"",lineVertical:"",lineVerticalBold:"",lineVerticalDouble:"",lineVerticalDashed0:"",lineVerticalDashed1:"",lineVerticalDashed2:"",lineVerticalDashed3:"",lineVerticalDashed4:"",lineVerticalDashed5:"",lineVerticalDashed6:"",lineVerticalDashed7:"",lineVerticalDashed8:"",lineVerticalDashed9:"",lineVerticalDashed10:"",lineVerticalDashed11:"",lineDownLeft:"",lineDownLeftArc:"",lineDownBoldLeftBold:"",lineDownBoldLeft:"",lineDownLeftBold:"",lineDownDoubleLeftDouble:"",lineDownDoubleLeft:"",lineDownLeftDouble:"",lineDownRight:"",lineDownRightArc:"",lineDownBoldRightBold:"",lineDownBoldRight:"",lineDownRightBold:"",lineDownDoubleRightDouble:"",lineDownDoubleRight:"",lineDownRightDouble:"",lineUpLeft:"",lineUpLeftArc:"",lineUpBoldLeftBold:"",lineUpBoldLeft:"",lineUpLeftBold:"",lineUpDoubleLeftDouble:"",lineUpDoubleLeft:"",lineUpLeftDouble:"",lineUpRight:"",lineUpRightArc:"",lineUpBoldRightBold:"",lineUpBoldRight:"",lineUpRightBold:"",lineUpDoubleRightDouble:"",lineUpDoubleRight:"",lineUpRightDouble:"",lineUpDownLeft:"",lineUpBoldDownBoldLeftBold:"",lineUpBoldDownBoldLeft:"",lineUpDownLeftBold:"",lineUpBoldDownLeftBold:"",lineUpDownBoldLeftBold:"",lineUpDownBoldLeft:"",lineUpBoldDownLeft:"",lineUpDoubleDownDoubleLeftDouble:"",lineUpDoubleDownDoubleLeft:"",lineUpDownLeftDouble:"",lineUpDownRight:"",lineUpBoldDownBoldRightBold:"",lineUpBoldDownBoldRight:"",lineUpDownRightBold:"",lineUpBoldDownRightBold:"",lineUpDownBoldRightBold:"",lineUpDownBoldRight:"",lineUpBoldDownRight:"",lineUpDoubleDownDoubleRightDouble:"",lineUpDoubleDownDoubleRight:"",lineUpDownRightDouble:"",lineDownLeftRight:"",lineDownBoldLeftBoldRightBold:"",lineDownLeftBoldRightBold:"",lineDownBoldLeftRight:"",lineDownBoldLeftBoldRight:"",lineDownBoldLeftRightBold:"",lineDownLeftRightBold:"",lineDownLeftBoldRight:"",lineDownDoubleLeftDoubleRightDouble:"",lineDownDoubleLeftRight:"",lineDownLeftDoubleRightDouble:"",lineUpLeftRight:"",lineUpBoldLeftBoldRightBold:"",lineUpLeftBoldRightBold:"",lineUpBoldLeftRight:"",lineUpBoldLeftBoldRight:"",lineUpBoldLeftRightBold:"",lineUpLeftRightBold:"",lineUpLeftBoldRight:"",lineUpDoubleLeftDoubleRightDouble:"",lineUpDoubleLeftRight:"",lineUpLeftDoubleRightDouble:"",lineUpDownLeftRight:"",lineUpBoldDownBoldLeftBoldRightBold:"",lineUpDownBoldLeftBoldRightBold:"",lineUpBoldDownLeftBoldRightBold:"",lineUpBoldDownBoldLeftRightBold:"",lineUpBoldDownBoldLeftBoldRight:"",lineUpBoldDownLeftRight:"",lineUpDownBoldLeftRight:"",lineUpDownLeftBoldRight:"",lineUpDownLeftRightBold:"",lineUpBoldDownBoldLeftRight:"",lineUpDownLeftBoldRightBold:"",lineUpBoldDownLeftBoldRight:"",lineUpBoldDownLeftRightBold:"",lineUpDownBoldLeftBoldRight:"",lineUpDownBoldLeftRightBold:"",lineUpDoubleDownDoubleLeftDoubleRightDouble:"",lineUpDoubleDownDoubleLeftRight:"",lineUpDownLeftDoubleRightDouble:"",lineCross:"",lineBackslash:"",lineSlash:""},D6={tick:"",info:"",warning:"",cross:"",squareSmall:"",squareSmallFilled:"",circle:"",circleFilled:"",circleDotted:"",circleDouble:"",circleCircle:"",circleCross:"",circlePipe:"",radioOn:"",radioOff:"",checkboxOn:"",checkboxOff:"",checkboxCircleOn:"",checkboxCircleOff:"",pointer:"",triangleUpOutline:"",triangleLeft:"",triangleRight:"",lozenge:"",lozengeOutline:"",hamburger:"",smiley:"",mustache:"",star:"",play:"",nodejs:"",oneSeventh:"",oneNinth:"",oneTenth:""},J2={tick:"",info:"i",warning:"",cross:"",squareSmall:"",squareSmallFilled:"",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"()",circleCross:"()",circlePipe:"()",radioOn:"(*)",radioOff:"( )",checkboxOn:"[]",checkboxOff:"[ ]",checkboxCircleOn:"()",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"",triangleLeft:"",triangleRight:"",lozenge:"",lozengeOutline:"",hamburger:"",smiley:"",mustache:"",star:"",play:"",nodejs:"",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},y2={...C6,...D6},i2={...C6,...J2},$2=H2(),I2=$2?y2:i2,GR=I2,EL=Object.entries(D6);var O6={prefix:{idle:BR.default.blue("?"),done:BR.default.green(GR.tick)},spinner:{interval:80,frames:["","","","","","","","","",""].map((T)=>BR.default.yellow(T))},style:{answer:BR.default.cyan,message:BR.default.bold,error:(T)=>BR.default.red(`> ${T}`),defaultAnswer:(T)=>BR.default.dim(`(${T})`),help:BR.default.dim,highlight:BR.default.cyan,key:(T)=>BR.default.cyan(BR.default.bold(`<${T}>`))}};function W6(T){if(typeof T!=="object"||T===null)return!1;let R=T;while(Object.getPrototypeOf(R)!==null)R=Object.getPrototypeOf(R);return Object.getPrototypeOf(T)===R}function H6(...T){let R={};for(let A of T)for(let[q,_]of Object.entries(A)){let h=R[q];R[q]=W6(h)&&W6(_)?H6(h,_):_}return R}function ER(...T){let R=[O6,...T.filter((A)=>A!=null)];return H6(...R)}function mR({status:T="idle",theme:R}){let[A,q]=uT(!1),[_,h]=uT(0),{prefix:B,spinner:C}=ER(R);if(f9(()=>{if(T==="loading"){let D,W=-1,H=setTimeout(J6.bind(()=>{q(!0),D=setInterval(J6.bind(()=>{W=W+1,h(W%C.frames.length)}),C.interval)}),300);return()=>{clearTimeout(H),clearInterval(D)}}else q(!1)},[T]),A)return C.frames[_];return typeof B==="string"?B:B[T==="loading"?"idle":T]??B.idle}function U9(T,R){return JA((A)=>{let q=A.get();if(!q||q.dependencies.length!==R.length||q.dependencies.some((_,h)=>_!==R[h])){let _=T();return A.set({value:_,dependencies:R}),_}return q.value})}function LR(T){return uT({current:T})[0]}function lR(T){let R=LR(T);R.current=T,f9((A)=>{let q=!1,_=bC((h,B)=>{if(q)return;R.current(B,A)});return A.input.on("keypress",_),()=>{q=!0,A.input.removeListener("keypress",_)}},[])}var w6=XT(i6(),1),V6=XT(c6(),1);function Aq(T,R){return T.split(`
`).flatMap((A)=>V6.default(A,R,{trim:!1,hard:!0}).split(`
`).map((q)=>q.trimEnd())).join(`
`)}function $_(){return w6.default({defaultWidth:80,output:FC().output})}function P2(T,R){return Aq(T,R).split(`
`)}function Y2(T,R){let A=R.length,q=(T%A+A)%A;return[...R.slice(q),...R.slice(0,q)]}function v6({items:T,width:R,renderItem:A,active:q,position:_,pageSize:h}){let B=T.map(($,E)=>({item:$,index:E,isActive:E===q})),C=Y2(q-_,B).slice(0,h),O=($)=>C[$]==null?[]:P2(A(C[$]),R),D=Array.from({length:h}),W=O(_).slice(0,h),H=_+W.length<=h?_:h-W.length;D.splice(H,W.length,...W);let J=H+W.length,y=_+1;while(J<h&&y<C.length){for(let $ of O(y))if(D[J++]=$,J>=h)break;y++}J=H-1,y=_-1;while(J>=0&&y>=0){for(let $ of O(y).reverse())if(D[J--]=$,J<0)break;y--}return D.filter(($)=>typeof $==="string")}function m6({active:T,pageSize:R,total:A}){let q=Math.floor(R/2);if(A<=R||T<q)return T;if(T>=A-q)return T+R-A;return q}function l6({active:T,lastActive:R,total:A,pageSize:q,pointer:_}){if(A<=q)return T;if(R<T&&T-R<q)return Math.min(Math.floor(q/2),_+T-R);return _}function qq({items:T,active:R,renderItem:A,pageSize:q,loop:_=!0}){let h=LR({position:0,lastActive:0}),B=_?l6({active:R,lastActive:h.current.lastActive,total:T.length,pageSize:q,pointer:h.current.position}):m6({active:R,total:T.length,pageSize:q});return h.current.position=B,h.current.lastActive=R,v6({items:T,width:$_(),renderItem:A,active:R,position:B,pageSize:q}).join(`
`)}var q7=XT(r6(),1);import*as A7 from"node:readline";import{AsyncResource as d2}from"node:async_hooks";var M9=[];M9.push("SIGHUP","SIGINT","SIGTERM");if(process.platform!=="win32")M9.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");if(process.platform==="linux")M9.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var I_=(T)=>!!T&&typeof T==="object"&&typeof T.removeListener==="function"&&typeof T.emit==="function"&&typeof T.reallyExit==="function"&&typeof T.listeners==="function"&&typeof T.kill==="function"&&typeof T.pid==="number"&&typeof T.on==="function",LC=Symbol.for("signal-exit emitter"),gC=globalThis,w2=Object.defineProperty.bind(Object);class p6{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(gC[LC])return gC[LC];w2(gC,LC,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(T,R){this.listeners[T].push(R)}removeListener(T,R){let A=this.listeners[T],q=A.indexOf(R);if(q===-1)return;if(q===0&&A.length===1)A.length=0;else A.splice(q,1)}emit(T,R,A){if(this.emitted[T])return!1;this.emitted[T]=!0;let q=!1;for(let _ of this.listeners[T])q=_(R,A)===!0||q;if(T==="exit")q=this.emit("afterExit",R,A)||q;return q}}class zC{}var V2=(T)=>{return{onExit(R,A){return T.onExit(R,A)},load(){return T.load()},unload(){return T.unload()}}};class n6 extends zC{onExit(){return()=>{}}load(){}unload(){}}class s6 extends zC{#q=xC.platform==="win32"?"SIGINT":"SIGHUP";#A=new p6;#T;#h;#J;#R={};#B=!1;constructor(T){super();this.#T=T,this.#R={};for(let R of M9)this.#R[R]=()=>{let A=this.#T.listeners(R),{count:q}=this.#A,_=T;if(typeof _.__signal_exit_emitter__==="object"&&typeof _.__signal_exit_emitter__.count==="number")q+=_.__signal_exit_emitter__.count;if(A.length===q){this.unload();let h=this.#A.emit("exit",null,R),B=R==="SIGHUP"?this.#q:R;if(!h)T.kill(T.pid,B)}};this.#J=T.reallyExit,this.#h=T.emit}onExit(T,R){if(!I_(this.#T))return()=>{};if(this.#B===!1)this.load();let A=R?.alwaysLast?"afterExit":"exit";return this.#A.on(A,T),()=>{if(this.#A.removeListener(A,T),this.#A.listeners.exit.length===0&&this.#A.listeners.afterExit.length===0)this.unload()}}load(){if(this.#B)return;this.#B=!0,this.#A.count+=1;for(let T of M9)try{let R=this.#R[T];if(R)this.#T.on(T,R)}catch(R){}this.#T.emit=(T,...R)=>{return this.#y(T,...R)},this.#T.reallyExit=(T)=>{return this.#_(T)}}unload(){if(!this.#B)return;this.#B=!1,M9.forEach((T)=>{let R=this.#R[T];if(!R)throw new Error("Listener not defined for signal: "+T);try{this.#T.removeListener(T,R)}catch(A){}}),this.#T.emit=this.#h,this.#T.reallyExit=this.#J,this.#A.count-=1}#_(T){if(!I_(this.#T))return 0;return this.#T.exitCode=T||0,this.#A.emit("exit",this.#T.exitCode,null),this.#J.call(this.#T,this.#T.exitCode)}#y(T,...R){let A=this.#h;if(T==="exit"&&I_(this.#T)){if(typeof R[0]==="number")this.#T.exitCode=R[0];let q=A.call(this.#T,T,...R);return this.#A.emit("exit",this.#T.exitCode,null),q}else return A.call(this.#T,T,...R)}}var xC=globalThis.process,{onExit:E_,load:Cg,unload:Dg}=V2(I_(xC)?new s6(xC):new n6);var R7=XT(J_(),1),W9=XT(F_(),1);var e6=(T)=>T.split(`
`).length,l2=(T)=>T.split(`
`).pop()??"";function T7(T){return T>0?W9.default.cursorDown(T):""}class b_{rl;height=0;extraLinesUnderPrompt=0;cursorPos;constructor(T){this.rl=T,this.rl=T,this.cursorPos=T.getCursorPos()}write(T){this.rl.output.unmute(),this.rl.output.write(T),this.rl.output.mute()}render(T,R=""){let A=l2(T),q=R7.default(A),_=q;if(this.rl.line.length>0)_=_.slice(0,-this.rl.line.length);this.rl.setPrompt(_),this.cursorPos=this.rl.getCursorPos();let h=$_();if(T=Aq(T,h),R=Aq(R,h),q.length%h===0)T+=`
`;let B=T+(R?`
`+R:""),O=Math.floor(q.length/h)-this.cursorPos.rows+(R?e6(R):0);if(O>0)B+=W9.default.cursorUp(O);B+=W9.default.cursorTo(this.cursorPos.cols),this.write(T7(this.extraLinesUnderPrompt)+W9.default.eraseLines(this.height)+B),this.extraLinesUnderPrompt=O,this.height=e6(B)}checkCursorPos(){let T=this.rl.getCursorPos();if(T.cols!==this.cursorPos.cols)this.write(W9.default.cursorTo(T.cols)),this.cursorPos=T}done({clearContent:T}){this.rl.setPrompt("");let R=T7(this.extraLinesUnderPrompt);R+=T?W9.default.eraseLines(this.height):`
`,R+=W9.default.cursorShow,this.write(R),this.rl.close()}}class ZC extends Promise{static withResolver(){let T,R;return{promise:new Promise((q,_)=>{T=q,R=_}),resolve:T,reject:R}}}function o2(){let T=Error.prepareStackTrace;try{let R=[];return Error.prepareStackTrace=(A,q)=>{let _=q.slice(1);return R=_,_},new Error().stack,R}finally{Error.prepareStackTrace=T}}function dR(T){let A=o2()[1]?.getFileName?.();return(_,h={})=>{let{input:B=process.stdin,signal:C}=h,O=new Set,D=new q7.default;D.pipe(h.output??process.stdout);let W=A7.createInterface({terminal:!0,input:B,output:D}),H=new b_(W),{promise:J,resolve:y,reject:$}=ZC.withResolver(),E=()=>$(new IC);if(C){let K=()=>$(new $C({cause:C.reason}));if(C.aborted)return K(),Object.assign(J,{cancel:E});C.addEventListener("abort",K),O.add(()=>C.removeEventListener("abort",K))}O.add(E_((K,k)=>{$(new EC(`User force closed the prompt with ${K} ${k}`))}));let N=()=>H.checkCursorPos();return W.input.on("keypress",N),O.add(()=>W.input.removeListener("keypress",N)),_6(W,(K)=>{let k=d2.bind(()=>Z9.clearAll());return W.on("close",k),O.add(()=>W.removeListener("close",k)),K(()=>{try{let G=T(_,(P)=>{setImmediate(()=>y(P))});if(G===void 0)throw new Error(`Prompt functions must return a string.
    at ${A}`);let[F,g]=typeof G==="string"?[G]:G;H.render(F,g),Z9.run()}catch(G){$(G)}}),Object.assign(J.then((G)=>{return Z9.clearAll(),G},(G)=>{throw Z9.clearAll(),G}).finally(()=>{O.forEach((G)=>G()),H.done({clearContent:Boolean(h.clearPromptOnDone)}),D.end()}).then(()=>J),{cancel:E})})}}var _7=XT(eA(),1);class CR{separator=_7.default.dim(Array.from({length:15}).join(GR.line));type="separator";constructor(T){if(T)this.separator=T}static isSeparator(T){return Boolean(T&&typeof T==="object"&&"type"in T&&T.type==="separator")}}var Q_=XT(eA(),1);var h7=XT(F_(),1);var r2={icon:{checked:Q_.default.green(GR.circleFilled),unchecked:GR.circle,cursor:GR.pointer},style:{disabledChoice:(T)=>Q_.default.dim(`- ${T}`),renderSelectedChoices:(T)=>T.map((R)=>R.short).join(", "),description:(T)=>Q_.default.cyan(T)},helpMode:"auto"};function H9(T){return!CR.isSeparator(T)&&!T.disabled}function fC(T){return H9(T)&&Boolean(T.checked)}function UC(T){return H9(T)?{...T,checked:!T.checked}:T}function p2(T){return function(R){return H9(R)?{...R,checked:T}:R}}function n2(T){return T.map((R)=>{if(CR.isSeparator(R))return R;if(typeof R==="string")return{value:R,name:R,short:R,disabled:!1,checked:!1};let A=R.name??String(R.value);return{value:R.value,name:A,short:R.short??A,description:R.description,disabled:R.disabled??!1,checked:R.checked??!1}})}var hq=dR((T,R)=>{let{instructions:A,pageSize:q=7,loop:_=!0,required:h,validate:B=()=>!0}=T,C=ER(r2,T.theme),O=LR(!0),[D,W]=uT("idle"),H=mR({status:D,theme:C}),[J,y]=uT(n2(T.choices)),$=U9(()=>{let Y=J.findIndex(H9),s=J.findLastIndex(H9);if(Y===-1)throw new z9("[checkbox prompt] No selectable choices. All choices are disabled.");return{first:Y,last:s}},[J]),[E,N]=uT($.first),[K,k]=uT(!0),[G,F]=uT();lR(async(Y)=>{if(O9(Y)){let s=J.filter(fC),DT=await B([...s]);if(h&&!J.some(fC))F("At least one choice must be selected");else if(DT===!0)W("done"),R(s.map((HR)=>HR.value));else F(DT||"You must select a valid value")}else if(D9(Y)||HA(Y)){if(_||D9(Y)&&E!==$.first||HA(Y)&&E!==$.last){let s=D9(Y)?-1:1,DT=E;do DT=(DT+s+J.length)%J.length;while(!H9(J[DT]));N(DT)}}else if(A6(Y))F(void 0),k(!1),y(J.map((s,DT)=>DT===E?UC(s):s));else if(Y.name==="a"){let s=J.some((DT)=>H9(DT)&&!DT.checked);y(J.map(p2(s)))}else if(Y.name==="i")y(J.map(UC));else if(H_(Y)){let s=Number(Y.name)-1,DT=J[s];if(DT!=null&&H9(DT))N(s),y(J.map((HR,JR)=>JR===s?UC(HR):HR))}});let g=C.style.message(T.message,D),P,V=qq({items:J,active:E,renderItem({item:Y,isActive:s}){if(CR.isSeparator(Y))return` ${Y.separator}`;if(Y.disabled){let bR=typeof Y.disabled==="string"?Y.disabled:"(disabled)";return C.style.disabledChoice(`${Y.name} ${bR}`)}if(s)P=Y.description;let DT=Y.checked?C.icon.checked:C.icon.unchecked,HR=s?C.style.highlight:(bR)=>bR,JR=s?C.icon.cursor:" ";return HR(`${JR}${DT} ${Y.name}`)},pageSize:q,loop:_});if(D==="done"){let Y=J.filter(fC),s=C.style.answer(C.style.renderSelectedChoices(Y,J));return`${H} ${g} ${s}`}let m="",kT="";if(C.helpMode==="always"||C.helpMode==="auto"&&K&&(A===void 0||A)){if(typeof A==="string")m=A;else m=` (Press ${[`${C.style.key("space")} to select`,`${C.style.key("a")} to toggle all`,`${C.style.key("i")} to invert selection`,`and ${C.style.key("enter")} to proceed`].join(", ")})`;if(J.length>q&&(C.helpMode==="always"||C.helpMode==="auto"&&O.current))kT=`
${C.style.help("(Use arrow keys to reveal more choices)")}`,O.current=!1}let TR=P?`
${C.style.description(P)}`:"",d="";if(G)d=`
${C.style.error(G)}`;return`${H} ${g}${m}
${V}${kT}${TR}${d}${h7.default.cursorHide}`});function B7(T,R){let A=R!==!1;if(/^(y|yes)/i.test(T))A=!0;else if(/^(n|no)/i.test(T))A=!1;return A}function C7(T){return T?"Yes":"No"}var Bq=dR((T,R)=>{let{transformer:A=C7}=T,[q,_]=uT("idle"),[h,B]=uT(""),C=ER(T.theme),O=mR({status:q,theme:C});lR((J,y)=>{if(O9(J)){let $=B7(h,T.default);B(A($)),_("done"),R($)}else if(J.name==="tab"){let $=C7(!B7(h,T.default));y.clearLine(0),y.write($),B($)}else B(y.line)});let D=h,W="";if(q==="done")D=C.style.answer(h);else W=` ${C.style.defaultAnswer(T.default===!1?"y/N":"Y/n")}`;let H=C.style.message(T.message,q);return`${O} ${H}${W} ${D}`});var s2={validationFailureMode:"keep"},tT=dR((T,R)=>{let{required:A,validate:q=()=>!0}=T,_=ER(s2,T.theme),[h,B]=uT("idle"),[C="",O]=uT(T.default),[D,W]=uT(),[H,J]=uT(""),y=mR({status:h,theme:_});lR(async(k,G)=>{if(h!=="idle")return;if(O9(k)){let F=H||C;B("loading");let g=A&&!F?"You must provide a value":await q(F);if(g===!0)J(F),B("done"),R(F);else{if(_.validationFailureMode==="clear")J("");else G.write(H);W(g||"You must provide a valid value"),B("idle")}}else if(W_(k)&&!H)O(void 0);else if(k.name==="tab"&&!H)O(void 0),G.clearLine(0),G.write(C),J(C);else J(G.line),W(void 0)});let $=_.style.message(T.message,h),E=H;if(typeof T.transformer==="function")E=T.transformer(H,{isFinal:h==="done"});else if(h==="done")E=_.style.answer(H);let N;if(C&&h!=="done"&&!H)N=_.style.defaultAnswer(C);let K="";if(D)K=_.style.error(D);return[[y,$,N,E].filter((k)=>k!==void 0).join(" "),K]});var MC=XT(eA(),1);var D7=XT(F_(),1);var t2={icon:{cursor:GR.pointer},style:{disabled:(T)=>MC.default.dim(`- ${T}`),description:(T)=>MC.default.cyan(T)},helpMode:"auto"};function EA(T){return!CR.isSeparator(T)&&!T.disabled}function e2(T){return T.map((R)=>{if(CR.isSeparator(R))return R;if(typeof R==="string")return{value:R,name:R,short:R,disabled:!1};let A=R.name??String(R.value);return{value:R.value,name:A,description:R.description,short:R.short??A,disabled:R.disabled??!1}})}var oR=dR((T,R)=>{let{loop:A=!0,pageSize:q=7}=T,_=LR(!0),h=ER(t2,T.theme),[B,C]=uT("idle"),O=mR({status:B,theme:h}),D=LR(),W=U9(()=>e2(T.choices),[T.choices]),H=U9(()=>{let g=W.findIndex(EA),P=W.findLastIndex(EA);if(g===-1)throw new z9("[select prompt] No selectable choices. All choices are disabled.");return{first:g,last:P}},[W]),J=U9(()=>{if(!("default"in T))return-1;return W.findIndex((g)=>EA(g)&&g.value===T.default)},[T.default,W]),[y,$]=uT(J===-1?H.first:J),E=W[y];lR((g,P)=>{if(clearTimeout(D.current),O9(g))C("done"),R(E.value);else if(D9(g)||HA(g)){if(P.clearLine(0),A||D9(g)&&y!==H.first||HA(g)&&y!==H.last){let V=D9(g)?-1:1,m=y;do m=(m+V+W.length)%W.length;while(!EA(W[m]));$(m)}}else if(H_(g)){P.clearLine(0);let V=Number(g.name)-1,m=W[V];if(m!=null&&EA(m))$(V)}else if(W_(g))P.clearLine(0);else{let V=P.line.toLowerCase(),m=W.findIndex((kT)=>{if(CR.isSeparator(kT)||!EA(kT))return!1;return kT.name.toLowerCase().startsWith(V)});if(m!==-1)$(m);D.current=setTimeout(()=>{P.clearLine(0)},700)}}),f9(()=>()=>{clearTimeout(D.current)},[]);let N=h.style.message(T.message,B),K="",k="";if(h.helpMode==="always"||h.helpMode==="auto"&&_.current)if(_.current=!1,W.length>q)k=`
${h.style.help("(Use arrow keys to reveal more choices)")}`;else K=h.style.help("(Use arrow keys)");let G=qq({items:W,active:y,renderItem({item:g,isActive:P}){if(CR.isSeparator(g))return` ${g.separator}`;if(g.disabled){let kT=typeof g.disabled==="string"?g.disabled:"(disabled)";return h.style.disabled(`${g.name} ${kT}`)}let V=P?h.style.highlight:(kT)=>kT,m=P?h.icon.cursor:" ";return V(`${m} ${g.name}`)},pageSize:q,loop:A});if(B==="done")return`${O} ${N} ${h.style.answer(E.short)}`;let F=E.description?`
${h.style.description(E.description)}`:"";return`${[O,N,K].filter(Boolean).join(" ")}
${G}${k}${F}${D7.default.cursorHide}`});var SC=Symbol("singleComment"),O7=Symbol("multiComment"),T1=()=>"",R1=(T,R,A)=>T.slice(R,A).replace(/\S/g," "),A1=(T,R)=>{let A=R-1,q=0;while(T[A]==="\\")A-=1,q+=1;return Boolean(q%2)};function Cq(T,{whitespace:R=!0,trailingCommas:A=!1}={}){if(typeof T!=="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof T}\``);let q=R?R1:T1,_=!1,h=!1,B=0,C="",O="",D=-1;for(let W=0;W<T.length;W++){let H=T[W],J=T[W+1];if(!h&&H==='"'){if(!A1(T,W))_=!_}if(_)continue;if(!h&&H+J==="//")C+=T.slice(B,W),B=W,h=SC,W++;else if(h===SC&&H+J===`\r
`){W++,h=!1,C+=q(T,B,W),B=W;continue}else if(h===SC&&H===`
`)h=!1,C+=q(T,B,W),B=W;else if(!h&&H+J==="/*"){C+=T.slice(B,W),B=W,h=O7,W++;continue}else if(h===O7&&H+J==="*/"){W++,h=!1,C+=q(T,B,W+1),B=W+1;continue}else if(A&&!h){if(D!==-1){if(H==="}"||H==="]")C+=T.slice(B,W),O+=q(C,0,1)+C.slice(1),C="",B=W,D=-1;else if(H!==" "&&H!=="\t"&&H!=="\r"&&H!==`
`)C+=T.slice(B,W),B=W,D=-1}else if(H===",")O+=C+T.slice(B,W),C="",B=W,D=W}}return O+C+(h?q(T.slice(B)):T.slice(B))}async function J7(){if(!xT.doesConfigExist())NT("Configuration file justd.json not found. Please run the init command first.");let R=await xT.loadConfig();if(jA.existsSync(R.css)){if(await Bq({message:`The specified CSS path '${R.css}' exists. Do you want to use this path?`}))return R.css}else console.warn(`The specified CSS path '${R.css}' does not exist.`);let A=await tT({message:"Please provide a CSS path:",default:x9()});return await xT.updateConfig({css:A}),A}async function y7(T){let A=(T==="typescript"?[Oq.join(process.cwd(),"tsconfig.app.json"),Oq.join(process.cwd(),"tsconfig.json")]:[Oq.join(process.cwd(),"jsconfig.json")]).find((q)=>jA.existsSync(q));if(!A)console.error(T==="typescript"?"Neither tsconfig.app.json nor tsconfig.json was found.":"jsconfig.json was not found."),process.exit(1);try{let q=jA.readFileSync(A,"utf8"),_=Cq(q),h=JSON.parse(_);if(!h.compilerOptions)h.compilerOptions={};if(!h.compilerOptions.paths)h.compilerOptions.paths={};let B=T==="typescript"?"ts":"js";h.compilerOptions.paths.ui=[`./${OA()}/ui/index.${B}`],jA.writeFileSync(A,JSON.stringify(h,null,2)),console.log(`Updated ${Oq.basename(A)} with ui path.`)}catch(q){console.error(`Error updating ${Oq.basename(A)}:`,q)}}var rR=async(T,R)=>{let A=/import\s*{.*}\s*from\s*['"]@\/(.*)['"]/g,q=R.content.replace(A,(h)=>{return h.replace("@/",`${T.alias}/`)});if(!YT())q=q.replace(/['"]use client['"]\s*\n?/g,"");let _;if(C9())_=T.utils.replace(/^resources\/js\//,"");else if(UT("src"))_=T.utils.replace(/^src\//,"");else _=T.utils;if(q=q.replace(/@\/utils\/classes/g,`@/${_}/classes`),T.language==="javascript"){let h=await Promise.resolve().then(() => XT(H7(),1)),{code:B}=h.transform(R.ogFilename,q,{sourcemap:!1,jsx:"preserve"});jA.writeFileSync(R.writePath.replace(".ts",".js"),B,{flag:"w"});return}jA.writeFileSync(R.writePath,q)};import g_ from"node:process";var i7=(T=0)=>(R)=>`\x1B[${R+T}m`,$7=(T=0)=>(R)=>`\x1B[${38+T};5;${R}m`,I7=(T=0)=>(R,A,q)=>`\x1B[${38+T};2;${R};${A};${q}m`,QT={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Bx=Object.keys(QT.modifier),$1=Object.keys(QT.color),I1=Object.keys(QT.bgColor),Cx=[...$1,...I1];function E1(){let T=new Map;for(let[R,A]of Object.entries(QT)){for(let[q,_]of Object.entries(A))QT[q]={open:`\x1B[${_[0]}m`,close:`\x1B[${_[1]}m`},A[q]=QT[q],T.set(_[0],_[1]);Object.defineProperty(QT,R,{value:A,enumerable:!1})}return Object.defineProperty(QT,"codes",{value:T,enumerable:!1}),QT.color.close="\x1B[39m",QT.bgColor.close="\x1B[49m",QT.color.ansi=i7(),QT.color.ansi256=$7(),QT.color.ansi16m=I7(),QT.bgColor.ansi=i7(10),QT.bgColor.ansi256=$7(10),QT.bgColor.ansi16m=I7(10),Object.defineProperties(QT,{rgbToAnsi256:{value(R,A,q){if(R===A&&A===q){if(R<8)return 16;if(R>248)return 231;return Math.round((R-8)/247*24)+232}return 16+36*Math.round(R/255*5)+6*Math.round(A/255*5)+Math.round(q/255*5)},enumerable:!1},hexToRgb:{value(R){let A=/[a-f\d]{6}|[a-f\d]{3}/i.exec(R.toString(16));if(!A)return[0,0,0];let[q]=A;if(q.length===3)q=[...q].map((h)=>h+h).join("");let _=Number.parseInt(q,16);return[_>>16&255,_>>8&255,_&255]},enumerable:!1},hexToAnsi256:{value:(R)=>QT.rgbToAnsi256(...QT.hexToRgb(R)),enumerable:!1},ansi256ToAnsi:{value(R){if(R<8)return 30+R;if(R<16)return 90+(R-8);let A,q,_;if(R>=232)A=((R-232)*10+8)/255,q=A,_=A;else{R-=16;let C=R%36;A=Math.floor(R/36)/5,q=Math.floor(C/6)/5,_=C%6/5}let h=Math.max(A,q,_)*2;if(h===0)return 30;let B=30+(Math.round(_)<<2|Math.round(q)<<1|Math.round(A));if(h===2)B+=60;return B},enumerable:!1},rgbToAnsi:{value:(R,A,q)=>QT.ansi256ToAnsi(QT.rgbToAnsi256(R,A,q)),enumerable:!1},hexToAnsi:{value:(R)=>QT.ansi256ToAnsi(QT.hexToAnsi256(R)),enumerable:!1}}),QT}var j1=E1(),jR=j1;import PC from"node:process";import F1 from"node:os";import E7 from"node:tty";function DR(T,R=globalThis.Deno?globalThis.Deno.args:PC.argv){let A=T.startsWith("-")?"":T.length===1?"-":"--",q=R.indexOf(A+T),_=R.indexOf("--");return q!==-1&&(_===-1||q<_)}var{env:aT}=PC,u_;if(DR("no-color")||DR("no-colors")||DR("color=false")||DR("color=never"))u_=0;else if(DR("color")||DR("colors")||DR("color=true")||DR("color=always"))u_=1;function b1(){if("FORCE_COLOR"in aT){if(aT.FORCE_COLOR==="true")return 1;if(aT.FORCE_COLOR==="false")return 0;return aT.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(aT.FORCE_COLOR,10),3)}}function Q1(T){if(T===0)return!1;return{level:T,hasBasic:!0,has256:T>=2,has16m:T>=3}}function N1(T,{streamIsTTY:R,sniffFlags:A=!0}={}){let q=b1();if(q!==void 0)u_=q;let _=A?u_:q;if(_===0)return 0;if(A){if(DR("color=16m")||DR("color=full")||DR("color=truecolor"))return 3;if(DR("color=256"))return 2}if("TF_BUILD"in aT&&"AGENT_NAME"in aT)return 1;if(T&&!R&&_===void 0)return 0;let h=_||0;if(aT.TERM==="dumb")return h;if(PC.platform==="win32"){let B=F1.release().split(".");if(Number(B[0])>=10&&Number(B[2])>=10586)return Number(B[2])>=14931?3:2;return 1}if("CI"in aT){if(["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some((B)=>(B in aT)))return 3;if(["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((B)=>(B in aT))||aT.CI_NAME==="codeship")return 1;return h}if("TEAMCITY_VERSION"in aT)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(aT.TEAMCITY_VERSION)?1:0;if(aT.COLORTERM==="truecolor")return 3;if(aT.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in aT){let B=Number.parseInt((aT.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(aT.TERM_PROGRAM){case"iTerm.app":return B>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(aT.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(aT.TERM))return 1;if("COLORTERM"in aT)return 1;return h}function j7(T,R={}){let A=N1(T,{streamIsTTY:T&&T.isTTY,...R});return Q1(A)}var u1={stdout:j7({isTTY:E7.isatty(1)}),stderr:j7({isTTY:E7.isatty(2)})},F7=u1;function b7(T,R,A){let q=T.indexOf(R);if(q===-1)return T;let _=R.length,h=0,B="";do B+=T.slice(h,q)+R+A,h=q+_,q=T.indexOf(R,h);while(q!==-1);return B+=T.slice(h),B}function Q7(T,R,A,q){let _=0,h="";do{let B=T[q-1]==="\r";h+=T.slice(_,B?q-1:q)+R+(B?`\r
`:`
`)+A,_=q+1,q=T.indexOf(`
`,_)}while(q!==-1);return h+=T.slice(_),h}var{stdout:N7,stderr:u7}=F7,YC=Symbol("GENERATOR"),FA=Symbol("STYLER"),Wq=Symbol("IS_EMPTY"),k7=["ansi","ansi","ansi256","ansi16m"],bA=Object.create(null),k1=(T,R={})=>{if(R.level&&!(Number.isInteger(R.level)&&R.level>=0&&R.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let A=N7?N7.level:0;T.level=R.level===void 0?A:R.level};var a1=(T)=>{let R=(...A)=>A.join(" ");return k1(R,T),Object.setPrototypeOf(R,Hq.prototype),R};function Hq(T){return a1(T)}Object.setPrototypeOf(Hq.prototype,Function.prototype);for(let[T,R]of Object.entries(jR))bA[T]={get(){let A=k_(this,wC(R.open,R.close,this[FA]),this[Wq]);return Object.defineProperty(this,T,{value:A}),A}};bA.visible={get(){let T=k_(this,this[FA],!0);return Object.defineProperty(this,"visible",{value:T}),T}};var cC=(T,R,A,...q)=>{if(T==="rgb"){if(R==="ansi16m")return jR[A].ansi16m(...q);if(R==="ansi256")return jR[A].ansi256(jR.rgbToAnsi256(...q));return jR[A].ansi(jR.rgbToAnsi(...q))}if(T==="hex")return cC("rgb",R,A,...jR.hexToRgb(...q));return jR[A][T](...q)},K1=["rgb","hex","ansi256"];for(let T of K1){bA[T]={get(){let{level:A}=this;return function(...q){let _=wC(cC(T,k7[A],"color",...q),jR.color.close,this[FA]);return k_(this,_,this[Wq])}}};let R="bg"+T[0].toUpperCase()+T.slice(1);bA[R]={get(){let{level:A}=this;return function(...q){let _=wC(cC(T,k7[A],"bgColor",...q),jR.bgColor.close,this[FA]);return k_(this,_,this[Wq])}}}}var G1=Object.defineProperties(()=>{},{...bA,level:{enumerable:!0,get(){return this[YC].level},set(T){this[YC].level=T}}}),wC=(T,R,A)=>{let q,_;if(A===void 0)q=T,_=R;else q=A.openAll+T,_=R+A.closeAll;return{open:T,close:R,openAll:q,closeAll:_,parent:A}},k_=(T,R,A)=>{let q=(..._)=>L1(q,_.length===1?""+_[0]:_.join(" "));return Object.setPrototypeOf(q,G1),q[YC]=T,q[FA]=R,q[Wq]=A,q},L1=(T,R)=>{if(T.level<=0||!R)return T[Wq]?"":R;let A=T[FA];if(A===void 0)return R;let{openAll:q,closeAll:_}=A;if(R.includes("\x1B"))while(A!==void 0)R=b7(R,A.close,A.open),A=A.parent;let h=R.indexOf(`
`);if(h!==-1)R=Q7(R,_,q,h);return q+R+_};Object.defineProperties(Hq.prototype,bA);var g1=Hq(),Ex=Hq({level:u7?u7.level:0});var zT=g1;import g7 from"node:process";import K_ from"node:process";var x1=(T,R,A,q)=>{if(A==="length"||A==="prototype")return;if(A==="arguments"||A==="caller")return;let _=Object.getOwnPropertyDescriptor(T,A),h=Object.getOwnPropertyDescriptor(R,A);if(!z1(_,h)&&q)return;Object.defineProperty(T,A,h)},z1=function(T,R){return T===void 0||T.configurable||T.writable===R.writable&&T.enumerable===R.enumerable&&T.configurable===R.configurable&&(T.writable||T.value===R.value)},X1=(T,R)=>{let A=Object.getPrototypeOf(R);if(A===Object.getPrototypeOf(T))return;Object.setPrototypeOf(T,A)},Z1=(T,R)=>`/* Wrapped ${T}*/
${R}`,f1=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),U1=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),M1=(T,R,A)=>{let q=A===""?"":`with ${A.trim()}() `,_=Z1.bind(null,q,R.toString());Object.defineProperty(_,"name",U1);let{writable:h,enumerable:B,configurable:C}=f1;Object.defineProperty(T,"toString",{value:_,writable:h,enumerable:B,configurable:C})};function VC(T,R,{ignoreNonConfigurable:A=!1}={}){let{name:q}=T;for(let _ of Reflect.ownKeys(R))x1(T,R,_,A);return X1(T,R),M1(T,R,q),T}var a_=new WeakMap,a7=(T,R={})=>{if(typeof T!=="function")throw new TypeError("Expected a function");let A,q=0,_=T.displayName||T.name||"<anonymous>",h=function(...B){if(a_.set(h,++q),q===1)A=T.apply(this,B),T=void 0;else if(R.throw===!0)throw new Error(`Function \`${_}\` can only be called once`);return A};return VC(h,T),a_.set(h,q),h};a7.callCount=(T)=>{if(!a_.has(T))throw new Error(`The given function \`${T.name}\` is not wrapped by the \`onetime\` package`);return a_.get(T)};var K7=a7;var G7=K_.stderr.isTTY?K_.stderr:K_.stdout.isTTY?K_.stdout:void 0,S1=G7?K7(()=>{E_(()=>{G7.write("\x1B[?25h")},{alwaysLast:!0})}):()=>{},L7=S1;var G_=!1,QA={};QA.show=(T=g7.stderr)=>{if(!T.isTTY)return;G_=!1,T.write("\x1B[?25h")};QA.hide=(T=g7.stderr)=>{if(!T.isTTY)return;L7(),G_=!0,T.write("\x1B[?25l")};QA.toggle=(T,R)=>{if(T!==void 0)G_=T;if(G_)QA.show(R);else QA.hide(R)};var vC=QA;var iq=XT(mC(),1);import FR from"node:process";function lC(){if(FR.platform!=="win32")return FR.env.TERM!=="linux";return Boolean(FR.env.CI)||Boolean(FR.env.WT_SESSION)||Boolean(FR.env.TERMINUS_SUBLIME)||FR.env.ConEmuTask==="{cmd::Cmder}"||FR.env.TERM_PROGRAM==="Terminus-Sublime"||FR.env.TERM_PROGRAM==="vscode"||FR.env.TERM==="xterm-256color"||FR.env.TERM==="alacritty"||FR.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Y1={info:zT.blue(""),success:zT.green(""),warning:zT.yellow(""),error:zT.red("")},c1={info:zT.blue("i"),success:zT.green(""),warning:zT.yellow(""),error:zT.red("")},w1=lC()?Y1:c1,Jq=w1;function dC({onlyFirst:T=!1}={}){let A=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(A,T?void 0:"g")}var V1=dC();function yq(T){if(typeof T!=="string")throw new TypeError(`Expected a \`string\`, got \`${typeof T}\``);return T.replace(V1,"")}function Z7(T){return T===161||T===164||T===167||T===168||T===170||T===173||T===174||T>=176&&T<=180||T>=182&&T<=186||T>=188&&T<=191||T===198||T===208||T===215||T===216||T>=222&&T<=225||T===230||T>=232&&T<=234||T===236||T===237||T===240||T===242||T===243||T>=247&&T<=250||T===252||T===254||T===257||T===273||T===275||T===283||T===294||T===295||T===299||T>=305&&T<=307||T===312||T>=319&&T<=322||T===324||T>=328&&T<=331||T===333||T===338||T===339||T===358||T===359||T===363||T===462||T===464||T===466||T===468||T===470||T===472||T===474||T===476||T===593||T===609||T===708||T===711||T>=713&&T<=715||T===717||T===720||T>=728&&T<=731||T===733||T===735||T>=768&&T<=879||T>=913&&T<=929||T>=931&&T<=937||T>=945&&T<=961||T>=963&&T<=969||T===1025||T>=1040&&T<=1103||T===1105||T===8208||T>=8211&&T<=8214||T===8216||T===8217||T===8220||T===8221||T>=8224&&T<=8226||T>=8228&&T<=8231||T===8240||T===8242||T===8243||T===8245||T===8251||T===8254||T===8308||T===8319||T>=8321&&T<=8324||T===8364||T===8451||T===8453||T===8457||T===8467||T===8470||T===8481||T===8482||T===8486||T===8491||T===8531||T===8532||T>=8539&&T<=8542||T>=8544&&T<=8555||T>=8560&&T<=8569||T===8585||T>=8592&&T<=8601||T===8632||T===8633||T===8658||T===8660||T===8679||T===8704||T===8706||T===8707||T===8711||T===8712||T===8715||T===8719||T===8721||T===8725||T===8730||T>=8733&&T<=8736||T===8739||T===8741||T>=8743&&T<=8748||T===8750||T>=8756&&T<=8759||T===8764||T===8765||T===8776||T===8780||T===8786||T===8800||T===8801||T>=8804&&T<=8807||T===8810||T===8811||T===8814||T===8815||T===8834||T===8835||T===8838||T===8839||T===8853||T===8857||T===8869||T===8895||T===8978||T>=9312&&T<=9449||T>=9451&&T<=9547||T>=9552&&T<=9587||T>=9600&&T<=9615||T>=9618&&T<=9621||T===9632||T===9633||T>=9635&&T<=9641||T===9650||T===9651||T===9654||T===9655||T===9660||T===9661||T===9664||T===9665||T>=9670&&T<=9672||T===9675||T>=9678&&T<=9681||T>=9698&&T<=9701||T===9711||T===9733||T===9734||T===9737||T===9742||T===9743||T===9756||T===9758||T===9792||T===9794||T===9824||T===9825||T>=9827&&T<=9829||T>=9831&&T<=9834||T===9836||T===9837||T===9839||T===9886||T===9887||T===9919||T>=9926&&T<=9933||T>=9935&&T<=9939||T>=9941&&T<=9953||T===9955||T===9960||T===9961||T>=9963&&T<=9969||T===9972||T>=9974&&T<=9977||T===9979||T===9980||T===9982||T===9983||T===10045||T>=10102&&T<=10111||T>=11094&&T<=11097||T>=12872&&T<=12879||T>=57344&&T<=63743||T>=65024&&T<=65039||T===65533||T>=127232&&T<=127242||T>=127248&&T<=127277||T>=127280&&T<=127337||T>=127344&&T<=127373||T===127375||T===127376||T>=127387&&T<=127404||T>=917760&&T<=917999||T>=983040&&T<=1048573||T>=1048576&&T<=1114109}function f7(T){return T===12288||T>=65281&&T<=65376||T>=65504&&T<=65510}function U7(T){return T>=4352&&T<=4447||T===8986||T===8987||T===9001||T===9002||T>=9193&&T<=9196||T===9200||T===9203||T===9725||T===9726||T===9748||T===9749||T>=9776&&T<=9783||T>=9800&&T<=9811||T===9855||T>=9866&&T<=9871||T===9875||T===9889||T===9898||T===9899||T===9917||T===9918||T===9924||T===9925||T===9934||T===9940||T===9962||T===9970||T===9971||T===9973||T===9978||T===9981||T===9989||T===9994||T===9995||T===10024||T===10060||T===10062||T>=10067&&T<=10069||T===10071||T>=10133&&T<=10135||T===10160||T===10175||T===11035||T===11036||T===11088||T===11093||T>=11904&&T<=11929||T>=11931&&T<=12019||T>=12032&&T<=12245||T>=12272&&T<=12287||T>=12289&&T<=12350||T>=12353&&T<=12438||T>=12441&&T<=12543||T>=12549&&T<=12591||T>=12593&&T<=12686||T>=12688&&T<=12773||T>=12783&&T<=12830||T>=12832&&T<=12871||T>=12880&&T<=42124||T>=42128&&T<=42182||T>=43360&&T<=43388||T>=44032&&T<=55203||T>=63744&&T<=64255||T>=65040&&T<=65049||T>=65072&&T<=65106||T>=65108&&T<=65126||T>=65128&&T<=65131||T>=94176&&T<=94180||T===94192||T===94193||T>=94208&&T<=100343||T>=100352&&T<=101589||T>=101631&&T<=101640||T>=110576&&T<=110579||T>=110581&&T<=110587||T===110589||T===110590||T>=110592&&T<=110882||T===110898||T>=110928&&T<=110930||T===110933||T>=110948&&T<=110951||T>=110960&&T<=111355||T>=119552&&T<=119638||T>=119648&&T<=119670||T===126980||T===127183||T===127374||T>=127377&&T<=127386||T>=127488&&T<=127490||T>=127504&&T<=127547||T>=127552&&T<=127560||T===127568||T===127569||T>=127584&&T<=127589||T>=127744&&T<=127776||T>=127789&&T<=127797||T>=127799&&T<=127868||T>=127870&&T<=127891||T>=127904&&T<=127946||T>=127951&&T<=127955||T>=127968&&T<=127984||T===127988||T>=127992&&T<=128062||T===128064||T>=128066&&T<=128252||T>=128255&&T<=128317||T>=128331&&T<=128334||T>=128336&&T<=128359||T===128378||T===128405||T===128406||T===128420||T>=128507&&T<=128591||T>=128640&&T<=128709||T===128716||T>=128720&&T<=128722||T>=128725&&T<=128727||T>=128732&&T<=128735||T===128747||T===128748||T>=128756&&T<=128764||T>=128992&&T<=129003||T===129008||T>=129292&&T<=129338||T>=129340&&T<=129349||T>=129351&&T<=129535||T>=129648&&T<=129660||T>=129664&&T<=129673||T>=129679&&T<=129734||T>=129742&&T<=129756||T>=129759&&T<=129769||T>=129776&&T<=129784||T>=131072&&T<=196605||T>=196608&&T<=262141}function v1(T){if(!Number.isSafeInteger(T))throw new TypeError(`Expected a code point, got \`${typeof T}\`.`)}function M7(T,{ambiguousAsWide:R=!1}={}){if(v1(T),f7(T)||U7(T)||R&&Z7(T))return 2;return 1}var Y7=XT(P7(),1),m1=new Intl.Segmenter,l1=/^\p{Default_Ignorable_Code_Point}$/u;function oC(T,R={}){if(typeof T!=="string"||T.length===0)return 0;let{ambiguousIsNarrow:A=!0,countAnsiEscapeCodes:q=!1}=R;if(!q)T=yq(T);if(T.length===0)return 0;let _=0,h={ambiguousAsWide:!A};for(let{segment:B}of m1.segment(T)){let C=B.codePointAt(0);if(C<=31||C>=127&&C<=159)continue;if(C>=8203&&C<=8207||C===65279)continue;if(C>=768&&C<=879||C>=6832&&C<=6911||C>=7616&&C<=7679||C>=8400&&C<=8447||C>=65056&&C<=65071)continue;if(C>=55296&&C<=57343)continue;if(C>=65024&&C<=65039)continue;if(l1.test(B))continue;if(Y7.default().test(B)){_+=2;continue}_+=M7(C,h)}return _}function rC({stream:T=process.stdout}={}){return Boolean(T&&T.isTTY&&process.env.TERM!=="dumb"&&!("CI"in process.env))}import c7 from"node:process";function pC(){let{env:T}=c7,{TERM:R,TERM_PROGRAM:A}=T;if(c7.platform!=="win32")return R!=="linux";return Boolean(T.WT_SESSION)||Boolean(T.TERMINUS_SUBLIME)||T.ConEmuTask==="{cmd::Cmder}"||A==="Terminus-Sublime"||A==="vscode"||R==="xterm-256color"||R==="alacritty"||R==="rxvt-unicode"||R==="rxvt-unicode-256color"||T.TERMINAL_EMULATOR==="JetBrains-JediTerm"}import xR from"node:process";var d1=3;class w7{#q=0;start(){if(this.#q++,this.#q===1)this.#A()}stop(){if(this.#q<=0)throw new Error("`stop` called more times than `start`");if(this.#q--,this.#q===0)this.#T()}#A(){if(xR.platform==="win32"||!xR.stdin.isTTY)return;xR.stdin.setRawMode(!0),xR.stdin.on("data",this.#h),xR.stdin.resume()}#T(){if(!xR.stdin.isTTY)return;xR.stdin.off("data",this.#h),xR.stdin.pause(),xR.stdin.setRawMode(!1)}#h(T){if(T[0]===d1)xR.emit("SIGINT")}}var o1=new w7,nC=o1;var r1=XT(mC(),1);class V7{#q=0;#A=!1;#T=0;#h=-1;#J=0;#R;#B;#_;#y;#$;#O;#W;#H;#I;#C;#D;color;constructor(T){if(typeof T==="string")T={text:T};if(this.#R={color:"cyan",stream:g_.stderr,discardStdin:!0,hideCursor:!0,...T},this.color=this.#R.color,this.spinner=this.#R.spinner,this.#$=this.#R.interval,this.#_=this.#R.stream,this.#O=typeof this.#R.isEnabled==="boolean"?this.#R.isEnabled:rC({stream:this.#_}),this.#W=typeof this.#R.isSilent==="boolean"?this.#R.isSilent:!1,this.text=this.#R.text,this.prefixText=this.#R.prefixText,this.suffixText=this.#R.suffixText,this.indent=this.#R.indent,g_.env.NODE_ENV==="test")this._stream=this.#_,this._isEnabled=this.#O,Object.defineProperty(this,"_linesToClear",{get(){return this.#q},set(R){this.#q=R}}),Object.defineProperty(this,"_frameIndex",{get(){return this.#h}}),Object.defineProperty(this,"_lineCount",{get(){return this.#T}})}get indent(){return this.#H}set indent(T=0){if(!(T>=0&&Number.isInteger(T)))throw new Error("The `indent` option must be an integer from 0 and up");this.#H=T,this.#i()}get interval(){return this.#$??this.#B.interval??100}get spinner(){return this.#B}set spinner(T){if(this.#h=-1,this.#$=void 0,typeof T==="object"){if(T.frames===void 0)throw new Error("The given spinner must have a `frames` property");this.#B=T}else if(!pC())this.#B=iq.default.line;else if(T===void 0)this.#B=iq.default.dots;else if(T!=="default"&&iq.default[T])this.#B=iq.default[T];else throw new Error(`There is no built-in spinner named '${T}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return this.#I}set text(T=""){this.#I=T,this.#i()}get prefixText(){return this.#C}set prefixText(T=""){this.#C=T,this.#i()}get suffixText(){return this.#D}set suffixText(T=""){this.#D=T,this.#i()}get isSpinning(){return this.#y!==void 0}#E(T=this.#C,R=" "){if(typeof T==="string"&&T!=="")return T+R;if(typeof T==="function")return T()+R;return""}#j(T=this.#D,R=" "){if(typeof T==="string"&&T!=="")return R+T;if(typeof T==="function")return R+T();return""}#i(){let T=this.#_.columns??80,R=this.#E(this.#C,"-"),A=this.#j(this.#D,"-"),q=" ".repeat(this.#H)+R+"--"+this.#I+"--"+A;this.#T=0;for(let _ of yq(q).split(`
`))this.#T+=Math.max(1,Math.ceil(oC(_,{countAnsiEscapeCodes:!0})/T))}get isEnabled(){return this.#O&&!this.#W}set isEnabled(T){if(typeof T!=="boolean")throw new TypeError("The `isEnabled` option must be a boolean");this.#O=T}get isSilent(){return this.#W}set isSilent(T){if(typeof T!=="boolean")throw new TypeError("The `isSilent` option must be a boolean");this.#W=T}frame(){let T=Date.now();if(this.#h===-1||T-this.#J>=this.interval)this.#h=++this.#h%this.#B.frames.length,this.#J=T;let{frames:R}=this.#B,A=R[this.#h];if(this.color)A=zT[this.color](A);let q=typeof this.#C==="string"&&this.#C!==""?this.#C+" ":"",_=typeof this.text==="string"?" "+this.text:"",h=typeof this.#D==="string"&&this.#D!==""?" "+this.#D:"";return q+A+_+h}clear(){if(!this.#O||!this.#_.isTTY)return this;this.#_.cursorTo(0);for(let T=0;T<this.#q;T++){if(T>0)this.#_.moveCursor(0,-1);this.#_.clearLine(1)}if(this.#H||this.lastIndent!==this.#H)this.#_.cursorTo(this.#H);return this.lastIndent=this.#H,this.#q=0,this}render(){if(this.#W)return this;return this.clear(),this.#_.write(this.frame()),this.#q=this.#T,this}start(T){if(T)this.text=T;if(this.#W)return this;if(!this.#O){if(this.text)this.#_.write(`- ${this.text}
`);return this}if(this.isSpinning)return this;if(this.#R.hideCursor)vC.hide(this.#_);if(this.#R.discardStdin&&g_.stdin.isTTY)this.#A=!0,nC.start();return this.render(),this.#y=setInterval(this.render.bind(this),this.interval),this}stop(){if(!this.#O)return this;if(clearInterval(this.#y),this.#y=void 0,this.#h=0,this.clear(),this.#R.hideCursor)vC.show(this.#_);if(this.#R.discardStdin&&g_.stdin.isTTY&&this.#A)nC.stop(),this.#A=!1;return this}succeed(T){return this.stopAndPersist({symbol:Jq.success,text:T})}fail(T){return this.stopAndPersist({symbol:Jq.error,text:T})}warn(T){return this.stopAndPersist({symbol:Jq.warning,text:T})}info(T){return this.stopAndPersist({symbol:Jq.info,text:T})}stopAndPersist(T={}){if(this.#W)return this;let R=T.prefixText??this.#C,A=this.#E(R," "),q=T.symbol??" ",_=T.text??this.text,B=typeof _==="string"?(q?" ":"")+_:"",C=T.suffixText??this.#D,O=this.#j(C," "),D=A+q+B+O+`
`;return this.stop(),this.#_.write(D),this}}function eT(T){return new V7(T)}var sC=["zinc","gray","slate","neutral","stone"];async function tC(T,R){let A=eT("Looking up possibilities...").start(),q=sC;A.stop();let _=R.yes?"zinc":await oR({message:"Pick your desired base gray:",choices:q.map((C)=>({name:C,value:C})),pageSize:15}),h=await fetch(eC(_));if(!h.ok)throw new Error(`Failed to fetch color: ${h.statusText}`);let B=await h.text();return m7(T,B,{flag:"w"}),_}async function l7(T,R){if(vR(3))NT(`This CLI supports ${AT("Justd 2.x")}, built with ${AT("Tailwind v4")}. However, you're currently using ${AT("Tailwind v3")}.`),process.exit(1);if(!await xT.doesConfigExist())NT(`${v8("justd.json not found")}. ${RR(`Please run ${AT("npx justd-cli@latest init")} to initialize the project.`)}`),process.exit(1);let q=await xT.loadConfig(),h=JSON.parse(v7.readFileSync(T6,"utf8")).css||x9();if(!T)h=await J7();let B=!0;if(!T){if(B=await Bq({message:`You will overwrite the current theme "${AT(q.gray)}" with ${R?AT(R):"others"}?`}),!B){console.info("Theme change canceled.");return}}let C=R||await tC(h,{yes:!1});if(C){let O=C.replace(".css",""),W=await(await fetch(eC(O))).text();m7(h,W,{flag:"w"}),await xT.updateConfig({gray:O,css:h}),console.info(` The gray changed to '${AT(O)}'`)}else console.info("No gray selected.")}var T8="https://raw.githubusercontent.com/irsyadadl/justd",p1=vR(3)?"1.x":"2.x",R8=p1,n1=`${T8}/refs/heads/${R8}/resources/styles/themes`,eC=(T)=>{if(!sC.includes(T))NT(`Invalid gray provided: ${T}`),process.exit(1);let R=`${n1}/${T}.css`;if(!R)NT("Failed to get the gray url"),process.exit(1);return R},S9=(T)=>{let R=`${T8}/${R8}/components/ui/${T}.tsx`;if(!R)throw new Error("REPO_URL environment variable is not set");return R},$q=(T)=>{let R=`${T8}/refs/heads/${R8}/utils/${T}`;if(!R)throw new Error("REPO_URL environment variable is not set");return R};var s1=["field","dropdown","dialog"];async function o7(T,R,A=new Set){if(A.has(R))return;let q=eH(),_=x_.join(process.cwd(),q,`index.${T.language==="javascript"?"js":"ts"}`),h="export * from './primitive';",B=`export * from './${R}';`,C=[];if(OR.existsSync(_))C=OR.readFileSync(_,"utf-8").split(`
`).map((D)=>D.trim()).filter((D)=>D!=="");if(C=C.filter((D)=>{let H=D.match(/export \* from '\.\/(.+)';/)?.[1];return H!=="primitive"&&!LA.includes(H??"")}),!C.includes(B))C.push(B);C=[h,...C.sort()],OR.writeFileSync(_,`${C.join(`
`)}
`,{flag:"w"}),A.add(R);let O=y9.find((D)=>D.name===R);if(O?.children)for(let D of O.children)await o7(T,D.name,A)}async function z_(T){let R=eT("Checking.").start(),{component:A,overwrite:q,successMessage:_}=T;if(!await xT.doesConfigExist()){R.fail(`${i9("justd.json not found")}. ${RR(`Please run ${AT("npx justd-cli@latest init")} to initialize the project.`)}`);return}let B=await xT.loadConfig();R.stop();let C=["primitive"],O=A?A.split(" "):[];if(O.length===0){let E=y9.filter((N)=>!C.includes(N.name)).sort((N,K)=>N.name.localeCompare(K.name)).map((N)=>({name:N.name,value:N.name}));O=await hq({required:!0,message:"Select components to add:",choices:E,pageSize:17,loop:!1})}let D=await O_(),W=D==="npm"?"i ":"add ",H=[],J=new Set,y=new Set;try{R.start("Checking.");for(let E of O){if(LA.includes(E)||s1.includes(E))continue;let N=S9(E);if(!(await fetch(N)).ok)NT(`Component '${E}' not found at ${N}`),process.exit(1)}R.succeed("Checking.")}catch(E){R.fail("Error looking up the component.");return}R.start("Installing dependencies.");try{let E=x_.join(B.utils,`classes.${B.language==="javascript"?"js":"ts"}`);if(!OR.existsSync(E)){if(!OR.existsSync(B.utils))OR.mkdirSync(B.utils,{recursive:!0});let G=await(await fetch($q("classes.ts"))).text();await rR(B,{ogFilename:"classes.ts",writePath:E,content:G}),H.push(E)}if(await Promise.resolve(O.some((k)=>["popover","dialog","sidebar","navbar","command-menu","number-field"].includes(k)))){let k=x_.join(B.utils,`use-media-query.${B.language==="javascript"?"js":"ts"}`);if(!OR.existsSync(k)){let F=await(await fetch($q("use-media-query.ts"))).text();await rR(B,{ogFilename:"use-media-query.ts",writePath:k,content:F}),H.push(k)}}for(let k of O)try{let G=y9.find((g)=>g.name===k);if(!G){d8(`Component '${AT(k)}' not found in local resources.`);continue}let F=a9(B,k);if(OR.existsSync(F)&&!q){J.add(F);continue}if(LA.includes(k)&&G.children)for(let g of G.children)await A8(B,{componentName:g.name,packageManager:D,action:W,processed:y,allComponents:y9,overwrite:q,isChild:!0,createdFiles:H,existingFiles:J});else await A8(B,{componentName:k,packageManager:D,action:W,processed:y,allComponents:y9,overwrite:q,isChild:!1,createdFiles:H,existingFiles:J});await o7(B,k)}catch(G){console.error(i9(`Error processing '${k}'.`))}let N=y9.filter((k)=>!C.includes(k.name)&&!LA.includes(k.name)).map((k)=>k.name);if(O.length===N.length)for(let k of Object.keys(aq))await aq(k,D,W);else for(let k of O)await aq(k,D,W);R.succeed()}catch(E){R.fail("Failed to install dependencies. Please check the logs for more information.");return}let $=H.length===1?"file":"files";if(H.length>0){let E=q?"Overwrite":"Created";if(_)R.succeed(`Updated ${H.length} ${$}:`);else R.succeed(`${E} ${H.length} ${$}:`);H.forEach((N)=>console.info(`  - ${N}`))}if(J.size>0&&!q)console.info(zT.yellow(` ${J.size} ${$} already existed:`)),Array.from(J).forEach((E)=>console.info(`  - ${E}`))}async function A8(T,R){if(R.processed.has(R.componentName))return;let A=a9(T,R.componentName);if(OR.existsSync(A))if(R.overwrite&&!R.isChild)OR.rmSync(A,{recursive:!0,force:!0}),await d7(T,R.componentName),R.createdFiles.push(a9(T,R.componentName));else{R.existingFiles.add(a9(T,R.componentName));return}else await d7(T,R.componentName),R.createdFiles.push(a9(T,R.componentName));let q=R.allComponents.find((_)=>_.name===R.componentName);if(q?.children)for(let _ of q.children)await A8(T,{...R,componentName:_.name});R.processed.add(R.componentName)}async function d7(T,R){let A=a9(T,R),q=x_.dirname(A);if(!OR.existsSync(q))OR.mkdirSync(q,{recursive:!0});let _=S9(R);try{let h=await fetch(_);if(!h.ok)NT(`Failed to fetch component: ${h.statusText}`),process.exit(1);let B=await h.text();await rR(T,{writePath:A,ogFilename:`${R}.tsx`,content:B})}catch(h){console.log(h),NT(`Error writing component: ${R}`),process.exit(1)}}import t7 from"node:fs";import T4 from"node:path";function pR(){}pR.prototype={diff:function T(R,A){var q,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=_.callback;if(typeof _==="function")h=_,_={};this.options=_;var B=this;function C(F){if(h)return setTimeout(function(){h(void 0,F)},0),!0;else return F}R=this.castInput(R),A=this.castInput(A),R=this.removeEmpty(this.tokenize(R)),A=this.removeEmpty(this.tokenize(A));var O=A.length,D=R.length,W=1,H=O+D;if(_.maxEditLength)H=Math.min(H,_.maxEditLength);var J=(q=_.timeout)!==null&&q!==void 0?q:1/0,y=Date.now()+J,$=[{oldPos:-1,lastComponent:void 0}],E=this.extractCommon($[0],A,R,0);if($[0].oldPos+1>=D&&E+1>=O)return C([{value:this.join(A),count:A.length}]);var N=-1/0,K=1/0;function k(){for(var F=Math.max(N,-W);F<=Math.min(K,W);F+=2){var g=void 0,P=$[F-1],V=$[F+1];if(P)$[F-1]=void 0;var m=!1;if(V){var kT=V.oldPos-F;m=V&&0<=kT&&kT<O}var TR=P&&P.oldPos+1<D;if(!m&&!TR){$[F]=void 0;continue}if(!TR||m&&P.oldPos+1<V.oldPos)g=B.addToPath(V,!0,void 0,0);else g=B.addToPath(P,void 0,!0,1);if(E=B.extractCommon(g,A,R,F),g.oldPos+1>=D&&E+1>=O)return C(t1(B,g.lastComponent,A,R,B.useLongestToken));else{if($[F]=g,g.oldPos+1>=D)K=Math.min(K,F-1);if(E+1>=O)N=Math.max(N,F+1)}}W++}if(h)(function F(){setTimeout(function(){if(W>H||Date.now()>y)return h();if(!k())F()},0)})();else while(W<=H&&Date.now()<=y){var G=k();if(G)return G}},addToPath:function T(R,A,q,_){var h=R.lastComponent;if(h&&h.added===A&&h.removed===q)return{oldPos:R.oldPos+_,lastComponent:{count:h.count+1,added:A,removed:q,previousComponent:h.previousComponent}};else return{oldPos:R.oldPos+_,lastComponent:{count:1,added:A,removed:q,previousComponent:h}}},extractCommon:function T(R,A,q,_){var h=A.length,B=q.length,C=R.oldPos,O=C-_,D=0;while(O+1<h&&C+1<B&&this.equals(A[O+1],q[C+1]))O++,C++,D++;if(D)R.lastComponent={count:D,previousComponent:R.lastComponent};return R.oldPos=C,O},equals:function T(R,A){if(this.options.comparator)return this.options.comparator(R,A);else return R===A||this.options.ignoreCase&&R.toLowerCase()===A.toLowerCase()},removeEmpty:function T(R){var A=[];for(var q=0;q<R.length;q++)if(R[q])A.push(R[q]);return A},castInput:function T(R){return R},tokenize:function T(R){return R.split("")},join:function T(R){return R.join("")}};function t1(T,R,A,q,_){var h=[],B;while(R)h.push(R),B=R.previousComponent,delete R.previousComponent,R=B;h.reverse();var C=0,O=h.length,D=0,W=0;for(;C<O;C++){var H=h[C];if(!H.removed){if(!H.added&&_){var J=A.slice(D,D+H.count);J=J.map(function(E,N){var K=q[W+N];return K.length>E.length?K:E}),H.value=T.join(J)}else H.value=T.join(A.slice(D,D+H.count));if(D+=H.count,!H.added)W+=H.count}else if(H.value=T.join(q.slice(W,W+H.count)),W+=H.count,C&&h[C-1].added){var y=h[C-1];h[C-1]=h[C],h[C]=y}}var $=h[O-1];if(O>1&&typeof $.value==="string"&&($.added||$.removed)&&T.equals("",$.value))h[O-2].value+=$.value,h.pop();return h}var Uz=new pR;var r7=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,p7=/\S/,n7=new pR;n7.equals=function(T,R){if(this.options.ignoreCase)T=T.toLowerCase(),R=R.toLowerCase();return T===R||this.options.ignoreWhitespace&&!p7.test(T)&&!p7.test(R)};n7.tokenize=function(T){var R=T.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(var A=0;A<R.length-1;A++)if(!R[A+1]&&R[A+2]&&r7.test(R[A])&&r7.test(R[A+2]))R[A]+=R[A+2],R.splice(A+1,2),A--;return R};var h8=new pR;h8.tokenize=function(T){if(this.options.stripTrailingCr)T=T.replace(/\r\n/g,`
`);var R=[],A=T.split(/(\n|\r\n)/);if(!A[A.length-1])A.pop();for(var q=0;q<A.length;q++){var _=A[q];if(q%2&&!this.options.newlineIsToken)R[R.length-1]+=_;else{if(this.options.ignoreWhitespace)_=_.trim();R.push(_)}}return R};function s7(T,R,A){return h8.diff(T,R,A)}var e1=new pR;e1.tokenize=function(T){return T.split(/(\S.+?[.!?])(?=\s+|$)/)};var T$=new pR;T$.tokenize=function(T){return T.split(/([{}:;,]|\s+)/)};function X_(T){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")X_=function(R){return typeof R};else X_=function(R){return R&&typeof Symbol==="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};return X_(T)}var R$=Object.prototype.toString,Iq=new pR;Iq.useLongestToken=!0;Iq.tokenize=h8.tokenize;Iq.castInput=function(T){var R=this.options,A=R.undefinedReplacement,q=R.stringifyReplacer,_=q===void 0?function(h,B){return typeof B==="undefined"?A:B}:q;return typeof T==="string"?T:JSON.stringify(q8(T,null,null,_),_,"  ")};Iq.equals=function(T,R){return pR.prototype.equals.call(Iq,T.replace(/,([\r\n])/g,"$1"),R.replace(/,([\r\n])/g,"$1"))};function q8(T,R,A,q,_){if(R=R||[],A=A||[],q)T=q(_,T);var h;for(h=0;h<R.length;h+=1)if(R[h]===T)return A[h];var B;if(R$.call(T)==="[object Array]"){R.push(T),B=new Array(T.length),A.push(B);for(h=0;h<T.length;h+=1)B[h]=q8(T[h],R,A,q,_);return R.pop(),A.pop(),B}if(T&&T.toJSON)T=T.toJSON();if(X_(T)==="object"&&T!==null){R.push(T),B={},A.push(B);var C=[],O;for(O in T)if(T.hasOwnProperty(O))C.push(O);C.sort();for(h=0;h<C.length;h+=1)O=C[h],B[O]=q8(T[O],R,A,q,O);R.pop(),A.pop()}else B=T;return B}var _8=new pR;_8.tokenize=function(T){return T.slice()};_8.join=_8.removeEmpty=function(T){return T};var A$=(T,R)=>{return T4.join(T.ui,`${R}.tsx`)},q$=async(T)=>{let R=S9(T),A=await fetch(R);if(!A.ok)throw new Error(`Failed to fetch component: ${A.statusText}`);return A.text()},e7=(T)=>{return T.replace(/['"]use client['"];/g,"").replace(/['"]use client['"]\n/g,"").replace(/"/g,"'").replace(/,\s*([\]}])/g,"$1").replace(/\s*;\s*$/gm,"").replace(/\r?\n/g,`
`).replace(/\s*\n\s*/g,`
`).replace(/\t/g,"  ").replace(/\s*{\s*/g,"{").replace(/\s*}\s*/g,"}").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/(\w+):\s*'([^']*)'/g,(R,A,q)=>{let _=q.split(" ").sort().join(" ");return`${A}: '${_}'`}).replace(/(\d+):\s*'([^']*)'/g,(R,A,q)=>{let _=q.split(" ").sort().join(" ");return`${A}: '${_}'`}).replace(/,\s*}/g,"}").replace(/>\s*\n\s*</g,"><").replace(/<([^>]+)\s*\n\s*([^>]+)>/g,(R,A,q)=>`<${A} ${q}>`).replace(/(\w+)<\s*\n\s*/g,(R,A)=>`${A}<`).replace(/\(([^)]+)\)\s*=>/g,(R,A)=>{return`(${A.replace(/\s*\n\s*/g," ").trim()}) =>`}).replace(/className:\s*'([^']+)'/g,(R,A)=>{return`className: '${A.split(" ").sort().join(" ")}'`}).replace(/(<[^>]+)\s+([a-zA-Z-]+)=/g,"$1 $2=").trim()};var _$=(T,R)=>{let A=e7(T),q=e7(R);return s7(A,q).filter((h)=>h.added||h.removed)},R4=async(...T)=>{try{let R=eT("Checking.").start();if(!await xT.doesConfigExist()){R.fail(`${i9("justd.json not found")}. ${RR(`Please run ${AT("npx justd-cli@latest init")} to initialize the project.`)}`);return}let q=await xT.loadConfig(),_=q.ui,h=["index"],B=t7.readdirSync(_).filter((D)=>D.endsWith(".tsx")).map((D)=>T4.basename(D,".tsx")).filter((D)=>!h.includes(D));if(T.length>0)B=B.filter((D)=>T.includes(D));let C=[],O=[];for(let D of B){let W=A$(q,D),H=t7.readFileSync(W,"utf-8");try{let J=await q$(D);if(_$(H,J).length>0)C.push(D);else O.push(D)}catch(J){}}if(R.succeed("Checking."),console.log(zT.green(`
Up-to-date components:`)),O.forEach((D)=>console.log(zT.green(` ${D}`))),console.log(`
`),console.log(zT.yellow("Changed components:")),C.forEach((D)=>console.log(zT.red(`- ${D}`))),console.log(`
`),C.length>0){let D=await hq({message:"Select components to update",pageSize:15,choices:[...C.map((W)=>({title:W,value:W}))],initial:C});await z_({component:D.join(" "),overwrite:!0,successMessage:"Updating components..."})}else console.log(zT.green(" All components are up to date."))}catch(R){console.error(zT.red("Error checking differences:"),R.message)}};var h$=GA.version;function A4(T){T.command("help [command]").description("Show help information").action((R)=>{if(console.log(`CLI Tool v${h$}
`),R){let A=T.commands.find((q)=>q.name()===R);if(A)A.outputHelp();else console.log(`Command "${R}" not found.`)}else T.outputHelp()})}import cT,{writeFileSync as y$}from"node:fs";var I4=XT(h4(),1);import{spawn as i$}from"node:child_process";import hT from"node:path";import{fileURLToPath as $$}from"node:url";import D$ from"node:fs";import NA from"node:process";import B4 from"node:fs";function C4(T){return B4.existsSync(T)&&B4.lstatSync(T).isDirectory()}async function C8(T){let{spawnSync:R}=await import("node:child_process");return R(T,["--version"],{shell:!0,stdio:"ignore"}).status===0}var D4=async(T,R,A,q)=>{let _=["composer","create-project","laravel/laravel",R,"&&","cd",R,"&&"],h=T==="bun"?"bun.lockb":T==="pnpm"?"pnpm-lock.yaml":T==="yarn"?"yarn.lock":null;if(h)_.push(`node -e "require('fs').writeFileSync('${h}', '')"`,"&&");if(_.push("composer","require","laravel/breeze","--dev","&&","php","artisan","breeze:install","react","--ssr",A==="typescript"?"--typescript":"","--eslint","--no-interaction"),q?.usePest)_.push("--pest");return _},O4=async(T,R,A,q)=>{let h=["npx create-next-app@latest",R,"--tailwind","--turbopack","--eslint",A==="typescript"?"--ts":"--js","--app","--import-alias='@/*'",T==="bun"?"--use-bun":T==="yarn"?"--use-yarn":T==="pnpm"?"--use-pnpm":"--use-npm"];if(q?.useSrc)h.push("--src-dir");else h.push("--no-src-dir");return h},W4=async(T,R)=>{return["npx","create-remix@latest","--yes",`--package-manager=${T}`,R]},H4=async(T,R)=>{switch(T){case"bun":return["bun","create","vite","--template","react-ts",R];case"yarn":return["yarn","create","vite","--template","react-ts",R];case"pnpm":return["pnpm","create","vite","--template","react-ts",R];default:return["npm","create","vite@latest","--template","react-ts",R]}};import{spawn as C$}from"node:child_process";async function nR(T,R){let A=eT(R).start();return new Promise((q,_)=>{let h=C$(T[0],T.slice(1),{stdio:"ignore",shell:!0});h.on("error",(B)=>{A.fail(`Error: ${B.message}`),_(B)}),h.on("close",(B)=>{if(B!==0)A.fail(`Command failed: ${T.join(" ")}`),_(new Error(`Command failed: ${T.join(" ")}`));else A.succeed(R),q()})})}function J4(T){return T==="bun"?["bun","add","tailwindcss","postcss","autoprefixer","-d"]:T==="yarn"?["yarn","add","-D","tailwindcss","postcss","autoprefixer"]:T==="pnpm"?["pnpm","add","-D","tailwindcss","postcss","autoprefixer"]:["npm","install","-D","tailwindcss","postcss","autoprefixer"]}async function y4(T){await nR(T==="bun"?["bun","add","-d","@biomejs/biome"]:T==="yarn"?["yarn","add","-D","@biomejs/biome"]:T==="pnpm"?["pnpm","add","-D","@biomejs/biome"]:["npm","install","-D","@biomejs/biome"],"Setting up Biome."),await nR(["npx","biome","init"],"Initializing Biome.")}var O$=NA.env.NODE_ENV==="production",W$=O$?"justd-cli@latest":"justd-cli",Eq={laravel:{name:"Laravel",createCommand:(T,R,A,q)=>D4(T,R,A,q)},next:{name:"Next.js",createCommand:(T,R,A,q)=>O4(T,R,A,q)},remix:{name:"Remix",createCommand:(T,R)=>W4(T,R)},vite:{name:"Vite",createCommand:(T,R)=>H4(T,R)}};async function i4(T,R){if(["y","yes"].includes(T.trim().toLowerCase())){let A=R==="javascript"?Object.keys(Eq).filter((J)=>["laravel","next"].includes(J)):Object.keys(Eq),q=await oR({message:"Which framework do you want to use?",choices:A.map((J)=>({name:Eq[J].name,value:J}))}),_=await tT({message:"What should your project be named?",default:"app",validate:(J)=>J.trim()!==""||"Project name cannot be empty."});if(C4(_))console.info(""),NT(`The directory '${_}' already exists. Please choose a different name or remove the existing directory.`),NA.exit(1);let h={};if(q==="laravel"){let J=await oR({message:"Which testing framework do you want to use?",choices:[{name:"Pest",value:"pest"},{name:"PHPUnit",value:"phpunit"}]});if(h.usePest=J==="pest",!await C8("composer"))console.info(""),NT(`Composer is not installed on your system. 
Please install Composer to proceed with the Laravel setup.`),NA.exit(1)}if(q==="next"){let J=await tT({message:`Do you want to use the src folder? (Y/${RR("n")})`,default:"Yes",validate:(y)=>{let $=y.trim().toLowerCase();return["y","n","yes","no","Yes","No"].includes($)||"Please answer yes or no."}});h.useSrc=["y","yes"].includes(J.trim().toLowerCase())}let B=await tT({message:`Do you want to use Tailwind version 4? (Y/${RR("n")})`,default:"Yes",validate:(J)=>{let y=J.trim().toLowerCase();return["y","n","yes","no"].includes(y)||"Please answer yes or no."}}),C=await tT({message:`Do you want to use Biome for this project? (Y/${RR("n")})`,default:"Yes",validate:(J)=>{let y=J.trim().toLowerCase();return["y","n","yes","no"].includes(y)||"Please answer yes or no."}}),O=await oR({message:"Which package manager do you want to use?",choices:[{name:"Bun",value:"bun"},{name:"Yarn",value:"yarn"},{name:"npm",value:"npm"},{name:"pnpm",value:"pnpm"}],default:"bun"});if(O!=="npm"){if(!await C8(O))NT(`${O} is not installed on your system. Please install ${O} to proceed.`),NA.exit(1)}let D=await Eq[q].createCommand(O,_,R,h);if(await nR(D,`Creating ${Eq[q].name} project.`),D$.mkdirSync(_,{recursive:!0}),NA.chdir(_),q==="vite")await nR(J4(O),"Setting up Tailwind CSS."),await nR(["npx","tailwindcss","init","-p"],"Initializing Tailwind CSS.");if(B)await nR(["npx","@tailwindcss/upgrade@next","--force"],"Upgrading to Tailwind CSS v4.");if(["y","yes"].includes(C.trim().toLowerCase()))await y4(O);if(await nR(["npx",W$,"init",R==="typescript"?"--language --ts":"--language --js","--force","--yes"],"Finishing."),console.info(`
Project setup is now complete.`),q==="laravel")console.info(`Start your development server by running: ${AT(`cd ${_} && composer run dev`)}
`);else console.info(`Start your development server by running: ${AT(`cd ${_} && npm run dev`)}
`);console.info("Ready to customize your project?"),console.info(`Add new components by running: ${AT("npx justd-cli@latest add")}`)}else NA.exit(0)}import{execSync as H$}from"node:child_process";import J$ from"node:fs";function $4(){if(!J$.existsSync(".git"))return!1;try{return H$("git status --porcelain",{encoding:"utf-8"}).trim()!==""}catch(T){return!T?.toString?.().includes("not a git repository")}}var I$=$$(import.meta.url),E$=hT.dirname(I$),wT=hT.resolve(E$,"../src/resources/stubs");async function E4(T){let R=T.language||"typescript";if(!R6()){let Y=(await tT({message:`No setup project detected. Do you want to start a new project? (Y/${RR("n")})`,default:"Yes",validate:(s)=>{let DT=s.trim().toLowerCase();return["y","n","yes","no"].includes(DT)||"Please answer yes or no."}})).trim().toLowerCase();if(Y==="y"||Y==="yes"||Y==="n"||Y==="no"){R=await oR({message:"What language do you want to use?",choices:[{name:"Typescript",value:"typescript"},{name:"Javascript",value:"javascript"}],default:"typescript"}),await i4(Y,R);return}}if(R=tH()?"typescript":"javascript",!T.force){let d=eT("Checking.").start();if($4())d.stop(),NT("Git directory is not clean. Please stash or commit your changes before running the init command."),l8(`You may use the ${AT("--force")} flag to silence this warning and perform the initialization anyway.`),process.exit(1);d.stop()}let A=eT("Initializing.").start();if(!iC()){A.fail("The tailwindcss package is not installed. Please install before running the init command."),A.stop();return}setTimeout(()=>{A.color="yellow",A.text="Loading rainbows"},1000),await new Promise((d)=>setTimeout(d,1000));let _,h,B,C,O,D,W;if(A.succeed("Initializing."),T.yes)_=OA(),B=hT.join(_,"ui"),W=yC(),C=x9();else _=await tT({message:"Components folder:",default:OA(),validate:(d)=>d.trim()!==""||"Path cannot be empty. Please enter a valid path."}),B=hT.join(_,"ui"),W=await tT({message:"Utils folder:",default:yC(),validate:(d)=>d.trim()!==""||"Path cannot be empty. Please enter a valid path."}),C=await tT({message:"Where would you like to place the CSS file?",default:x9(),validate:(d)=>d.trim()!==""||"Path cannot be empty. Please enter a valid path."});if(YT()&&UT("src"))h=hT.join(wT,"1.x/tailwind.config.src.next.stub"),O=hT.join(wT,"next/theme-provider.stub"),D=hT.join(wT,"next/providers.stub");else if(YT()&&!UT("src"))h=hT.join(wT,"1.x/tailwind.config.next.stub"),O=hT.join(wT,"next/theme-provider.stub"),D=hT.join(wT,"next/providers.stub");else if(C9())h=hT.join(wT,"1.x/tailwind.config.laravel.stub"),O=hT.join(wT,"laravel/theme-provider.stub"),D=hT.join(wT,"laravel/providers.stub");else if(aR())h=hT.join(wT,"1.x/tailwind.config.vite.stub"),O=hT.join(wT,"remix/theme-provider.stub"),D=hT.join(wT,"remix/providers.stub");else h=hT.join(wT,"1.x/tailwind.config.vite.stub"),O=hT.join(wT,"next/theme-provider.stub"),D=hT.join(wT,"next/providers.stub");if(vR(3)){let d=cT.existsSync("tailwind.config.js")?"tailwind.config.js":"tailwind.config.ts";try{let Y=cT.readFileSync(h,"utf8");cT.writeFileSync(d,Y,{flag:"w"})}catch(Y){A.fail(`Failed to write Tailwind config to ${d}: ${Y.message}`)}}if(!cT.existsSync(W))cT.mkdirSync(W,{recursive:!0});if(!cT.existsSync(B))cT.mkdirSync(B,{recursive:!0});async function H(d){let s=(d==="typescript"?[hT.join(process.cwd(),"tsconfig.app.json"),hT.join(process.cwd(),"tsconfig.json")]:[hT.join(process.cwd(),"jsconfig.json")]).find((JR)=>cT.existsSync(JR)),DT;if(!s)console.error(d==="typescript"?"Neither tsconfig.app.json nor tsconfig.json was found.":"jsconfig.json was not found."),process.exit(1);try{let JR=cT.readFileSync(s,"utf8"),bR=Cq(JR);DT=JSON.parse(bR)}catch{console.error(`Error reading ${s} file. Please check if it exists and is valid JSON.`),process.exit(1)}if(!DT.compilerOptions)DT.compilerOptions={};if(!("paths"in DT.compilerOptions)){DT.compilerOptions.paths={"@/*":["./src/*"]};let bR=eT(`Updating ${hT.basename(s)} with paths...`).start();try{let uA=JSON.stringify(DT,null,2);cT.writeFileSync(s,uA),bR.succeed(`Paths added to ${hT.basename(s)}.`)}catch(uA){bR.fail(`Failed to write to ${hT.basename(s)}.`),process.exit(1)}}await y7(d);let HR=DT.compilerOptions.paths;if(HR)return Object.keys(HR)[0].replace("/*","");process.exit(1)}let J=await H(R);if(vR(3)){let d=cT.readFileSync(hT.join(wT,"1.x/zinc.css"),"utf8");y$(C,d,{flag:"w"})}let y=vR(3)?"zinc.css":await tC(C,T),$={ui:B,utils:W,gray:y?.replace(".css",""),css:C,alias:J||void 0,language:R},E=await O_(),N=["react-aria-components","justd-icons"].join(" "),K=["tailwind-variants","tailwind-merge","tailwindcss-animate"].join(" ");if(vR(3))K+=" tailwindcss-react-aria-components";if(YT())K+=" next-themes";if(aR())K+=" remix-themes";let k=await xT.createConfig($).catch((d)=>{d("Error writing to justd.json:",d?.message),process.exit(1)}),G=E==="npm"?"i":"add",F=`${E} ${G} ${N} && ${E} ${G} -D ${K}  --silent`;A.start("Installing dependencies.");let g=i$(F,{stdio:["ignore","ignore","ignore"],shell:!0});await new Promise((d)=>{g.on("close",()=>{d()})});let P=S9("primitive"),V=await fetch(P);if(!V.ok)throw new Error(`Failed to fetch component: ${V.statusText}`);let m=await V.text();await rR(k,{writePath:hT.join(B,"primitive.tsx"),ogFilename:"primitive.tsx",content:m}),cT.writeFileSync(hT.join(B,WA(R,"index.ts")),"export * from './primitive';",{flag:"w"});let TR=await(await fetch($q("classes.ts"))).text();if(await rR(k,{writePath:hT.join(W,"classes.ts"),ogFilename:"classes.ts",content:TR}),O){let d=cT.readFileSync(O,"utf8");if(await rR(k,{ogFilename:"theme-provider.tsx",writePath:hT.join(_,"theme-provider.tsx"),content:d}),D){let Y=cT.readFileSync(D,"utf8");await rR(k,{ogFilename:"providers.tsx",writePath:hT.join(_,"providers.tsx"),content:Y})}}if(A.succeed("Installing dependencies."),A.start("Configuring."),await new Promise((d)=>setTimeout(d,1000)),A.succeed("Configuring."),!cT.existsSync(B))cT.mkdirSync(B,{recursive:!0});if(A.succeed(`UI folder created at ${AT(`${B}`)}`),A.succeed(`Primitive file saved to ${AT(`${B}/${WA(R,"providers.tsx")}`)}`),A.succeed(`Classes file saved to ${AT(`${W}/${WA(R,"classes.ts")}`)}`),O)A.succeed(`Theme Provider file saved to ${AT(`"${_}/${WA(R,"theme-provider.ts")}"`)}`),A.succeed(`Providers file saved to ${AT(`"${_}/${WA(R,"providers.tsx")}"`)}`);A.start(`Configuration saved to ${AT('"justd.json"')}`),await new Promise((d)=>setTimeout(d,500)),A.succeed(`Configuration saved to ${AT("justd.json")}`),A.succeed("Installation complete."),console.info(`

Not sure what to do next?`),console.info(`Visit our documentation at: ${AT("https://getjustd.com")}`),console.info(`
Now try to add some components to your project`),console.info(`by running: ${AT("npx justd-cli@latest add")}`),I4.default.text("Justd",{font:"Standard",horizontalLayout:"default",width:80,verticalLayout:"default"},(d,Y)=>{console.info(AT(Y))}),A.stop()}var j$=GA.version,j4=process.argv.slice(2);if(j4.includes("--version")||j4.includes("-v"))console.log(GA.version),process.exit(0);XR.version(j$,"-v, --version","Output the version number").description("CLI Tool Description");XR.command("init").option("--force","Force initialization without checking Git").option("-y, --yes","Skip prompts and use default values").option("-l, --language <language>","Language of the project (typescript or javascript)","typescript").option("--ts","Use TypeScript for the project").option("--js","Use JavaScript for the project").action((T)=>{let R=T.language;if(T.ts)R="typescript";if(T.js)R="javascript";E4({...T,language:R})});XR.command("add [components...]").option("--skip <type>","Skip").option("-o, --overwrite","Override existing components").action(async(T,R)=>{await z_({component:T.join(" "),...R})});XR.command("change-gray [name]").description("Change the current gray").option("-y, --yes","Skip confirmation prompt").action(async(T,R)=>{await l7(R.yes,T)});XR.command("theme").description("Open theme customization page").action(async()=>{await P8("https://getjustd.com/themes")});XR.command("diff [components...]").description("Show differences between local and remote components").action(async(T)=>{await R4(...T)});A4(XR);XR.parse(process.argv);
